var ev=Object.defineProperty;var tv=(e,t,r)=>t in e?ev(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var W=(e,t,r)=>tv(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var _o=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function es(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cm={exports:{}},ts={},Mm={exports:{}},re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Si=Symbol.for("react.element"),rv=Symbol.for("react.portal"),nv=Symbol.for("react.fragment"),av=Symbol.for("react.strict_mode"),iv=Symbol.for("react.profiler"),ov=Symbol.for("react.provider"),sv=Symbol.for("react.context"),lv=Symbol.for("react.forward_ref"),uv=Symbol.for("react.suspense"),cv=Symbol.for("react.memo"),fv=Symbol.for("react.lazy"),If=Symbol.iterator;function dv(e){return e===null||typeof e!="object"?null:(e=If&&e[If]||e["@@iterator"],typeof e=="function"?e:null)}var Am={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tm=Object.assign,Im={};function da(e,t,r){this.props=e,this.context=t,this.refs=Im,this.updater=r||Am}da.prototype.isReactComponent={};da.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};da.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Om(){}Om.prototype=da.prototype;function Ku(e,t,r){this.props=e,this.context=t,this.refs=Im,this.updater=r||Am}var Xu=Ku.prototype=new Om;Xu.constructor=Ku;Tm(Xu,da.prototype);Xu.isPureReactComponent=!0;var Of=Array.isArray,Nm=Object.prototype.hasOwnProperty,Zu={current:null},Um={key:!0,ref:!0,__self:!0,__source:!0};function Lm(e,t,r){var n,a={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Nm.call(t,n)&&!Um.hasOwnProperty(n)&&(a[n]=t[n]);var s=arguments.length-2;if(s===1)a.children=r;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(n in s=e.defaultProps,s)a[n]===void 0&&(a[n]=s[n]);return{$$typeof:Si,type:e,key:i,ref:o,props:a,_owner:Zu.current}}function pv(e,t){return{$$typeof:Si,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ec(e){return typeof e=="object"&&e!==null&&e.$$typeof===Si}function mv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Nf=/\/+/g;function Ms(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mv(""+e.key):t.toString(36)}function ro(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Si:case rv:o=!0}}if(o)return o=e,a=a(o),e=n===""?"."+Ms(o,0):n,Of(a)?(r="",e!=null&&(r=e.replace(Nf,"$&/")+"/"),ro(a,t,r,"",function(u){return u})):a!=null&&(ec(a)&&(a=pv(a,r+(!a.key||o&&o.key===a.key?"":(""+a.key).replace(Nf,"$&/")+"/")+e)),t.push(a)),1;if(o=0,n=n===""?".":n+":",Of(e))for(var s=0;s<e.length;s++){i=e[s];var l=n+Ms(i,s);o+=ro(i,t,r,l,a)}else if(l=dv(e),typeof l=="function")for(e=l.call(e),s=0;!(i=e.next()).done;)i=i.value,l=n+Ms(i,s++),o+=ro(i,t,r,l,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oi(e,t,r){if(e==null)return e;var n=[],a=0;return ro(e,n,"","",function(i){return t.call(r,i,a++)}),n}function hv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},no={transition:null},gv={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:no,ReactCurrentOwner:Zu};function Rm(){throw Error("act(...) is not supported in production builds of React.")}re.Children={map:Oi,forEach:function(e,t,r){Oi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Oi(e,function(){t++}),t},toArray:function(e){return Oi(e,function(t){return t})||[]},only:function(e){if(!ec(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};re.Component=da;re.Fragment=nv;re.Profiler=iv;re.PureComponent=Ku;re.StrictMode=av;re.Suspense=uv;re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv;re.act=Rm;re.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Tm({},e.props),a=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Zu.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)Nm.call(t,l)&&!Um.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&s!==void 0?s[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:Si,type:e.type,key:a,ref:i,props:n,_owner:o}};re.createContext=function(e){return e={$$typeof:sv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ov,_context:e},e.Consumer=e};re.createElement=Lm;re.createFactory=function(e){var t=Lm.bind(null,e);return t.type=e,t};re.createRef=function(){return{current:null}};re.forwardRef=function(e){return{$$typeof:lv,render:e}};re.isValidElement=ec;re.lazy=function(e){return{$$typeof:fv,_payload:{_status:-1,_result:e},_init:hv}};re.memo=function(e,t){return{$$typeof:cv,type:e,compare:t===void 0?null:t}};re.startTransition=function(e){var t=no.transition;no.transition={};try{e()}finally{no.transition=t}};re.unstable_act=Rm;re.useCallback=function(e,t){return tt.current.useCallback(e,t)};re.useContext=function(e){return tt.current.useContext(e)};re.useDebugValue=function(){};re.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};re.useEffect=function(e,t){return tt.current.useEffect(e,t)};re.useId=function(){return tt.current.useId()};re.useImperativeHandle=function(e,t,r){return tt.current.useImperativeHandle(e,t,r)};re.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};re.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};re.useMemo=function(e,t){return tt.current.useMemo(e,t)};re.useReducer=function(e,t,r){return tt.current.useReducer(e,t,r)};re.useRef=function(e){return tt.current.useRef(e)};re.useState=function(e){return tt.current.useState(e)};re.useSyncExternalStore=function(e,t,r){return tt.current.useSyncExternalStore(e,t,r)};re.useTransition=function(){return tt.current.useTransition()};re.version="18.3.1";Mm.exports=re;var Z=Mm.exports;const rs=es(Z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wv=Z,yv=Symbol.for("react.element"),vv=Symbol.for("react.fragment"),_v=Object.prototype.hasOwnProperty,bv=wv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sv={key:!0,ref:!0,__self:!0,__source:!0};function Dm(e,t,r){var n,a={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)_v.call(t,n)&&!Sv.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:yv,type:e,key:i,ref:o,props:a,_owner:bv.current}}ts.Fragment=vv;ts.jsx=Dm;ts.jsxs=Dm;Cm.exports=ts;var b=Cm.exports,El={},zm={exports:{}},bt={},jm={exports:{}},Bm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,k){var g=P.length;P.push(k);e:for(;0<g;){var z=g-1>>>1,X=P[z];if(0<a(X,k))P[z]=k,P[g]=X,g=z;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var k=P[0],g=P.pop();if(g!==k){P[0]=g;e:for(var z=0,X=P.length,_=X>>>1;z<_;){var xe=2*(z+1)-1,ct=P[xe],he=xe+1,Gt=P[he];if(0>a(ct,g))he<X&&0>a(Gt,ct)?(P[z]=Gt,P[he]=g,z=he):(P[z]=ct,P[xe]=g,z=xe);else if(he<X&&0>a(Gt,g))P[z]=Gt,P[he]=g,z=he;else break e}}return k}function a(P,k){var g=P.sortIndex-k.sortIndex;return g!==0?g:P.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var l=[],u=[],f=1,c=null,p=3,d=!1,m=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(P){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=P)n(u),k.sortIndex=k.expirationTime,t(l,k);else break;k=r(u)}}function F(P){if(v=!1,y(P),!m)if(r(l)!==null)m=!0,be(C);else{var k=r(u);k!==null&&le(F,k.startTime-P)}}function C(P,k){m=!1,v&&(v=!1,h(T),T=-1),d=!0;var g=p;try{for(y(k),c=r(l);c!==null&&(!(c.expirationTime>k)||P&&!L());){var z=c.callback;if(typeof z=="function"){c.callback=null,p=c.priorityLevel;var X=z(c.expirationTime<=k);k=e.unstable_now(),typeof X=="function"?c.callback=X:c===r(l)&&n(l),y(k)}else n(l);c=r(l)}if(c!==null)var _=!0;else{var xe=r(u);xe!==null&&le(F,xe.startTime-k),_=!1}return _}finally{c=null,p=g,d=!1}}var S=!1,I=null,T=-1,j=5,x=-1;function L(){return!(e.unstable_now()-x<j)}function R(){if(I!==null){var P=e.unstable_now();x=P;var k=!0;try{k=I(!0,P)}finally{k?Q():(S=!1,I=null)}}else S=!1}var Q;if(typeof w=="function")Q=function(){w(R)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=R,Q=function(){J.postMessage(null)}}else Q=function(){E(R,0)};function be(P){I=P,S||(S=!0,Q())}function le(P,k){T=E(function(){P(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){m||d||(m=!0,be(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(P){switch(p){case 1:case 2:case 3:var k=3;break;default:k=p}var g=p;p=k;try{return P()}finally{p=g}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,k){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var g=p;p=P;try{return k()}finally{p=g}},e.unstable_scheduleCallback=function(P,k,g){var z=e.unstable_now();switch(typeof g=="object"&&g!==null?(g=g.delay,g=typeof g=="number"&&0<g?z+g:z):g=z,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=g+X,P={id:f++,callback:k,priorityLevel:P,startTime:g,expirationTime:X,sortIndex:-1},g>z?(P.sortIndex=g,t(u,P),r(l)===null&&P===r(u)&&(v?(h(T),T=-1):v=!0,le(F,g-z))):(P.sortIndex=X,t(l,P),m||d||(m=!0,be(C))),P},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(P){var k=p;return function(){var g=p;p=k;try{return P.apply(this,arguments)}finally{p=g}}}})(Bm);jm.exports=Bm;var kv=jm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv=Z,_t=kv;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hm=new Set,ti={};function Sn(e,t){ra(e,t),ra(e+"Capture",t)}function ra(e,t){for(ti[e]=t,e=0;e<t.length;e++)Hm.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fl=Object.prototype.hasOwnProperty,Pv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uf={},Lf={};function Ev(e){return Fl.call(Lf,e)?!0:Fl.call(Uf,e)?!1:Pv.test(e)?Lf[e]=!0:(Uf[e]=!0,!1)}function Fv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Cv(e,t,r,n){if(t===null||typeof t>"u"||Fv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function rt(e,t,r,n,a,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ve[e]=new rt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ve[t]=new rt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ve[e]=new rt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ve[e]=new rt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ve[e]=new rt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ve[e]=new rt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ve[e]=new rt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ve[e]=new rt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ve[e]=new rt(e,5,!1,e.toLowerCase(),null,!1,!1)});var tc=/[\-:]([a-z])/g;function rc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(tc,rc);Ve[t]=new rt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(tc,rc);Ve[t]=new rt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(tc,rc);Ve[t]=new rt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ve[e]=new rt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ve.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ve[e]=new rt(e,1,!1,e.toLowerCase(),null,!0,!0)});function nc(e,t,r,n){var a=Ve.hasOwnProperty(t)?Ve[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Cv(t,r,a,n)&&(r=null),n||a===null?Ev(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yr=xv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ni=Symbol.for("react.element"),On=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),Wm=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),ic=Symbol.for("react.forward_ref"),Ml=Symbol.for("react.suspense"),Al=Symbol.for("react.suspense_list"),oc=Symbol.for("react.memo"),Er=Symbol.for("react.lazy"),Gm=Symbol.for("react.offscreen"),Rf=Symbol.iterator;function Sa(e){return e===null||typeof e!="object"?null:(e=Rf&&e[Rf]||e["@@iterator"],typeof e=="function"?e:null)}var Ce=Object.assign,As;function Na(e){if(As===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);As=t&&t[1]||""}return`
`+As+e}var Ts=!1;function Is(e,t){if(!e||Ts)return"";Ts=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var a=u.stack.split(`
`),i=n.stack.split(`
`),o=a.length-1,s=i.length-1;1<=o&&0<=s&&a[o]!==i[s];)s--;for(;1<=o&&0<=s;o--,s--)if(a[o]!==i[s]){if(o!==1||s!==1)do if(o--,s--,0>s||a[o]!==i[s]){var l=`
`+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=s);break}}}finally{Ts=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Na(e):""}function Mv(e){switch(e.tag){case 5:return Na(e.type);case 16:return Na("Lazy");case 13:return Na("Suspense");case 19:return Na("SuspenseList");case 0:case 2:case 15:return e=Is(e.type,!1),e;case 11:return e=Is(e.type.render,!1),e;case 1:return e=Is(e.type,!0),e;default:return""}}function Tl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case On:return"Portal";case Cl:return"Profiler";case ac:return"StrictMode";case Ml:return"Suspense";case Al:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vm:return(e.displayName||"Context")+".Consumer";case Wm:return(e._context.displayName||"Context")+".Provider";case ic:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case oc:return t=e.displayName||null,t!==null?t:Tl(e.type)||"Memo";case Er:t=e._payload,e=e._init;try{return Tl(e(t))}catch{}}return null}function Av(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tl(t);case 8:return t===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Br(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $m(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tv(e){var t=$m(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ui(e){e._valueTracker||(e._valueTracker=Tv(e))}function qm(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$m(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function bo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Il(e,t){var r=t.checked;return Ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Df(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Br(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qm(e,t){t=t.checked,t!=null&&nc(e,"checked",t,!1)}function Ol(e,t){Qm(e,t);var r=Br(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Nl(e,t.type,r):t.hasOwnProperty("defaultValue")&&Nl(e,t.type,Br(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function zf(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Nl(e,t,r){(t!=="number"||bo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ua=Array.isArray;function qn(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Br(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Ul(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jf(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(Ua(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Br(r)}}function Ym(e,t){var r=Br(t.value),n=Br(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Bf(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Jm(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ll(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Jm(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Li,Km=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Li=Li||document.createElement("div"),Li.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Li.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ri(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Ha={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Iv=["Webkit","ms","Moz","O"];Object.keys(Ha).forEach(function(e){Iv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ha[t]=Ha[e]})});function Xm(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Ha.hasOwnProperty(e)&&Ha[e]?(""+t).trim():t+"px"}function Zm(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Xm(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var Ov=Ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rl(e,t){if(t){if(Ov[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function Dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zl=null;function sc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var jl=null,Qn=null,Yn=null;function Hf(e){if(e=Pi(e)){if(typeof jl!="function")throw Error(O(280));var t=e.stateNode;t&&(t=ss(t),jl(e.stateNode,e.type,t))}}function eh(e){Qn?Yn?Yn.push(e):Yn=[e]:Qn=e}function th(){if(Qn){var e=Qn,t=Yn;if(Yn=Qn=null,Hf(e),t)for(e=0;e<t.length;e++)Hf(t[e])}}function rh(e,t){return e(t)}function nh(){}var Os=!1;function ah(e,t,r){if(Os)return e(t,r);Os=!0;try{return rh(e,t,r)}finally{Os=!1,(Qn!==null||Yn!==null)&&(nh(),th())}}function ni(e,t){var r=e.stateNode;if(r===null)return null;var n=ss(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var Bl=!1;if(dr)try{var ka={};Object.defineProperty(ka,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",ka,ka),window.removeEventListener("test",ka,ka)}catch{Bl=!1}function Nv(e,t,r,n,a,i,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var Wa=!1,So=null,ko=!1,Hl=null,Uv={onError:function(e){Wa=!0,So=e}};function Lv(e,t,r,n,a,i,o,s,l){Wa=!1,So=null,Nv.apply(Uv,arguments)}function Rv(e,t,r,n,a,i,o,s,l){if(Lv.apply(this,arguments),Wa){if(Wa){var u=So;Wa=!1,So=null}else throw Error(O(198));ko||(ko=!0,Hl=u)}}function kn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ih(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wf(e){if(kn(e)!==e)throw Error(O(188))}function Dv(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Wf(a),e;if(i===n)return Wf(a),t;i=i.sibling}throw Error(O(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function oh(e){return e=Dv(e),e!==null?sh(e):null}function sh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sh(e);if(t!==null)return t;e=e.sibling}return null}var lh=_t.unstable_scheduleCallback,Vf=_t.unstable_cancelCallback,zv=_t.unstable_shouldYield,jv=_t.unstable_requestPaint,Ie=_t.unstable_now,Bv=_t.unstable_getCurrentPriorityLevel,lc=_t.unstable_ImmediatePriority,uh=_t.unstable_UserBlockingPriority,xo=_t.unstable_NormalPriority,Hv=_t.unstable_LowPriority,ch=_t.unstable_IdlePriority,ns=null,Zt=null;function Wv(e){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(ns,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:$v,Vv=Math.log,Gv=Math.LN2;function $v(e){return e>>>=0,e===0?32:31-(Vv(e)/Gv|0)|0}var Ri=64,Di=4194304;function La(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Po(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var s=o&~a;s!==0?n=La(s):(i&=o,i!==0&&(n=La(i)))}else o=r&~a,o!==0?n=La(o):i!==0&&(n=La(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zt(t),a=1<<r,n|=e[r],t&=~a;return n}function qv(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qv(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-zt(i),s=1<<o,l=a[o];l===-1?(!(s&r)||s&n)&&(a[o]=qv(s,t)):l<=t&&(e.expiredLanes|=s),i&=~s}}function Wl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fh(){var e=Ri;return Ri<<=1,!(Ri&4194240)&&(Ri=64),e}function Ns(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ki(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=r}function Yv(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-zt(r),i=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~i}}function uc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ce=0;function dh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ph,cc,mh,hh,gh,Vl=!1,zi=[],Or=null,Nr=null,Ur=null,ai=new Map,ii=new Map,Cr=[],Jv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gf(e,t){switch(e){case"focusin":case"focusout":Or=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":ai.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ii.delete(t.pointerId)}}function xa(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Pi(t),t!==null&&cc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Kv(e,t,r,n,a){switch(t){case"focusin":return Or=xa(Or,e,t,r,n,a),!0;case"dragenter":return Nr=xa(Nr,e,t,r,n,a),!0;case"mouseover":return Ur=xa(Ur,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return ai.set(i,xa(ai.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,ii.set(i,xa(ii.get(i)||null,e,t,r,n,a)),!0}return!1}function wh(e){var t=an(e.target);if(t!==null){var r=kn(t);if(r!==null){if(t=r.tag,t===13){if(t=ih(r),t!==null){e.blockedOn=t,gh(e.priority,function(){mh(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zl=n,r.target.dispatchEvent(n),zl=null}else return t=Pi(r),t!==null&&cc(t),e.blockedOn=r,!1;t.shift()}return!0}function $f(e,t,r){ao(e)&&r.delete(t)}function Xv(){Vl=!1,Or!==null&&ao(Or)&&(Or=null),Nr!==null&&ao(Nr)&&(Nr=null),Ur!==null&&ao(Ur)&&(Ur=null),ai.forEach($f),ii.forEach($f)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Vl||(Vl=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,Xv)))}function oi(e){function t(a){return Pa(a,e)}if(0<zi.length){Pa(zi[0],e);for(var r=1;r<zi.length;r++){var n=zi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Or!==null&&Pa(Or,e),Nr!==null&&Pa(Nr,e),Ur!==null&&Pa(Ur,e),ai.forEach(t),ii.forEach(t),r=0;r<Cr.length;r++)n=Cr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Cr.length&&(r=Cr[0],r.blockedOn===null);)wh(r),r.blockedOn===null&&Cr.shift()}var Jn=yr.ReactCurrentBatchConfig,Eo=!0;function Zv(e,t,r,n){var a=ce,i=Jn.transition;Jn.transition=null;try{ce=1,fc(e,t,r,n)}finally{ce=a,Jn.transition=i}}function e_(e,t,r,n){var a=ce,i=Jn.transition;Jn.transition=null;try{ce=4,fc(e,t,r,n)}finally{ce=a,Jn.transition=i}}function fc(e,t,r,n){if(Eo){var a=Gl(e,t,r,n);if(a===null)Vs(e,t,n,Fo,r),Gf(e,n);else if(Kv(a,e,t,r,n))n.stopPropagation();else if(Gf(e,n),t&4&&-1<Jv.indexOf(e)){for(;a!==null;){var i=Pi(a);if(i!==null&&ph(i),i=Gl(e,t,r,n),i===null&&Vs(e,t,n,Fo,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Vs(e,t,n,null,r)}}var Fo=null;function Gl(e,t,r,n){if(Fo=null,e=sc(n),e=an(e),e!==null)if(t=kn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ih(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fo=e,null}function yh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Bv()){case lc:return 1;case uh:return 4;case xo:case Hv:return 16;case ch:return 536870912;default:return 16}default:return 16}}var Ar=null,dc=null,io=null;function vh(){if(io)return io;var e,t=dc,r=t.length,n,a="value"in Ar?Ar.value:Ar.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return io=a.slice(e,1<n?1-n:void 0)}function oo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ji(){return!0}function qf(){return!1}function St(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ji:qf,this.isPropagationStopped=qf,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ji)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ji)},persist:function(){},isPersistent:ji}),t}var pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pc=St(pa),xi=Ce({},pa,{view:0,detail:0}),t_=St(xi),Us,Ls,Ea,as=Ce({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ea&&(Ea&&e.type==="mousemove"?(Us=e.screenX-Ea.screenX,Ls=e.screenY-Ea.screenY):Ls=Us=0,Ea=e),Us)},movementY:function(e){return"movementY"in e?e.movementY:Ls}}),Qf=St(as),r_=Ce({},as,{dataTransfer:0}),n_=St(r_),a_=Ce({},xi,{relatedTarget:0}),Rs=St(a_),i_=Ce({},pa,{animationName:0,elapsedTime:0,pseudoElement:0}),o_=St(i_),s_=Ce({},pa,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),l_=St(s_),u_=Ce({},pa,{data:0}),Yf=St(u_),c_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},d_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p_(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=d_[e])?!!t[e]:!1}function mc(){return p_}var m_=Ce({},xi,{key:function(e){if(e.key){var t=c_[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=oo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?f_[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mc,charCode:function(e){return e.type==="keypress"?oo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?oo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),h_=St(m_),g_=Ce({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jf=St(g_),w_=Ce({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mc}),y_=St(w_),v_=Ce({},pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),__=St(v_),b_=Ce({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),S_=St(b_),k_=[9,13,27,32],hc=dr&&"CompositionEvent"in window,Va=null;dr&&"documentMode"in document&&(Va=document.documentMode);var x_=dr&&"TextEvent"in window&&!Va,_h=dr&&(!hc||Va&&8<Va&&11>=Va),Kf=" ",Xf=!1;function bh(e,t){switch(e){case"keyup":return k_.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Un=!1;function P_(e,t){switch(e){case"compositionend":return Sh(t);case"keypress":return t.which!==32?null:(Xf=!0,Kf);case"textInput":return e=t.data,e===Kf&&Xf?null:e;default:return null}}function E_(e,t){if(Un)return e==="compositionend"||!hc&&bh(e,t)?(e=vh(),io=dc=Ar=null,Un=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return _h&&t.locale!=="ko"?null:t.data;default:return null}}var F_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!F_[e.type]:t==="textarea"}function kh(e,t,r,n){eh(n),t=Co(t,"onChange"),0<t.length&&(r=new pc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ga=null,si=null;function C_(e){Nh(e,0)}function is(e){var t=Dn(e);if(qm(t))return e}function M_(e,t){if(e==="change")return t}var xh=!1;if(dr){var Ds;if(dr){var zs="oninput"in document;if(!zs){var ed=document.createElement("div");ed.setAttribute("oninput","return;"),zs=typeof ed.oninput=="function"}Ds=zs}else Ds=!1;xh=Ds&&(!document.documentMode||9<document.documentMode)}function td(){Ga&&(Ga.detachEvent("onpropertychange",Ph),si=Ga=null)}function Ph(e){if(e.propertyName==="value"&&is(si)){var t=[];kh(t,si,e,sc(e)),ah(C_,t)}}function A_(e,t,r){e==="focusin"?(td(),Ga=t,si=r,Ga.attachEvent("onpropertychange",Ph)):e==="focusout"&&td()}function T_(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return is(si)}function I_(e,t){if(e==="click")return is(t)}function O_(e,t){if(e==="input"||e==="change")return is(t)}function N_(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Wt=typeof Object.is=="function"?Object.is:N_;function li(e,t){if(Wt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Fl.call(t,a)||!Wt(e[a],t[a]))return!1}return!0}function rd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nd(e,t){var r=rd(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rd(r)}}function Eh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Eh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fh(){for(var e=window,t=bo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=bo(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function U_(e){var t=Fh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Eh(r.ownerDocument.documentElement,r)){if(n!==null&&gc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,i=Math.min(n.start,a);n=n.end===void 0?i:Math.min(n.end,a),!e.extend&&i>n&&(a=n,n=i,i=a),a=nd(r,i);var o=nd(r,n);a&&o&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var L_=dr&&"documentMode"in document&&11>=document.documentMode,Ln=null,$l=null,$a=null,ql=!1;function ad(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ql||Ln==null||Ln!==bo(n)||(n=Ln,"selectionStart"in n&&gc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$a&&li($a,n)||($a=n,n=Co($l,"onSelect"),0<n.length&&(t=new pc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ln)))}function Bi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rn={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionend:Bi("Transition","TransitionEnd")},js={},Ch={};dr&&(Ch=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function os(e){if(js[e])return js[e];if(!Rn[e])return e;var t=Rn[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Ch)return js[e]=t[r];return e}var Mh=os("animationend"),Ah=os("animationiteration"),Th=os("animationstart"),Ih=os("transitionend"),Oh=new Map,id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(e,t){Oh.set(e,t),Sn(t,[e])}for(var Bs=0;Bs<id.length;Bs++){var Hs=id[Bs],R_=Hs.toLowerCase(),D_=Hs[0].toUpperCase()+Hs.slice(1);$r(R_,"on"+D_)}$r(Mh,"onAnimationEnd");$r(Ah,"onAnimationIteration");$r(Th,"onAnimationStart");$r("dblclick","onDoubleClick");$r("focusin","onFocus");$r("focusout","onBlur");$r(Ih,"onTransitionEnd");ra("onMouseEnter",["mouseout","mouseover"]);ra("onMouseLeave",["mouseout","mouseover"]);ra("onPointerEnter",["pointerout","pointerover"]);ra("onPointerLeave",["pointerout","pointerover"]);Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function od(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Rv(n,t,void 0,e),e.currentTarget=null}function Nh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==i&&a.isPropagationStopped())break e;od(a,s,u),i=l}else for(o=0;o<n.length;o++){if(s=n[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==i&&a.isPropagationStopped())break e;od(a,s,u),i=l}}}if(ko)throw e=Hl,ko=!1,Hl=null,e}function ge(e,t){var r=t[Xl];r===void 0&&(r=t[Xl]=new Set);var n=e+"__bubble";r.has(n)||(Uh(t,e,2,!1),r.add(n))}function Ws(e,t,r){var n=0;t&&(n|=4),Uh(r,e,n,t)}var Hi="_reactListening"+Math.random().toString(36).slice(2);function ui(e){if(!e[Hi]){e[Hi]=!0,Hm.forEach(function(r){r!=="selectionchange"&&(z_.has(r)||Ws(r,!1,e),Ws(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hi]||(t[Hi]=!0,Ws("selectionchange",!1,t))}}function Uh(e,t,r,n){switch(yh(t)){case 1:var a=Zv;break;case 4:a=e_;break;default:a=fc}r=a.bind(null,t,r,e),a=void 0,!Bl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Vs(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a||s.nodeType===8&&s.parentNode===a)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===a||l.nodeType===8&&l.parentNode===a))return;o=o.return}for(;s!==null;){if(o=an(s),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}s=s.parentNode}}n=n.return}ah(function(){var u=i,f=sc(r),c=[];e:{var p=Oh.get(e);if(p!==void 0){var d=pc,m=e;switch(e){case"keypress":if(oo(r)===0)break e;case"keydown":case"keyup":d=h_;break;case"focusin":m="focus",d=Rs;break;case"focusout":m="blur",d=Rs;break;case"beforeblur":case"afterblur":d=Rs;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Qf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=n_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=y_;break;case Mh:case Ah:case Th:d=o_;break;case Ih:d=__;break;case"scroll":d=t_;break;case"wheel":d=S_;break;case"copy":case"cut":case"paste":d=l_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Jf}var v=(t&4)!==0,E=!v&&e==="scroll",h=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,y;w!==null;){y=w;var F=y.stateNode;if(y.tag===5&&F!==null&&(y=F,h!==null&&(F=ni(w,h),F!=null&&v.push(ci(w,F,y)))),E)break;w=w.return}0<v.length&&(p=new d(p,m,null,r,f),c.push({event:p,listeners:v}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",d=e==="mouseout"||e==="pointerout",p&&r!==zl&&(m=r.relatedTarget||r.fromElement)&&(an(m)||m[pr]))break e;if((d||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,d?(m=r.relatedTarget||r.toElement,d=u,m=m?an(m):null,m!==null&&(E=kn(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(d=null,m=u),d!==m)){if(v=Qf,F="onMouseLeave",h="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=Jf,F="onPointerLeave",h="onPointerEnter",w="pointer"),E=d==null?p:Dn(d),y=m==null?p:Dn(m),p=new v(F,w+"leave",d,r,f),p.target=E,p.relatedTarget=y,F=null,an(f)===u&&(v=new v(h,w+"enter",m,r,f),v.target=y,v.relatedTarget=E,F=v),E=F,d&&m)t:{for(v=d,h=m,w=0,y=v;y;y=Cn(y))w++;for(y=0,F=h;F;F=Cn(F))y++;for(;0<w-y;)v=Cn(v),w--;for(;0<y-w;)h=Cn(h),y--;for(;w--;){if(v===h||h!==null&&v===h.alternate)break t;v=Cn(v),h=Cn(h)}v=null}else v=null;d!==null&&sd(c,p,d,v,!1),m!==null&&E!==null&&sd(c,E,m,v,!0)}}e:{if(p=u?Dn(u):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var C=M_;else if(Zf(p))if(xh)C=O_;else{C=T_;var S=A_}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=I_);if(C&&(C=C(e,u))){kh(c,C,r,f);break e}S&&S(e,p,u),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&Nl(p,"number",p.value)}switch(S=u?Dn(u):window,e){case"focusin":(Zf(S)||S.contentEditable==="true")&&(Ln=S,$l=u,$a=null);break;case"focusout":$a=$l=Ln=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,ad(c,r,f);break;case"selectionchange":if(L_)break;case"keydown":case"keyup":ad(c,r,f)}var I;if(hc)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Un?bh(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(_h&&r.locale!=="ko"&&(Un||T!=="onCompositionStart"?T==="onCompositionEnd"&&Un&&(I=vh()):(Ar=f,dc="value"in Ar?Ar.value:Ar.textContent,Un=!0)),S=Co(u,T),0<S.length&&(T=new Yf(T,e,null,r,f),c.push({event:T,listeners:S}),I?T.data=I:(I=Sh(r),I!==null&&(T.data=I)))),(I=x_?P_(e,r):E_(e,r))&&(u=Co(u,"onBeforeInput"),0<u.length&&(f=new Yf("onBeforeInput","beforeinput",null,r,f),c.push({event:f,listeners:u}),f.data=I))}Nh(c,t)})}function ci(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Co(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=ni(e,r),i!=null&&n.unshift(ci(e,i,a)),i=ni(e,t),i!=null&&n.push(ci(e,i,a))),e=e.return}return n}function Cn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function sd(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,l=s.alternate,u=s.stateNode;if(l!==null&&l===n)break;s.tag===5&&u!==null&&(s=u,a?(l=ni(r,i),l!=null&&o.unshift(ci(r,l,s))):a||(l=ni(r,i),l!=null&&o.push(ci(r,l,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var j_=/\r\n?/g,B_=/\u0000|\uFFFD/g;function ld(e){return(typeof e=="string"?e:""+e).replace(j_,`
`).replace(B_,"")}function Wi(e,t,r){if(t=ld(t),ld(e)!==t&&r)throw Error(O(425))}function Mo(){}var Ql=null,Yl=null;function Jl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,H_=typeof clearTimeout=="function"?clearTimeout:void 0,ud=typeof Promise=="function"?Promise:void 0,W_=typeof queueMicrotask=="function"?queueMicrotask:typeof ud<"u"?function(e){return ud.resolve(null).then(e).catch(V_)}:Kl;function V_(e){setTimeout(function(){throw e})}function Gs(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),oi(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);oi(t)}function Lr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ma=Math.random().toString(36).slice(2),Jt="__reactFiber$"+ma,fi="__reactProps$"+ma,pr="__reactContainer$"+ma,Xl="__reactEvents$"+ma,G_="__reactListeners$"+ma,$_="__reactHandles$"+ma;function an(e){var t=e[Jt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[pr]||r[Jt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cd(e);e!==null;){if(r=e[Jt])return r;e=cd(e)}return t}e=r,r=e.parentNode}return null}function Pi(e){return e=e[Jt]||e[pr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function ss(e){return e[fi]||null}var Zl=[],zn=-1;function qr(e){return{current:e}}function ve(e){0>zn||(e.current=Zl[zn],Zl[zn]=null,zn--)}function me(e,t){zn++,Zl[zn]=e.current,e.current=t}var Hr={},Je=qr(Hr),ot=qr(!1),mn=Hr;function na(e,t){var r=e.type.contextTypes;if(!r)return Hr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in r)a[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function st(e){return e=e.childContextTypes,e!=null}function Ao(){ve(ot),ve(Je)}function fd(e,t,r){if(Je.current!==Hr)throw Error(O(168));me(Je,t),me(ot,r)}function Lh(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,Av(e)||"Unknown",a));return Ce({},r,n)}function To(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hr,mn=Je.current,me(Je,e),me(ot,ot.current),!0}function dd(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Lh(e,t,mn),n.__reactInternalMemoizedMergedChildContext=e,ve(ot),ve(Je),me(Je,e)):ve(ot),me(ot,r)}var sr=null,ls=!1,$s=!1;function Rh(e){sr===null?sr=[e]:sr.push(e)}function q_(e){ls=!0,Rh(e)}function Qr(){if(!$s&&sr!==null){$s=!0;var e=0,t=ce;try{var r=sr;for(ce=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}sr=null,ls=!1}catch(a){throw sr!==null&&(sr=sr.slice(e+1)),lh(lc,Qr),a}finally{ce=t,$s=!1}}return null}var jn=[],Bn=0,Io=null,Oo=0,Ft=[],Ct=0,hn=null,lr=1,ur="";function Zr(e,t){jn[Bn++]=Oo,jn[Bn++]=Io,Io=e,Oo=t}function Dh(e,t,r){Ft[Ct++]=lr,Ft[Ct++]=ur,Ft[Ct++]=hn,hn=e;var n=lr;e=ur;var a=32-zt(n)-1;n&=~(1<<a),r+=1;var i=32-zt(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,lr=1<<32-zt(t)+a|r<<a|n,ur=i+e}else lr=1<<i|r<<a|n,ur=e}function wc(e){e.return!==null&&(Zr(e,1),Dh(e,1,0))}function yc(e){for(;e===Io;)Io=jn[--Bn],jn[Bn]=null,Oo=jn[--Bn],jn[Bn]=null;for(;e===hn;)hn=Ft[--Ct],Ft[Ct]=null,ur=Ft[--Ct],Ft[Ct]=null,lr=Ft[--Ct],Ft[Ct]=null}var gt=null,ht=null,Se=!1,Dt=null;function zh(e,t){var r=At(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function pd(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gt=e,ht=Lr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=hn!==null?{id:lr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=At(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,gt=e,ht=null,!0):!1;default:return!1}}function eu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function tu(e){if(Se){var t=ht;if(t){var r=t;if(!pd(e,t)){if(eu(e))throw Error(O(418));t=Lr(r.nextSibling);var n=gt;t&&pd(e,t)?zh(n,r):(e.flags=e.flags&-4097|2,Se=!1,gt=e)}}else{if(eu(e))throw Error(O(418));e.flags=e.flags&-4097|2,Se=!1,gt=e}}}function md(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gt=e}function Vi(e){if(e!==gt)return!1;if(!Se)return md(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jl(e.type,e.memoizedProps)),t&&(t=ht)){if(eu(e))throw jh(),Error(O(418));for(;t;)zh(e,t),t=Lr(t.nextSibling)}if(md(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ht=Lr(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=gt?Lr(e.stateNode.nextSibling):null;return!0}function jh(){for(var e=ht;e;)e=Lr(e.nextSibling)}function aa(){ht=gt=null,Se=!1}function vc(e){Dt===null?Dt=[e]:Dt.push(e)}var Q_=yr.ReactCurrentBatchConfig;function Fa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var a=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var s=a.refs;o===null?delete s[i]:s[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function Gi(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function hd(e){var t=e._init;return t(e._payload)}function Bh(e){function t(h,w){if(e){var y=h.deletions;y===null?(h.deletions=[w],h.flags|=16):y.push(w)}}function r(h,w){if(!e)return null;for(;w!==null;)t(h,w),w=w.sibling;return null}function n(h,w){for(h=new Map;w!==null;)w.key!==null?h.set(w.key,w):h.set(w.index,w),w=w.sibling;return h}function a(h,w){return h=jr(h,w),h.index=0,h.sibling=null,h}function i(h,w,y){return h.index=y,e?(y=h.alternate,y!==null?(y=y.index,y<w?(h.flags|=2,w):y):(h.flags|=2,w)):(h.flags|=1048576,w)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function s(h,w,y,F){return w===null||w.tag!==6?(w=Zs(y,h.mode,F),w.return=h,w):(w=a(w,y),w.return=h,w)}function l(h,w,y,F){var C=y.type;return C===Nn?f(h,w,y.props.children,F,y.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Er&&hd(C)===w.type)?(F=a(w,y.props),F.ref=Fa(h,w,y),F.return=h,F):(F=mo(y.type,y.key,y.props,null,h.mode,F),F.ref=Fa(h,w,y),F.return=h,F)}function u(h,w,y,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==y.containerInfo||w.stateNode.implementation!==y.implementation?(w=el(y,h.mode,F),w.return=h,w):(w=a(w,y.children||[]),w.return=h,w)}function f(h,w,y,F,C){return w===null||w.tag!==7?(w=un(y,h.mode,F,C),w.return=h,w):(w=a(w,y),w.return=h,w)}function c(h,w,y){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Zs(""+w,h.mode,y),w.return=h,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ni:return y=mo(w.type,w.key,w.props,null,h.mode,y),y.ref=Fa(h,null,w),y.return=h,y;case On:return w=el(w,h.mode,y),w.return=h,w;case Er:var F=w._init;return c(h,F(w._payload),y)}if(Ua(w)||Sa(w))return w=un(w,h.mode,y,null),w.return=h,w;Gi(h,w)}return null}function p(h,w,y,F){var C=w!==null?w.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:s(h,w,""+y,F);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ni:return y.key===C?l(h,w,y,F):null;case On:return y.key===C?u(h,w,y,F):null;case Er:return C=y._init,p(h,w,C(y._payload),F)}if(Ua(y)||Sa(y))return C!==null?null:f(h,w,y,F,null);Gi(h,y)}return null}function d(h,w,y,F,C){if(typeof F=="string"&&F!==""||typeof F=="number")return h=h.get(y)||null,s(w,h,""+F,C);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Ni:return h=h.get(F.key===null?y:F.key)||null,l(w,h,F,C);case On:return h=h.get(F.key===null?y:F.key)||null,u(w,h,F,C);case Er:var S=F._init;return d(h,w,y,S(F._payload),C)}if(Ua(F)||Sa(F))return h=h.get(y)||null,f(w,h,F,C,null);Gi(w,F)}return null}function m(h,w,y,F){for(var C=null,S=null,I=w,T=w=0,j=null;I!==null&&T<y.length;T++){I.index>T?(j=I,I=null):j=I.sibling;var x=p(h,I,y[T],F);if(x===null){I===null&&(I=j);break}e&&I&&x.alternate===null&&t(h,I),w=i(x,w,T),S===null?C=x:S.sibling=x,S=x,I=j}if(T===y.length)return r(h,I),Se&&Zr(h,T),C;if(I===null){for(;T<y.length;T++)I=c(h,y[T],F),I!==null&&(w=i(I,w,T),S===null?C=I:S.sibling=I,S=I);return Se&&Zr(h,T),C}for(I=n(h,I);T<y.length;T++)j=d(I,h,T,y[T],F),j!==null&&(e&&j.alternate!==null&&I.delete(j.key===null?T:j.key),w=i(j,w,T),S===null?C=j:S.sibling=j,S=j);return e&&I.forEach(function(L){return t(h,L)}),Se&&Zr(h,T),C}function v(h,w,y,F){var C=Sa(y);if(typeof C!="function")throw Error(O(150));if(y=C.call(y),y==null)throw Error(O(151));for(var S=C=null,I=w,T=w=0,j=null,x=y.next();I!==null&&!x.done;T++,x=y.next()){I.index>T?(j=I,I=null):j=I.sibling;var L=p(h,I,x.value,F);if(L===null){I===null&&(I=j);break}e&&I&&L.alternate===null&&t(h,I),w=i(L,w,T),S===null?C=L:S.sibling=L,S=L,I=j}if(x.done)return r(h,I),Se&&Zr(h,T),C;if(I===null){for(;!x.done;T++,x=y.next())x=c(h,x.value,F),x!==null&&(w=i(x,w,T),S===null?C=x:S.sibling=x,S=x);return Se&&Zr(h,T),C}for(I=n(h,I);!x.done;T++,x=y.next())x=d(I,h,T,x.value,F),x!==null&&(e&&x.alternate!==null&&I.delete(x.key===null?T:x.key),w=i(x,w,T),S===null?C=x:S.sibling=x,S=x);return e&&I.forEach(function(R){return t(h,R)}),Se&&Zr(h,T),C}function E(h,w,y,F){if(typeof y=="object"&&y!==null&&y.type===Nn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ni:e:{for(var C=y.key,S=w;S!==null;){if(S.key===C){if(C=y.type,C===Nn){if(S.tag===7){r(h,S.sibling),w=a(S,y.props.children),w.return=h,h=w;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Er&&hd(C)===S.type){r(h,S.sibling),w=a(S,y.props),w.ref=Fa(h,S,y),w.return=h,h=w;break e}r(h,S);break}else t(h,S);S=S.sibling}y.type===Nn?(w=un(y.props.children,h.mode,F,y.key),w.return=h,h=w):(F=mo(y.type,y.key,y.props,null,h.mode,F),F.ref=Fa(h,w,y),F.return=h,h=F)}return o(h);case On:e:{for(S=y.key;w!==null;){if(w.key===S)if(w.tag===4&&w.stateNode.containerInfo===y.containerInfo&&w.stateNode.implementation===y.implementation){r(h,w.sibling),w=a(w,y.children||[]),w.return=h,h=w;break e}else{r(h,w);break}else t(h,w);w=w.sibling}w=el(y,h.mode,F),w.return=h,h=w}return o(h);case Er:return S=y._init,E(h,w,S(y._payload),F)}if(Ua(y))return m(h,w,y,F);if(Sa(y))return v(h,w,y,F);Gi(h,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,w!==null&&w.tag===6?(r(h,w.sibling),w=a(w,y),w.return=h,h=w):(r(h,w),w=Zs(y,h.mode,F),w.return=h,h=w),o(h)):r(h,w)}return E}var ia=Bh(!0),Hh=Bh(!1),No=qr(null),Uo=null,Hn=null,_c=null;function bc(){_c=Hn=Uo=null}function Sc(e){var t=No.current;ve(No),e._currentValue=t}function ru(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Kn(e,t){Uo=e,_c=Hn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(it=!0),e.firstContext=null)}function It(e){var t=e._currentValue;if(_c!==e)if(e={context:e,memoizedValue:t,next:null},Hn===null){if(Uo===null)throw Error(O(308));Hn=e,Uo.dependencies={lanes:0,firstContext:e}}else Hn=Hn.next=e;return t}var on=null;function kc(e){on===null?on=[e]:on.push(e)}function Wh(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,kc(t)):(r.next=a.next,a.next=r),t.interleaved=r,mr(e,n)}function mr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Fr=!1;function xc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Rr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,se&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,mr(e,r)}return a=n.interleaved,a===null?(t.next=t,kc(n)):(t.next=a.next,a.next=t),n.interleaved=t,mr(e,r)}function so(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uc(e,r)}}function gd(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Lo(e,t,r,n){var a=e.updateQueue;Fr=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var f=e.alternate;f!==null&&(f=f.updateQueue,s=f.lastBaseUpdate,s!==o&&(s===null?f.firstBaseUpdate=u:s.next=u,f.lastBaseUpdate=l))}if(i!==null){var c=a.baseState;o=0,f=u=l=null,s=i;do{var p=s.lane,d=s.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=e,v=s;switch(p=t,d=r,v.tag){case 1:if(m=v.payload,typeof m=="function"){c=m.call(d,c,p);break e}c=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=v.payload,p=typeof m=="function"?m.call(d,c,p):m,p==null)break e;c=Ce({},c,p);break e;case 2:Fr=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,p=a.effects,p===null?a.effects=[s]:p.push(s))}else d={eventTime:d,lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},f===null?(u=f=d,l=c):f=f.next=d,o|=p;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;p=s,s=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);if(f===null&&(l=c),a.baseState=l,a.firstBaseUpdate=u,a.lastBaseUpdate=f,t=a.shared.interleaved,t!==null){a=t;do o|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);wn|=o,e.lanes=o,e.memoizedState=c}}function wd(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var Ei={},er=qr(Ei),di=qr(Ei),pi=qr(Ei);function sn(e){if(e===Ei)throw Error(O(174));return e}function Pc(e,t){switch(me(pi,t),me(di,e),me(er,Ei),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ll(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ll(t,e)}ve(er),me(er,t)}function oa(){ve(er),ve(di),ve(pi)}function Gh(e){sn(pi.current);var t=sn(er.current),r=Ll(t,e.type);t!==r&&(me(di,e),me(er,r))}function Ec(e){di.current===e&&(ve(er),ve(di))}var Ee=qr(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qs=[];function Fc(){for(var e=0;e<qs.length;e++)qs[e]._workInProgressVersionPrimary=null;qs.length=0}var lo=yr.ReactCurrentDispatcher,Qs=yr.ReactCurrentBatchConfig,gn=0,Fe=null,Le=null,ze=null,Do=!1,qa=!1,mi=0,Y_=0;function Ge(){throw Error(O(321))}function Cc(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Wt(e[r],t[r]))return!1;return!0}function Mc(e,t,r,n,a,i){if(gn=i,Fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=e===null||e.memoizedState===null?Z_:e0,e=r(n,a),qa){i=0;do{if(qa=!1,mi=0,25<=i)throw Error(O(301));i+=1,ze=Le=null,t.updateQueue=null,lo.current=t0,e=r(n,a)}while(qa)}if(lo.current=zo,t=Le!==null&&Le.next!==null,gn=0,ze=Le=Fe=null,Do=!1,t)throw Error(O(300));return e}function Ac(){var e=mi!==0;return mi=0,e}function qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?Fe.memoizedState=ze=e:ze=ze.next=e,ze}function Ot(){if(Le===null){var e=Fe.alternate;e=e!==null?e.memoizedState:null}else e=Le.next;var t=ze===null?Fe.memoizedState:ze.next;if(t!==null)ze=t,Le=e;else{if(e===null)throw Error(O(310));Le=e,e={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},ze===null?Fe.memoizedState=ze=e:ze=ze.next=e}return ze}function hi(e,t){return typeof t=="function"?t(e):t}function Ys(e){var t=Ot(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Le,a=n.baseQueue,i=r.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}n.baseQueue=a=i,r.pending=null}if(a!==null){i=a.next,n=n.baseState;var s=o=null,l=null,u=i;do{var f=u.lane;if((gn&f)===f)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var c={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=c,o=n):l=l.next=c,Fe.lanes|=f,wn|=f}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=s,Wt(n,t.memoizedState)||(it=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do i=a.lane,Fe.lanes|=i,wn|=i,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Js(e){var t=Ot(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Wt(i,t.memoizedState)||(it=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $h(){}function qh(e,t){var r=Fe,n=Ot(),a=t(),i=!Wt(n.memoizedState,a);if(i&&(n.memoizedState=a,it=!0),n=n.queue,Tc(Jh.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,gi(9,Yh.bind(null,r,n,a,t),void 0,null),je===null)throw Error(O(349));gn&30||Qh(r,t,a)}return a}function Qh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Yh(e,t,r,n){t.value=r,t.getSnapshot=n,Kh(t)&&Xh(e)}function Jh(e,t,r){return r(function(){Kh(t)&&Xh(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Wt(e,r)}catch{return!0}}function Xh(e){var t=mr(e,1);t!==null&&jt(t,e,1,-1)}function yd(e){var t=qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hi,lastRenderedState:e},t.queue=e,e=e.dispatch=X_.bind(null,Fe,e),[t.memoizedState,e]}function gi(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Fe.updateQueue,t===null?(t={lastEffect:null,stores:null},Fe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Zh(){return Ot().memoizedState}function uo(e,t,r,n){var a=qt();Fe.flags|=e,a.memoizedState=gi(1|t,r,void 0,n===void 0?null:n)}function us(e,t,r,n){var a=Ot();n=n===void 0?null:n;var i=void 0;if(Le!==null){var o=Le.memoizedState;if(i=o.destroy,n!==null&&Cc(n,o.deps)){a.memoizedState=gi(t,r,i,n);return}}Fe.flags|=e,a.memoizedState=gi(1|t,r,i,n)}function vd(e,t){return uo(8390656,8,e,t)}function Tc(e,t){return us(2048,8,e,t)}function eg(e,t){return us(4,2,e,t)}function tg(e,t){return us(4,4,e,t)}function rg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ng(e,t,r){return r=r!=null?r.concat([e]):null,us(4,4,rg.bind(null,t,e),r)}function Ic(){}function ag(e,t){var r=Ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cc(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ig(e,t){var r=Ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Cc(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function og(e,t,r){return gn&21?(Wt(r,t)||(r=fh(),Fe.lanes|=r,wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,it=!0),e.memoizedState=r)}function J_(e,t){var r=ce;ce=r!==0&&4>r?r:4,e(!0);var n=Qs.transition;Qs.transition={};try{e(!1),t()}finally{ce=r,Qs.transition=n}}function sg(){return Ot().memoizedState}function K_(e,t,r){var n=zr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},lg(e))ug(t,r);else if(r=Wh(e,t,r,n),r!==null){var a=et();jt(r,e,n,a),cg(r,t,n)}}function X_(e,t,r){var n=zr(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(lg(e))ug(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Wt(s,o)){var l=t.interleaved;l===null?(a.next=a,kc(t)):(a.next=l.next,l.next=a),t.interleaved=a;return}}catch{}finally{}r=Wh(e,t,a,n),r!==null&&(a=et(),jt(r,e,n,a),cg(r,t,n))}}function lg(e){var t=e.alternate;return e===Fe||t!==null&&t===Fe}function ug(e,t){qa=Do=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function cg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,uc(e,r)}}var zo={readContext:It,useCallback:Ge,useContext:Ge,useEffect:Ge,useImperativeHandle:Ge,useInsertionEffect:Ge,useLayoutEffect:Ge,useMemo:Ge,useReducer:Ge,useRef:Ge,useState:Ge,useDebugValue:Ge,useDeferredValue:Ge,useTransition:Ge,useMutableSource:Ge,useSyncExternalStore:Ge,useId:Ge,unstable_isNewReconciler:!1},Z_={readContext:It,useCallback:function(e,t){return qt().memoizedState=[e,t===void 0?null:t],e},useContext:It,useEffect:vd,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,uo(4194308,4,rg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return uo(4194308,4,e,t)},useInsertionEffect:function(e,t){return uo(4,2,e,t)},useMemo:function(e,t){var r=qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=K_.bind(null,Fe,e),[n.memoizedState,e]},useRef:function(e){var t=qt();return e={current:e},t.memoizedState=e},useState:yd,useDebugValue:Ic,useDeferredValue:function(e){return qt().memoizedState=e},useTransition:function(){var e=yd(!1),t=e[0];return e=J_.bind(null,e[1]),qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Fe,a=qt();if(Se){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),je===null)throw Error(O(349));gn&30||Qh(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,vd(Jh.bind(null,n,i,e),[e]),n.flags|=2048,gi(9,Yh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=qt(),t=je.identifierPrefix;if(Se){var r=ur,n=lr;r=(n&~(1<<32-zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=mi++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Y_++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e0={readContext:It,useCallback:ag,useContext:It,useEffect:Tc,useImperativeHandle:ng,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ig,useReducer:Ys,useRef:Zh,useState:function(){return Ys(hi)},useDebugValue:Ic,useDeferredValue:function(e){var t=Ot();return og(t,Le.memoizedState,e)},useTransition:function(){var e=Ys(hi)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:qh,useId:sg,unstable_isNewReconciler:!1},t0={readContext:It,useCallback:ag,useContext:It,useEffect:Tc,useImperativeHandle:ng,useInsertionEffect:eg,useLayoutEffect:tg,useMemo:ig,useReducer:Js,useRef:Zh,useState:function(){return Js(hi)},useDebugValue:Ic,useDeferredValue:function(e){var t=Ot();return Le===null?t.memoizedState=e:og(t,Le.memoizedState,e)},useTransition:function(){var e=Js(hi)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:$h,useSyncExternalStore:qh,useId:sg,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=Ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nu(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cs={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=et(),a=zr(e),i=cr(n,a);i.payload=t,r!=null&&(i.callback=r),t=Rr(e,i,a),t!==null&&(jt(t,e,a,n),so(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=et(),a=zr(e),i=cr(n,a);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Rr(e,i,a),t!==null&&(jt(t,e,a,n),so(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=et(),n=zr(e),a=cr(r,n);a.tag=2,t!=null&&(a.callback=t),t=Rr(e,a,n),t!==null&&(jt(t,e,n,r),so(t,e,n))}};function _d(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!li(r,n)||!li(a,i):!0}function fg(e,t,r){var n=!1,a=Hr,i=t.contextType;return typeof i=="object"&&i!==null?i=It(i):(a=st(t)?mn:Je.current,n=t.contextTypes,i=(n=n!=null)?na(e,a):Hr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cs,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function bd(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cs.enqueueReplaceState(t,t.state,null)}function au(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},xc(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=It(i):(i=st(t)?mn:Je.current,a.context=na(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(nu(e,t,i,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&cs.enqueueReplaceState(a,a.state,null),Lo(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function sa(e,t){try{var r="",n=t;do r+=Mv(n),n=n.return;while(n);var a=r}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Ks(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function iu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var r0=typeof WeakMap=="function"?WeakMap:Map;function dg(e,t,r){r=cr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bo||(Bo=!0,hu=n),iu(e,t)},r}function pg(e,t,r){r=cr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){iu(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){iu(e,t),typeof n!="function"&&(Dr===null?Dr=new Set([this]):Dr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Sd(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new r0;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=g0.bind(null,e,t,r),t.then(e,e))}function kd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function xd(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=cr(-1,1),t.tag=2,Rr(r,t,1))),r.lanes|=1),e)}var n0=yr.ReactCurrentOwner,it=!1;function Xe(e,t,r,n){t.child=e===null?Hh(t,null,r,n):ia(t,e.child,r,n)}function Pd(e,t,r,n,a){r=r.render;var i=t.ref;return Kn(t,a),n=Mc(e,t,r,n,i,a),r=Ac(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hr(e,t,a)):(Se&&r&&wc(t),t.flags|=1,Xe(e,t,n,a),t.child)}function Ed(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!jc(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,mg(e,t,i,n,a)):(e=mo(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:li,r(o,n)&&e.ref===t.ref)return hr(e,t,a)}return t.flags|=1,e=jr(i,n),e.ref=t.ref,e.return=t,t.child=e}function mg(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(li(i,n)&&e.ref===t.ref)if(it=!1,t.pendingProps=n=i,(e.lanes&a)!==0)e.flags&131072&&(it=!0);else return t.lanes=e.lanes,hr(e,t,a)}return ou(e,t,r,n,a)}function hg(e,t,r){var n=t.pendingProps,a=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Vn,pt),pt|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Vn,pt),pt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,me(Vn,pt),pt|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,me(Vn,pt),pt|=n;return Xe(e,t,a,r),t.child}function gg(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ou(e,t,r,n,a){var i=st(r)?mn:Je.current;return i=na(t,i),Kn(t,a),r=Mc(e,t,r,n,i,a),n=Ac(),e!==null&&!it?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,hr(e,t,a)):(Se&&n&&wc(t),t.flags|=1,Xe(e,t,r,a),t.child)}function Fd(e,t,r,n,a){if(st(r)){var i=!0;To(t)}else i=!1;if(Kn(t,a),t.stateNode===null)co(e,t),fg(t,r,n),au(t,r,n,a),n=!0;else if(e===null){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=It(u):(u=st(r)?mn:Je.current,u=na(t,u));var f=r.getDerivedStateFromProps,c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==n||l!==u)&&bd(t,o,n,u),Fr=!1;var p=t.memoizedState;o.state=p,Lo(t,n,o,a),l=t.memoizedState,s!==n||p!==l||ot.current||Fr?(typeof f=="function"&&(nu(t,r,f,n),l=t.memoizedState),(s=Fr||_d(t,r,s,n,p,l,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=u,n=s):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Vh(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:Lt(t.type,s),o.props=u,c=t.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=It(l):(l=st(r)?mn:Je.current,l=na(t,l));var d=r.getDerivedStateFromProps;(f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==c||p!==l)&&bd(t,o,n,l),Fr=!1,p=t.memoizedState,o.state=p,Lo(t,n,o,a);var m=t.memoizedState;s!==c||p!==m||ot.current||Fr?(typeof d=="function"&&(nu(t,r,d,n),m=t.memoizedState),(u=Fr||_d(t,r,u,n,p,m,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return su(e,t,r,n,i,a)}function su(e,t,r,n,a,i){gg(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return a&&dd(t,r,!1),hr(e,t,i);n=t.stateNode,n0.current=t;var s=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ia(t,e.child,null,i),t.child=ia(t,null,s,i)):Xe(e,t,s,i),t.memoizedState=n.state,a&&dd(t,r,!0),t.child}function wg(e){var t=e.stateNode;t.pendingContext?fd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&fd(e,t.context,!1),Pc(e,t.containerInfo)}function Cd(e,t,r,n,a){return aa(),vc(a),t.flags|=256,Xe(e,t,r,n),t.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(e){return{baseLanes:e,cachePool:null,transitions:null}}function yg(e,t,r){var n=t.pendingProps,a=Ee.current,i=!1,o=(t.flags&128)!==0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(a&2)!==0),s?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),me(Ee,a&1),e===null)return tu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ps(o,n,0,null),e=un(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uu(r),t.memoizedState=lu,e):Oc(t,o));if(a=e.memoizedState,a!==null&&(s=a.dehydrated,s!==null))return a0(e,t,o,n,s,a,r);if(i){i=n.fallback,o=t.mode,a=e.child,s=a.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=jr(a,l),n.subtreeFlags=a.subtreeFlags&14680064),s!==null?i=jr(s,i):(i=un(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?uu(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=lu,n}return i=e.child,e=i.sibling,n=jr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Oc(e,t){return t=ps({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $i(e,t,r,n){return n!==null&&vc(n),ia(t,e.child,null,r),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function a0(e,t,r,n,a,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ks(Error(O(422))),$i(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,a=t.mode,n=ps({mode:"visible",children:n.children},a,0,null),i=un(i,a,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&ia(t,e.child,null,o),t.child.memoizedState=uu(o),t.memoizedState=lu,i);if(!(t.mode&1))return $i(e,t,o,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var s=n.dgst;return n=s,i=Error(O(419)),n=Ks(i,n,void 0),$i(e,t,o,n)}if(s=(o&e.childLanes)!==0,it||s){if(n=je,n!==null){switch(o&-o){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|o)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,mr(e,a),jt(n,e,a,-1))}return zc(),n=Ks(Error(O(421))),$i(e,t,o,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=w0.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,ht=Lr(a.nextSibling),gt=t,Se=!0,Dt=null,e!==null&&(Ft[Ct++]=lr,Ft[Ct++]=ur,Ft[Ct++]=hn,lr=e.id,ur=e.overflow,hn=t),t=Oc(t,n.children),t.flags|=4096,t)}function Md(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ru(e.return,t,r)}function Xs(e,t,r,n,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=a)}function vg(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;if(Xe(e,t,n.children,r),n=Ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Md(e,r,t);else if(e.tag===19)Md(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(me(Ee,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Ro(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Xs(t,!1,a,r,i);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Ro(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Xs(t,!0,r,null,i);break;case"together":Xs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function co(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function hr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=jr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=jr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function i0(e,t,r){switch(t.tag){case 3:wg(t),aa();break;case 5:Gh(t);break;case 1:st(t.type)&&To(t);break;case 4:Pc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;me(No,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(me(Ee,Ee.current&1),t.flags|=128,null):r&t.child.childLanes?yg(e,t,r):(me(Ee,Ee.current&1),e=hr(e,t,r),e!==null?e.sibling:null);me(Ee,Ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return vg(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),me(Ee,Ee.current),n)break;return null;case 22:case 23:return t.lanes=0,hg(e,t,r)}return hr(e,t,r)}var _g,cu,bg,Sg;_g=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};cu=function(){};bg=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,sn(er.current);var i=null;switch(r){case"input":a=Il(e,a),n=Il(e,n),i=[];break;case"select":a=Ce({},a,{value:void 0}),n=Ce({},n,{value:void 0}),i=[];break;case"textarea":a=Ul(e,a),n=Ul(e,n),i=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Mo)}Rl(r,n);var o;r=null;for(u in a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&a[u]!=null)if(u==="style"){var s=a[u];for(o in s)s.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ti.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(s=a!=null?a[u]:void 0,n.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ti.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ge("scroll",e),i||s===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Sg=function(e,t,r,n){r!==n&&(t.flags|=4)};function Ca(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function o0(e,t,r){var n=t.pendingProps;switch(yc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return st(t.type)&&Ao(),$e(t),null;case 3:return n=t.stateNode,oa(),ve(ot),ve(Je),Fc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Vi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dt!==null&&(yu(Dt),Dt=null))),cu(e,t),$e(t),null;case 5:Ec(t);var a=sn(pi.current);if(r=t.type,e!==null&&t.stateNode!=null)bg(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return $e(t),null}if(e=sn(er.current),Vi(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[Jt]=t,n[fi]=i,e=(t.mode&1)!==0,r){case"dialog":ge("cancel",n),ge("close",n);break;case"iframe":case"object":case"embed":ge("load",n);break;case"video":case"audio":for(a=0;a<Ra.length;a++)ge(Ra[a],n);break;case"source":ge("error",n);break;case"img":case"image":case"link":ge("error",n),ge("load",n);break;case"details":ge("toggle",n);break;case"input":Df(n,i),ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},ge("invalid",n);break;case"textarea":jf(n,i),ge("invalid",n)}Rl(r,i),a=null;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];o==="children"?typeof s=="string"?n.textContent!==s&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,s,e),a=["children",s]):typeof s=="number"&&n.textContent!==""+s&&(i.suppressHydrationWarning!==!0&&Wi(n.textContent,s,e),a=["children",""+s]):ti.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&ge("scroll",n)}switch(r){case"input":Ui(n),zf(n,i,!0);break;case"textarea":Ui(n),Bf(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Mo)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Jm(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Jt]=t,e[fi]=n,_g(e,t,!1,!1),t.stateNode=e;e:{switch(o=Dl(r,n),r){case"dialog":ge("cancel",e),ge("close",e),a=n;break;case"iframe":case"object":case"embed":ge("load",e),a=n;break;case"video":case"audio":for(a=0;a<Ra.length;a++)ge(Ra[a],e);a=n;break;case"source":ge("error",e),a=n;break;case"img":case"image":case"link":ge("error",e),ge("load",e),a=n;break;case"details":ge("toggle",e),a=n;break;case"input":Df(e,n),a=Il(e,n),ge("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=Ce({},n,{value:void 0}),ge("invalid",e);break;case"textarea":jf(e,n),a=Ul(e,n),ge("invalid",e);break;default:a=n}Rl(r,a),s=a;for(i in s)if(s.hasOwnProperty(i)){var l=s[i];i==="style"?Zm(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Km(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ri(e,l):typeof l=="number"&&ri(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ti.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ge("scroll",e):l!=null&&nc(e,i,l,o))}switch(r){case"input":Ui(e),zf(e,n,!1);break;case"textarea":Ui(e),Bf(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Br(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?qn(e,!!n.multiple,i,!1):n.defaultValue!=null&&qn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Mo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)Sg(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=sn(pi.current),sn(er.current),Vi(t)){if(n=t.stateNode,r=t.memoizedProps,n[Jt]=t,(i=n.nodeValue!==r)&&(e=gt,e!==null))switch(e.tag){case 3:Wi(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wi(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Jt]=t,t.stateNode=n}return $e(t),null;case 13:if(ve(Ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&ht!==null&&t.mode&1&&!(t.flags&128))jh(),aa(),t.flags|=98560,i=!1;else if(i=Vi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(O(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Jt]=t}else aa(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else Dt!==null&&(yu(Dt),Dt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?De===0&&(De=3):zc())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return oa(),cu(e,t),e===null&&ui(t.stateNode.containerInfo),$e(t),null;case 10:return Sc(t.type._context),$e(t),null;case 17:return st(t.type)&&Ao(),$e(t),null;case 19:if(ve(Ee),i=t.memoizedState,i===null)return $e(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Ca(i,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ro(e),o!==null){for(t.flags|=128,Ca(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return me(Ee,Ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ie()>la&&(t.flags|=128,n=!0,Ca(i,!1),t.lanes=4194304)}else{if(!n)if(e=Ro(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Ca(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Se)return $e(t),null}else 2*Ie()-i.renderingStartTime>la&&r!==1073741824&&(t.flags|=128,n=!0,Ca(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ie(),t.sibling=null,r=Ee.current,me(Ee,n?r&1|2:r&1),t):($e(t),null);case 22:case 23:return Dc(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?pt&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function s0(e,t){switch(yc(t),t.tag){case 1:return st(t.type)&&Ao(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return oa(),ve(ot),ve(Je),Fc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ec(t),null;case 13:if(ve(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));aa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ve(Ee),null;case 4:return oa(),null;case 10:return Sc(t.type._context),null;case 22:case 23:return Dc(),null;case 24:return null;default:return null}}var qi=!1,Qe=!1,l0=typeof WeakSet=="function"?WeakSet:Set,D=null;function Wn(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Te(e,t,n)}else r.current=null}function fu(e,t,r){try{r()}catch(n){Te(e,t,n)}}var Ad=!1;function u0(e,t){if(Ql=Eo,e=Fh(),gc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,l=-1,u=0,f=0,c=e,p=null;t:for(;;){for(var d;c!==r||a!==0&&c.nodeType!==3||(s=o+a),c!==i||n!==0&&c.nodeType!==3||(l=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(d=c.firstChild)!==null;)p=c,c=d;for(;;){if(c===e)break t;if(p===r&&++u===a&&(s=o),p===i&&++f===n&&(l=o),(d=c.nextSibling)!==null)break;c=p,p=c.parentNode}c=d}r=s===-1||l===-1?null:{start:s,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yl={focusedElem:e,selectionRange:r},Eo=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var v=m.memoizedProps,E=m.memoizedState,h=t.stateNode,w=h.getSnapshotBeforeUpdate(t.elementType===t.type?v:Lt(t.type,v),E);h.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(F){Te(t,t.return,F)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return m=Ad,Ad=!1,m}function Qa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&fu(t,r,i)}a=a.next}while(a!==n)}}function fs(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function du(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function kg(e){var t=e.alternate;t!==null&&(e.alternate=null,kg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Jt],delete t[fi],delete t[Xl],delete t[G_],delete t[$_])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xg(e){return e.tag===5||e.tag===3||e.tag===4}function Td(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Mo));else if(n!==4&&(e=e.child,e!==null))for(pu(e,t,r),e=e.sibling;e!==null;)pu(e,t,r),e=e.sibling}function mu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mu(e,t,r),e=e.sibling;e!==null;)mu(e,t,r),e=e.sibling}var Be=null,Rt=!1;function Sr(e,t,r){for(r=r.child;r!==null;)Pg(e,t,r),r=r.sibling}function Pg(e,t,r){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(ns,r)}catch{}switch(r.tag){case 5:Qe||Wn(r,t);case 6:var n=Be,a=Rt;Be=null,Sr(e,t,r),Be=n,Rt=a,Be!==null&&(Rt?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Rt?(e=Be,r=r.stateNode,e.nodeType===8?Gs(e.parentNode,r):e.nodeType===1&&Gs(e,r),oi(e)):Gs(Be,r.stateNode));break;case 4:n=Be,a=Rt,Be=r.stateNode.containerInfo,Rt=!0,Sr(e,t,r),Be=n,Rt=a;break;case 0:case 11:case 14:case 15:if(!Qe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var i=a,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&fu(r,t,o),a=a.next}while(a!==n)}Sr(e,t,r);break;case 1:if(!Qe&&(Wn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(s){Te(r,t,s)}Sr(e,t,r);break;case 21:Sr(e,t,r);break;case 22:r.mode&1?(Qe=(n=Qe)||r.memoizedState!==null,Sr(e,t,r),Qe=n):Sr(e,t,r);break;default:Sr(e,t,r)}}function Id(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new l0),t.forEach(function(n){var a=y0.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function Ut(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 5:Be=s.stateNode,Rt=!1;break e;case 3:Be=s.stateNode.containerInfo,Rt=!0;break e;case 4:Be=s.stateNode.containerInfo,Rt=!0;break e}s=s.return}if(Be===null)throw Error(O(160));Pg(i,o,a),Be=null,Rt=!1;var l=a.alternate;l!==null&&(l.return=null),a.return=null}catch(u){Te(a,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eg(t,e),t=t.sibling}function Eg(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ut(t,e),$t(e),n&4){try{Qa(3,e,e.return),fs(3,e)}catch(v){Te(e,e.return,v)}try{Qa(5,e,e.return)}catch(v){Te(e,e.return,v)}}break;case 1:Ut(t,e),$t(e),n&512&&r!==null&&Wn(r,r.return);break;case 5:if(Ut(t,e),$t(e),n&512&&r!==null&&Wn(r,r.return),e.flags&32){var a=e.stateNode;try{ri(a,"")}catch(v){Te(e,e.return,v)}}if(n&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,s=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{s==="input"&&i.type==="radio"&&i.name!=null&&Qm(a,i),Dl(s,o);var u=Dl(s,i);for(o=0;o<l.length;o+=2){var f=l[o],c=l[o+1];f==="style"?Zm(a,c):f==="dangerouslySetInnerHTML"?Km(a,c):f==="children"?ri(a,c):nc(a,f,c,u)}switch(s){case"input":Ol(a,i);break;case"textarea":Ym(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?qn(a,!!i.multiple,d,!1):p!==!!i.multiple&&(i.defaultValue!=null?qn(a,!!i.multiple,i.defaultValue,!0):qn(a,!!i.multiple,i.multiple?[]:"",!1))}a[fi]=i}catch(v){Te(e,e.return,v)}}break;case 6:if(Ut(t,e),$t(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(v){Te(e,e.return,v)}}break;case 3:if(Ut(t,e),$t(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oi(t.containerInfo)}catch(v){Te(e,e.return,v)}break;case 4:Ut(t,e),$t(e);break;case 13:Ut(t,e),$t(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(Lc=Ie())),n&4&&Id(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(Qe=(u=Qe)||f,Ut(t,e),Qe=u):Ut(t,e),$t(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(D=e,f=e.child;f!==null;){for(c=D=f;D!==null;){switch(p=D,d=p.child,p.tag){case 0:case 11:case 14:case 15:Qa(4,p,p.return);break;case 1:Wn(p,p.return);var m=p.stateNode;if(typeof m.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(v){Te(n,r,v)}}break;case 5:Wn(p,p.return);break;case 22:if(p.memoizedState!==null){Nd(c);continue}}d!==null?(d.return=p,D=d):Nd(c)}f=f.sibling}e:for(f=null,c=e;;){if(c.tag===5){if(f===null){f=c;try{a=c.stateNode,u?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(s=c.stateNode,l=c.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Xm("display",o))}catch(v){Te(e,e.return,v)}}}else if(c.tag===6){if(f===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Te(e,e.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===e)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===e)break e;for(;c.sibling===null;){if(c.return===null||c.return===e)break e;f===c&&(f=null),c=c.return}f===c&&(f=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ut(t,e),$t(e),n&4&&Id(e);break;case 21:break;default:Ut(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xg(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(ri(a,""),n.flags&=-33);var i=Td(e);mu(e,i,a);break;case 3:case 4:var o=n.stateNode.containerInfo,s=Td(e);pu(e,s,o);break;default:throw Error(O(161))}}catch(l){Te(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function c0(e,t,r){D=e,Fg(e)}function Fg(e,t,r){for(var n=(e.mode&1)!==0;D!==null;){var a=D,i=a.child;if(a.tag===22&&n){var o=a.memoizedState!==null||qi;if(!o){var s=a.alternate,l=s!==null&&s.memoizedState!==null||Qe;s=qi;var u=Qe;if(qi=o,(Qe=l)&&!u)for(D=a;D!==null;)o=D,l=o.child,o.tag===22&&o.memoizedState!==null?Ud(a):l!==null?(l.return=o,D=l):Ud(a);for(;i!==null;)D=i,Fg(i),i=i.sibling;D=a,qi=s,Qe=u}Od(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,D=i):Od(e)}}function Od(e){for(;D!==null;){var t=D;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qe||fs(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qe)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Lt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&wd(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}wd(t,o,r)}break;case 5:var s=t.stateNode;if(r===null&&t.flags&4){r=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var c=f.dehydrated;c!==null&&oi(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Qe||t.flags&512&&du(t)}catch(p){Te(t,t.return,p)}}if(t===e){D=null;break}if(r=t.sibling,r!==null){r.return=t.return,D=r;break}D=t.return}}function Nd(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var r=t.sibling;if(r!==null){r.return=t.return,D=r;break}D=t.return}}function Ud(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{fs(4,t)}catch(l){Te(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(l){Te(t,a,l)}}var i=t.return;try{du(t)}catch(l){Te(t,i,l)}break;case 5:var o=t.return;try{du(t)}catch(l){Te(t,o,l)}}}catch(l){Te(t,t.return,l)}if(t===e){D=null;break}var s=t.sibling;if(s!==null){s.return=t.return,D=s;break}D=t.return}}var f0=Math.ceil,jo=yr.ReactCurrentDispatcher,Nc=yr.ReactCurrentOwner,Tt=yr.ReactCurrentBatchConfig,se=0,je=null,Ne=null,We=0,pt=0,Vn=qr(0),De=0,wi=null,wn=0,ds=0,Uc=0,Ya=null,at=null,Lc=0,la=1/0,or=null,Bo=!1,hu=null,Dr=null,Qi=!1,Tr=null,Ho=0,Ja=0,gu=null,fo=-1,po=0;function et(){return se&6?Ie():fo!==-1?fo:fo=Ie()}function zr(e){return e.mode&1?se&2&&We!==0?We&-We:Q_.transition!==null?(po===0&&(po=fh()),po):(e=ce,e!==0||(e=window.event,e=e===void 0?16:yh(e.type)),e):1}function jt(e,t,r,n){if(50<Ja)throw Ja=0,gu=null,Error(O(185));ki(e,r,n),(!(se&2)||e!==je)&&(e===je&&(!(se&2)&&(ds|=r),De===4&&Mr(e,We)),lt(e,n),r===1&&se===0&&!(t.mode&1)&&(la=Ie()+500,ls&&Qr()))}function lt(e,t){var r=e.callbackNode;Qv(e,t);var n=Po(e,e===je?We:0);if(n===0)r!==null&&Vf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Vf(r),t===1)e.tag===0?q_(Ld.bind(null,e)):Rh(Ld.bind(null,e)),W_(function(){!(se&6)&&Qr()}),r=null;else{switch(dh(n)){case 1:r=lc;break;case 4:r=uh;break;case 16:r=xo;break;case 536870912:r=ch;break;default:r=xo}r=Ug(r,Cg.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Cg(e,t){if(fo=-1,po=0,se&6)throw Error(O(327));var r=e.callbackNode;if(Xn()&&e.callbackNode!==r)return null;var n=Po(e,e===je?We:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Wo(e,n);else{t=n;var a=se;se|=2;var i=Ag();(je!==e||We!==t)&&(or=null,la=Ie()+500,ln(e,t));do try{m0();break}catch(s){Mg(e,s)}while(!0);bc(),jo.current=i,se=a,Ne!==null?t=0:(je=null,We=0,t=De)}if(t!==0){if(t===2&&(a=Wl(e),a!==0&&(n=a,t=wu(e,a))),t===1)throw r=wi,ln(e,0),Mr(e,n),lt(e,Ie()),r;if(t===6)Mr(e,n);else{if(a=e.current.alternate,!(n&30)&&!d0(a)&&(t=Wo(e,n),t===2&&(i=Wl(e),i!==0&&(n=i,t=wu(e,i))),t===1))throw r=wi,ln(e,0),Mr(e,n),lt(e,Ie()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:en(e,at,or);break;case 3:if(Mr(e,n),(n&130023424)===n&&(t=Lc+500-Ie(),10<t)){if(Po(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){et(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Kl(en.bind(null,e,at,or),t);break}en(e,at,or);break;case 4:if(Mr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var o=31-zt(n);i=1<<o,o=t[o],o>a&&(a=o),n&=~i}if(n=a,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*f0(n/1960))-n,10<n){e.timeoutHandle=Kl(en.bind(null,e,at,or),n);break}en(e,at,or);break;case 5:en(e,at,or);break;default:throw Error(O(329))}}}return lt(e,Ie()),e.callbackNode===r?Cg.bind(null,e):null}function wu(e,t){var r=Ya;return e.current.memoizedState.isDehydrated&&(ln(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=at,at=r,t!==null&&yu(t)),e}function yu(e){at===null?at=e:at.push.apply(at,e)}function d0(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Wt(i(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mr(e,t){for(t&=~Uc,t&=~ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zt(t),n=1<<r;e[r]=-1,t&=~n}}function Ld(e){if(se&6)throw Error(O(327));Xn();var t=Po(e,0);if(!(t&1))return lt(e,Ie()),null;var r=Wo(e,t);if(e.tag!==0&&r===2){var n=Wl(e);n!==0&&(t=n,r=wu(e,n))}if(r===1)throw r=wi,ln(e,0),Mr(e,t),lt(e,Ie()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,en(e,at,or),lt(e,Ie()),null}function Rc(e,t){var r=se;se|=1;try{return e(t)}finally{se=r,se===0&&(la=Ie()+500,ls&&Qr())}}function yn(e){Tr!==null&&Tr.tag===0&&!(se&6)&&Xn();var t=se;se|=1;var r=Tt.transition,n=ce;try{if(Tt.transition=null,ce=1,e)return e()}finally{ce=n,Tt.transition=r,se=t,!(se&6)&&Qr()}}function Dc(){pt=Vn.current,ve(Vn)}function ln(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,H_(r)),Ne!==null)for(r=Ne.return;r!==null;){var n=r;switch(yc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ao();break;case 3:oa(),ve(ot),ve(Je),Fc();break;case 5:Ec(n);break;case 4:oa();break;case 13:ve(Ee);break;case 19:ve(Ee);break;case 10:Sc(n.type._context);break;case 22:case 23:Dc()}r=r.return}if(je=e,Ne=e=jr(e.current,null),We=pt=t,De=0,wi=null,Uc=ds=wn=0,at=Ya=null,on!==null){for(t=0;t<on.length;t++)if(r=on[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=a,n.next=o}r.pending=n}on=null}return e}function Mg(e,t){do{var r=Ne;try{if(bc(),lo.current=zo,Do){for(var n=Fe.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Do=!1}if(gn=0,ze=Le=Fe=null,qa=!1,mi=0,Nc.current=null,r===null||r.return===null){De=1,wi=t,Ne=null;break}e:{var i=e,o=r.return,s=r,l=t;if(t=We,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,f=s,c=f.tag;if(!(f.mode&1)&&(c===0||c===11||c===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var d=kd(o);if(d!==null){d.flags&=-257,xd(d,o,s,i,t),d.mode&1&&Sd(i,u,t),t=d,l=u;var m=t.updateQueue;if(m===null){var v=new Set;v.add(l),t.updateQueue=v}else m.add(l);break e}else{if(!(t&1)){Sd(i,u,t),zc();break e}l=Error(O(426))}}else if(Se&&s.mode&1){var E=kd(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),xd(E,o,s,i,t),vc(sa(l,s));break e}}i=l=sa(l,s),De!==4&&(De=2),Ya===null?Ya=[i]:Ya.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=dg(i,l,t);gd(i,h);break e;case 1:s=l;var w=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Dr===null||!Dr.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var F=pg(i,s,t);gd(i,F);break e}}i=i.return}while(i!==null)}Ig(r)}catch(C){t=C,Ne===r&&r!==null&&(Ne=r=r.return);continue}break}while(!0)}function Ag(){var e=jo.current;return jo.current=zo,e===null?zo:e}function zc(){(De===0||De===3||De===2)&&(De=4),je===null||!(wn&268435455)&&!(ds&268435455)||Mr(je,We)}function Wo(e,t){var r=se;se|=2;var n=Ag();(je!==e||We!==t)&&(or=null,ln(e,t));do try{p0();break}catch(a){Mg(e,a)}while(!0);if(bc(),se=r,jo.current=n,Ne!==null)throw Error(O(261));return je=null,We=0,De}function p0(){for(;Ne!==null;)Tg(Ne)}function m0(){for(;Ne!==null&&!zv();)Tg(Ne)}function Tg(e){var t=Ng(e.alternate,e,pt);e.memoizedProps=e.pendingProps,t===null?Ig(e):Ne=t,Nc.current=null}function Ig(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=s0(r,t),r!==null){r.flags&=32767,Ne=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ne=null;return}}else if(r=o0(r,t,pt),r!==null){Ne=r;return}if(t=t.sibling,t!==null){Ne=t;return}Ne=t=e}while(t!==null);De===0&&(De=5)}function en(e,t,r){var n=ce,a=Tt.transition;try{Tt.transition=null,ce=1,h0(e,t,r,n)}finally{Tt.transition=a,ce=n}return null}function h0(e,t,r,n){do Xn();while(Tr!==null);if(se&6)throw Error(O(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Yv(e,i),e===je&&(Ne=je=null,We=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Qi||(Qi=!0,Ug(xo,function(){return Xn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Tt.transition,Tt.transition=null;var o=ce;ce=1;var s=se;se|=4,Nc.current=null,u0(e,r),Eg(r,e),U_(Yl),Eo=!!Ql,Yl=Ql=null,e.current=r,c0(r),jv(),se=s,ce=o,Tt.transition=i}else e.current=r;if(Qi&&(Qi=!1,Tr=e,Ho=a),i=e.pendingLanes,i===0&&(Dr=null),Wv(r.stateNode),lt(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(Bo)throw Bo=!1,e=hu,hu=null,e;return Ho&1&&e.tag!==0&&Xn(),i=e.pendingLanes,i&1?e===gu?Ja++:(Ja=0,gu=e):Ja=0,Qr(),null}function Xn(){if(Tr!==null){var e=dh(Ho),t=Tt.transition,r=ce;try{if(Tt.transition=null,ce=16>e?16:e,Tr===null)var n=!1;else{if(e=Tr,Tr=null,Ho=0,se&6)throw Error(O(331));var a=se;for(se|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var s=i.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(D=u;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:Qa(8,f,i)}var c=f.child;if(c!==null)c.return=f,D=c;else for(;D!==null;){f=D;var p=f.sibling,d=f.return;if(kg(f),f===u){D=null;break}if(p!==null){p.return=d,D=p;break}D=d}}}var m=i.alternate;if(m!==null){var v=m.child;if(v!==null){m.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Qa(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,D=h;break e}D=i.return}}var w=e.current;for(D=w;D!==null;){o=D;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,D=y;else e:for(o=w;D!==null;){if(s=D,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:fs(9,s)}}catch(C){Te(s,s.return,C)}if(s===o){D=null;break e}var F=s.sibling;if(F!==null){F.return=s.return,D=F;break e}D=s.return}}if(se=a,Qr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(ns,e)}catch{}n=!0}return n}finally{ce=r,Tt.transition=t}}return!1}function Rd(e,t,r){t=sa(r,t),t=dg(e,t,1),e=Rr(e,t,1),t=et(),e!==null&&(ki(e,1,t),lt(e,t))}function Te(e,t,r){if(e.tag===3)Rd(e,e,r);else for(;t!==null;){if(t.tag===3){Rd(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Dr===null||!Dr.has(n))){e=sa(r,e),e=pg(t,e,1),t=Rr(t,e,1),e=et(),t!==null&&(ki(t,1,e),lt(t,e));break}}t=t.return}}function g0(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&r,je===e&&(We&r)===r&&(De===4||De===3&&(We&130023424)===We&&500>Ie()-Lc?ln(e,0):Uc|=r),lt(e,t)}function Og(e,t){t===0&&(e.mode&1?(t=Di,Di<<=1,!(Di&130023424)&&(Di=4194304)):t=1);var r=et();e=mr(e,t),e!==null&&(ki(e,t,r),lt(e,r))}function w0(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Og(e,r)}function y0(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),Og(e,r)}var Ng;Ng=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)it=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return it=!1,i0(e,t,r);it=!!(e.flags&131072)}else it=!1,Se&&t.flags&1048576&&Dh(t,Oo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;co(e,t),e=t.pendingProps;var a=na(t,Je.current);Kn(t,r),a=Mc(null,t,n,e,a,r);var i=Ac();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,st(n)?(i=!0,To(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,xc(t),a.updater=cs,t.stateNode=a,a._reactInternals=t,au(t,n,e,r),t=su(null,t,n,!0,i,r)):(t.tag=0,Se&&i&&wc(t),Xe(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(co(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=_0(n),e=Lt(n,e),a){case 0:t=ou(null,t,n,e,r);break e;case 1:t=Fd(null,t,n,e,r);break e;case 11:t=Pd(null,t,n,e,r);break e;case 14:t=Ed(null,t,n,Lt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),ou(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),Fd(e,t,n,a,r);case 3:e:{if(wg(t),e===null)throw Error(O(387));n=t.pendingProps,i=t.memoizedState,a=i.element,Vh(e,t),Lo(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=sa(Error(O(423)),t),t=Cd(e,t,n,r,a);break e}else if(n!==a){a=sa(Error(O(424)),t),t=Cd(e,t,n,r,a);break e}else for(ht=Lr(t.stateNode.containerInfo.firstChild),gt=t,Se=!0,Dt=null,r=Hh(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(aa(),n===a){t=hr(e,t,r);break e}Xe(e,t,n,r)}t=t.child}return t;case 5:return Gh(t),e===null&&tu(t),n=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,o=a.children,Jl(n,a)?o=null:i!==null&&Jl(n,i)&&(t.flags|=32),gg(e,t),Xe(e,t,o,r),t.child;case 6:return e===null&&tu(t),null;case 13:return yg(e,t,r);case 4:return Pc(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ia(t,null,n,r):Xe(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),Pd(e,t,n,a,r);case 7:return Xe(e,t,t.pendingProps,r),t.child;case 8:return Xe(e,t,t.pendingProps.children,r),t.child;case 12:return Xe(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,i=t.memoizedProps,o=a.value,me(No,n._currentValue),n._currentValue=o,i!==null)if(Wt(i.value,o)){if(i.children===a.children&&!ot.current){t=hr(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var s=i.dependencies;if(s!==null){o=i.child;for(var l=s.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=cr(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?l.next=l:(l.next=f.next,f.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ru(i.return,r,t),s.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(O(341));o.lanes|=r,s=o.alternate,s!==null&&(s.lanes|=r),ru(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xe(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Kn(t,r),a=It(a),n=n(a),t.flags|=1,Xe(e,t,n,r),t.child;case 14:return n=t.type,a=Lt(n,t.pendingProps),a=Lt(n.type,a),Ed(e,t,n,a,r);case 15:return mg(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),co(e,t),t.tag=1,st(n)?(e=!0,To(t)):e=!1,Kn(t,r),fg(t,n,a),au(t,n,a,r),su(null,t,n,!0,e,r);case 19:return vg(e,t,r);case 22:return hg(e,t,r)}throw Error(O(156,t.tag))};function Ug(e,t){return lh(e,t)}function v0(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,r,n){return new v0(e,t,r,n)}function jc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _0(e){if(typeof e=="function")return jc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ic)return 11;if(e===oc)return 14}return 2}function jr(e,t){var r=e.alternate;return r===null?(r=At(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function mo(e,t,r,n,a,i){var o=2;if(n=e,typeof e=="function")jc(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Nn:return un(r.children,a,i,t);case ac:o=8,a|=8;break;case Cl:return e=At(12,r,t,a|2),e.elementType=Cl,e.lanes=i,e;case Ml:return e=At(13,r,t,a),e.elementType=Ml,e.lanes=i,e;case Al:return e=At(19,r,t,a),e.elementType=Al,e.lanes=i,e;case Gm:return ps(r,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wm:o=10;break e;case Vm:o=9;break e;case ic:o=11;break e;case oc:o=14;break e;case Er:o=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=At(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function un(e,t,r,n){return e=At(7,e,n,t),e.lanes=r,e}function ps(e,t,r,n){return e=At(22,e,n,t),e.elementType=Gm,e.lanes=r,e.stateNode={isHidden:!1},e}function Zs(e,t,r){return e=At(6,e,null,t),e.lanes=r,e}function el(e,t,r){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function b0(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ns(0),this.expirationTimes=Ns(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ns(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Bc(e,t,r,n,a,i,o,s,l){return e=new b0(e,t,r,s,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=At(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},xc(i),e}function S0(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Lg(e){if(!e)return Hr;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(st(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(st(r))return Lh(e,r,t)}return t}function Rg(e,t,r,n,a,i,o,s,l){return e=Bc(r,n,!0,e,a,i,o,s,l),e.context=Lg(null),r=e.current,n=et(),a=zr(r),i=cr(n,a),i.callback=t??null,Rr(r,i,a),e.current.lanes=a,ki(e,a,n),lt(e,n),e}function ms(e,t,r,n){var a=t.current,i=et(),o=zr(a);return r=Lg(r),t.context===null?t.context=r:t.pendingContext=r,t=cr(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Rr(a,t,o),e!==null&&(jt(e,a,o,i),so(e,a,o)),o}function Vo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Dd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Hc(e,t){Dd(e,t),(e=e.alternate)&&Dd(e,t)}function k0(){return null}var Dg=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}hs.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ms(e,t,null,null)};hs.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yn(function(){ms(null,e,null,null)}),t[pr]=null}};function hs(e){this._internalRoot=e}hs.prototype.unstable_scheduleHydration=function(e){if(e){var t=hh();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Cr.length&&t!==0&&t<Cr[r].priority;r++);Cr.splice(r,0,e),r===0&&wh(e)}};function Vc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function zd(){}function x0(e,t,r,n,a){if(a){if(typeof n=="function"){var i=n;n=function(){var u=Vo(o);i.call(u)}}var o=Rg(t,n,e,0,null,!1,!1,"",zd);return e._reactRootContainer=o,e[pr]=o.current,ui(e.nodeType===8?e.parentNode:e),yn(),o}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var s=n;n=function(){var u=Vo(l);s.call(u)}}var l=Bc(e,0,!1,null,null,!1,!1,"",zd);return e._reactRootContainer=l,e[pr]=l.current,ui(e.nodeType===8?e.parentNode:e),yn(function(){ms(t,l,r,n)}),l}function ws(e,t,r,n,a){var i=r._reactRootContainer;if(i){var o=i;if(typeof a=="function"){var s=a;a=function(){var l=Vo(o);s.call(l)}}ms(t,o,e,a)}else o=x0(r,t,e,a,n);return Vo(o)}ph=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=La(t.pendingLanes);r!==0&&(uc(t,r|1),lt(t,Ie()),!(se&6)&&(la=Ie()+500,Qr()))}break;case 13:yn(function(){var n=mr(e,1);if(n!==null){var a=et();jt(n,e,1,a)}}),Hc(e,1)}};cc=function(e){if(e.tag===13){var t=mr(e,134217728);if(t!==null){var r=et();jt(t,e,134217728,r)}Hc(e,134217728)}};mh=function(e){if(e.tag===13){var t=zr(e),r=mr(e,t);if(r!==null){var n=et();jt(r,e,t,n)}Hc(e,t)}};hh=function(){return ce};gh=function(e,t){var r=ce;try{return ce=e,t()}finally{ce=r}};jl=function(e,t,r){switch(t){case"input":if(Ol(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=ss(n);if(!a)throw Error(O(90));qm(n),Ol(n,a)}}}break;case"textarea":Ym(e,r);break;case"select":t=r.value,t!=null&&qn(e,!!r.multiple,t,!1)}};rh=Rc;nh=yn;var P0={usingClientEntryPoint:!1,Events:[Pi,Dn,ss,eh,th,Rc]},Ma={findFiberByHostInstance:an,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=oh(e),e===null?null:e.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||k0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yi.isDisabled&&Yi.supportsFiber)try{ns=Yi.inject(E0),Zt=Yi}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P0;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vc(t))throw Error(O(200));return S0(e,t,null,r)};bt.createRoot=function(e,t){if(!Vc(e))throw Error(O(299));var r=!1,n="",a=Dg;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=Bc(e,1,!1,null,null,r,!1,n,a),e[pr]=t.current,ui(e.nodeType===8?e.parentNode:e),new Wc(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=oh(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return yn(e)};bt.hydrate=function(e,t,r){if(!gs(t))throw Error(O(200));return ws(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!Vc(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,a=!1,i="",o=Dg;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Rg(t,null,e,1,r??null,a,!1,i,o),e[pr]=t.current,ui(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new hs(t)};bt.render=function(e,t,r){if(!gs(t))throw Error(O(200));return ws(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!gs(e))throw Error(O(40));return e._reactRootContainer?(yn(function(){ws(null,null,e,!1,function(){e._reactRootContainer=null,e[pr]=null})}),!0):!1};bt.unstable_batchedUpdates=Rc;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!gs(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return ws(e,t,r,!1,n)};bt.version="18.3.1-next-f1338f8080-20240426";function zg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zg)}catch(e){console.error(e)}}zg(),zm.exports=bt;var F0=zm.exports,jd=F0;El.createRoot=jd.createRoot,El.hydrateRoot=jd.hydrateRoot;var M=Object.freeze({Text:"Text",NumericLiteral:"NumericLiteral",StringLiteral:"StringLiteral",Identifier:"Identifier",Equals:"Equals",OpenParen:"OpenParen",CloseParen:"CloseParen",OpenStatement:"OpenStatement",CloseStatement:"CloseStatement",OpenExpression:"OpenExpression",CloseExpression:"CloseExpression",OpenSquareBracket:"OpenSquareBracket",CloseSquareBracket:"CloseSquareBracket",OpenCurlyBracket:"OpenCurlyBracket",CloseCurlyBracket:"CloseCurlyBracket",Comma:"Comma",Dot:"Dot",Colon:"Colon",Pipe:"Pipe",CallOperator:"CallOperator",AdditiveBinaryOperator:"AdditiveBinaryOperator",MultiplicativeBinaryOperator:"MultiplicativeBinaryOperator",ComparisonBinaryOperator:"ComparisonBinaryOperator",UnaryOperator:"UnaryOperator",Comment:"Comment"}),Pt=class{constructor(e,t){this.value=e,this.type=t}};function Bd(e){return/\w/.test(e)}function Aa(e){return/[0-9]/.test(e)}function Hd(e){return/\s/.test(e)}var C0=[["{%",M.OpenStatement],["%}",M.CloseStatement],["{{",M.OpenExpression],["}}",M.CloseExpression],["(",M.OpenParen],[")",M.CloseParen],["{",M.OpenCurlyBracket],["}",M.CloseCurlyBracket],["[",M.OpenSquareBracket],["]",M.CloseSquareBracket],[",",M.Comma],[".",M.Dot],[":",M.Colon],["|",M.Pipe],["<=",M.ComparisonBinaryOperator],[">=",M.ComparisonBinaryOperator],["==",M.ComparisonBinaryOperator],["!=",M.ComparisonBinaryOperator],["<",M.ComparisonBinaryOperator],[">",M.ComparisonBinaryOperator],["+",M.AdditiveBinaryOperator],["-",M.AdditiveBinaryOperator],["~",M.AdditiveBinaryOperator],["*",M.MultiplicativeBinaryOperator],["/",M.MultiplicativeBinaryOperator],["%",M.MultiplicativeBinaryOperator],["=",M.Equals]],M0=new Map([["n",`
`],["t","	"],["r","\r"],["b","\b"],["f","\f"],["v","\v"],["'","'"],['"','"'],["\\","\\"]]);function A0(e,t={}){return e.endsWith(`
`)&&(e=e.slice(0,-1)),t.lstrip_blocks&&(e=e.replace(/^[ \t]*({[#%-])/gm,"$1")),t.trim_blocks&&(e=e.replace(/([#%-]})\n/g,"$1")),e.replace(/{%\s*(end)?generation\s*%}/gs,"")}function T0(e,t={}){var u,f;const r=[],n=A0(e,t);let a=0,i=0;const o=c=>{let p="";for(;c(n[a]);){if(n[a]==="\\"){if(++a,a>=n.length)throw new SyntaxError("Unexpected end of input");const d=n[a++],m=M0.get(d);if(m===void 0)throw new SyntaxError(`Unexpected escaped character: ${d}`);p+=m;continue}if(p+=n[a++],a>=n.length)throw new SyntaxError("Unexpected end of input")}return p},s=()=>{const c=r.at(-1);c&&c.type===M.Text&&(c.value=c.value.trimEnd(),c.value===""&&r.pop())},l=()=>{for(;a<n.length&&Hd(n[a]);)++a};e:for(;a<n.length;){const c=(u=r.at(-1))==null?void 0:u.type;if(c===void 0||c===M.CloseStatement||c===M.CloseExpression||c===M.Comment){let d="";for(;a<n.length&&!(n[a]==="{"&&(n[a+1]==="%"||n[a+1]==="{"||n[a+1]==="#"));)d+=n[a++];if(d.length>0){r.push(new Pt(d,M.Text));continue}}if(n[a]==="{"&&n[a+1]==="#"){a+=2;const d=n[a]==="-";d&&++a;let m="";for(;n[a]!=="#"||n[a+1]!=="}";){if(a+2>=n.length)throw new SyntaxError("Missing end of comment tag");m+=n[a++]}const v=m.endsWith("-");v&&(m=m.slice(0,-1)),d&&s(),r.push(new Pt(m,M.Comment)),a+=2,v&&l();continue}if(n.slice(a,a+3)==="{%-"){s(),r.push(new Pt("{%",M.OpenStatement)),a+=3;continue}if(n.slice(a,a+3)==="{{-"){s(),r.push(new Pt("{{",M.OpenExpression)),i=0,a+=3;continue}if(o(Hd),n.slice(a,a+3)==="-%}"){r.push(new Pt("%}",M.CloseStatement)),a+=3,l();continue}if(n.slice(a,a+3)==="-}}"){r.push(new Pt("}}",M.CloseExpression)),a+=3,l();continue}const p=n[a];if(p==="-"||p==="+"){const d=(f=r.at(-1))==null?void 0:f.type;if(d===M.Text||d===void 0)throw new SyntaxError(`Unexpected character: ${p}`);switch(d){case M.Identifier:case M.NumericLiteral:case M.StringLiteral:case M.CloseParen:case M.CloseSquareBracket:break;default:{++a;const m=o(Aa);r.push(new Pt(`${p}${m}`,m.length>0?M.NumericLiteral:M.UnaryOperator));continue}}}for(const[d,m]of C0){if(d==="}}"&&i>0)continue;if(n.slice(a,a+d.length)===d){r.push(new Pt(d,m)),m===M.OpenExpression?i=0:m===M.OpenCurlyBracket?++i:m===M.CloseCurlyBracket&&--i,a+=d.length;continue e}}if(p==="'"||p==='"'){++a;const d=o(m=>m!==p);r.push(new Pt(d,M.StringLiteral)),++a;continue}if(Aa(p)){let d=o(Aa);if(n[a]==="."&&Aa(n[a+1])){++a;const m=o(Aa);d=`${d}.${m}`}r.push(new Pt(d,M.NumericLiteral));continue}if(Bd(p)){const d=o(Bd);r.push(new Pt(d,M.Identifier));continue}throw new SyntaxError(`Unexpected character: ${p}`)}return r}var Vt=class{constructor(){W(this,"type","Statement")}},I0=class extends Vt{constructor(t){super();W(this,"type","Program");this.body=t}},O0=class extends Vt{constructor(t,r,n){super();W(this,"type","If");this.test=t,this.body=r,this.alternate=n}},N0=class extends Vt{constructor(t,r,n,a){super();W(this,"type","For");this.loopvar=t,this.iterable=r,this.body=n,this.defaultBlock=a}},U0=class extends Vt{constructor(){super(...arguments);W(this,"type","Break")}},L0=class extends Vt{constructor(){super(...arguments);W(this,"type","Continue")}},R0=class extends Vt{constructor(t,r,n){super();W(this,"type","Set");this.assignee=t,this.value=r,this.body=n}},D0=class extends Vt{constructor(t,r,n){super();W(this,"type","Macro");this.name=t,this.args=r,this.body=n}},z0=class extends Vt{constructor(t){super();W(this,"type","Comment");this.value=t}},kt=class extends Vt{constructor(){super(...arguments);W(this,"type","Expression")}},j0=class extends kt{constructor(t,r,n){super();W(this,"type","MemberExpression");this.object=t,this.property=r,this.computed=n}},Wd=class extends kt{constructor(t,r){super();W(this,"type","CallExpression");this.callee=t,this.args=r}},Mn=class extends kt{constructor(t){super();W(this,"type","Identifier");this.value=t}},ha=class extends kt{constructor(t){super();W(this,"type","Literal");this.value=t}},B0=class extends ha{constructor(){super(...arguments);W(this,"type","IntegerLiteral")}},H0=class extends ha{constructor(){super(...arguments);W(this,"type","FloatLiteral")}},Vd=class extends ha{constructor(){super(...arguments);W(this,"type","StringLiteral")}},W0=class extends ha{constructor(){super(...arguments);W(this,"type","ArrayLiteral")}},Gd=class extends ha{constructor(){super(...arguments);W(this,"type","TupleLiteral")}},V0=class extends ha{constructor(){super(...arguments);W(this,"type","ObjectLiteral")}},Ta=class extends kt{constructor(t,r,n){super();W(this,"type","BinaryExpression");this.operator=t,this.left=r,this.right=n}},G0=class extends kt{constructor(t,r){super();W(this,"type","FilterExpression");this.operand=t,this.filter=r}},$0=class extends Vt{constructor(t,r){super();W(this,"type","FilterStatement");this.filter=t,this.body=r}},q0=class extends kt{constructor(t,r){super();W(this,"type","SelectExpression");this.lhs=t,this.test=r}},Q0=class extends kt{constructor(t,r,n){super();W(this,"type","TestExpression");this.operand=t,this.negate=r,this.test=n}},Y0=class extends kt{constructor(t,r){super();W(this,"type","UnaryExpression");this.operator=t,this.argument=r}},J0=class extends kt{constructor(t=void 0,r=void 0,n=void 0){super();W(this,"type","SliceExpression");this.start=t,this.stop=r,this.step=n}},K0=class extends kt{constructor(t,r){super();W(this,"type","KeywordArgumentExpression");this.key=t,this.value=r}},X0=class extends kt{constructor(t){super();W(this,"type","SpreadExpression");this.argument=t}},Z0=class extends Vt{constructor(t,r,n){super();W(this,"type","CallStatement");this.call=t,this.callerArgs=r,this.body=n}},eb=class extends kt{constructor(t,r,n){super();W(this,"type","Ternary");this.condition=t,this.trueExpr=r,this.falseExpr=n}};function tb(e){const t=new I0([]);let r=0;function n(P,k){const g=e[r++];if(!g||g.type!==P)throw new Error(`Parser Error: ${k}. ${g.type} !== ${P}.`);return g}function a(P){if(!l(P))throw new SyntaxError(`Expected ${P}`);++r}function i(){switch(e[r].type){case M.Comment:return new z0(e[r++].value);case M.Text:return u();case M.OpenStatement:return f();case M.OpenExpression:return c();default:throw new SyntaxError(`Unexpected token type: ${e[r].type}`)}}function o(...P){return r+P.length<=e.length&&P.every((k,g)=>k===e[r+g].type)}function s(...P){var k,g,z;return((k=e[r])==null?void 0:k.type)===M.OpenStatement&&((g=e[r+1])==null?void 0:g.type)===M.Identifier&&P.includes((z=e[r+1])==null?void 0:z.value)}function l(...P){return r+P.length<=e.length&&P.every((k,g)=>e[r+g].type==="Identifier"&&k===e[r+g].value)}function u(){return new Vd(n(M.Text,"Expected text token").value)}function f(){if(n(M.OpenStatement,"Expected opening statement token"),e[r].type!==M.Identifier)throw new SyntaxError(`Unknown statement, got ${e[r].type}`);const P=e[r].value;let k;switch(P){case"set":++r,k=p();break;case"if":++r,k=d(),n(M.OpenStatement,"Expected {% token"),a("endif"),n(M.CloseStatement,"Expected %} token");break;case"macro":++r,k=m(),n(M.OpenStatement,"Expected {% token"),a("endmacro"),n(M.CloseStatement,"Expected %} token");break;case"for":++r,k=E(),n(M.OpenStatement,"Expected {% token"),a("endfor"),n(M.CloseStatement,"Expected %} token");break;case"call":{++r;let g=null;o(M.OpenParen)&&(g=x());const z=le();if(z.type!=="Identifier")throw new SyntaxError("Expected identifier following call statement");const X=x();n(M.CloseStatement,"Expected closing statement token");const _=[];for(;!s("endcall");)_.push(i());n(M.OpenStatement,"Expected '{%'"),a("endcall"),n(M.CloseStatement,"Expected closing statement token");const xe=new Wd(z,X);k=new Z0(xe,g,_);break}case"break":++r,n(M.CloseStatement,"Expected closing statement token"),k=new U0;break;case"continue":++r,n(M.CloseStatement,"Expected closing statement token"),k=new L0;break;case"filter":{++r;let g=le();g instanceof Mn&&o(M.OpenParen)&&(g=j(g)),n(M.CloseStatement,"Expected closing statement token");const z=[];for(;!s("endfilter");)z.push(i());n(M.OpenStatement,"Expected '{%'"),a("endfilter"),n(M.CloseStatement,"Expected '%}'"),k=new $0(g,z);break}default:throw new SyntaxError(`Unknown statement type: ${P}`)}return k}function c(){n(M.OpenExpression,"Expected opening expression token");const P=h();return n(M.CloseExpression,"Expected closing expression token"),P}function p(){const P=v();let k=null;const g=[];if(o(M.Equals))++r,k=v();else{for(n(M.CloseStatement,"Expected %} token");!s("endset");)g.push(i());n(M.OpenStatement,"Expected {% token"),a("endset")}return n(M.CloseStatement,"Expected closing statement token"),new R0(P,k,g)}function d(){const P=h();n(M.CloseStatement,"Expected closing statement token");const k=[],g=[];for(;!s("elif","else","endif");)k.push(i());if(s("elif")){++r,++r;const z=d();g.push(z)}else if(s("else"))for(++r,++r,n(M.CloseStatement,"Expected closing statement token");!s("endif");)g.push(i());return new O0(P,k,g)}function m(){const P=le();if(P.type!=="Identifier")throw new SyntaxError("Expected identifier following macro statement");const k=x();n(M.CloseStatement,"Expected closing statement token");const g=[];for(;!s("endmacro");)g.push(i());return new D0(P,k,g)}function v(P=!1){const k=P?le:h,g=[k()],z=o(M.Comma);for(;z&&(++r,g.push(k()),!!o(M.Comma)););return z?new Gd(g):g[0]}function E(){const P=v(!0);if(!(P instanceof Mn||P instanceof Gd))throw new SyntaxError(`Expected identifier/tuple for the loop variable, got ${P.type} instead`);if(!l("in"))throw new SyntaxError("Expected `in` keyword following loop variable");++r;const k=h();n(M.CloseStatement,"Expected closing statement token");const g=[];for(;!s("endfor","else");)g.push(i());const z=[];if(s("else"))for(++r,++r,n(M.CloseStatement,"Expected closing statement token");!s("endfor");)z.push(i());return new N0(P,k,g,z)}function h(){return w()}function w(){const P=y();if(l("if")){++r;const k=y();if(l("else")){++r;const g=w();return new eb(k,P,g)}else return new q0(P,k)}return P}function y(){let P=F();for(;l("or");){const k=e[r];++r;const g=F();P=new Ta(k,P,g)}return P}function F(){let P=C();for(;l("and");){const k=e[r];++r;const g=C();P=new Ta(k,P,g)}return P}function C(){let P;for(;l("not");){const k=e[r];++r;const g=C();P=new Y0(k,g)}return P??S()}function S(){let P=I();for(;;){let k;if(l("not","in"))k=new Pt("not in",M.Identifier),r+=2;else if(l("in"))k=e[r++];else if(o(M.ComparisonBinaryOperator))k=e[r++];else break;const g=I();P=new Ta(k,P,g)}return P}function I(){let P=K();for(;o(M.AdditiveBinaryOperator);){const k=e[r];++r;const g=K();P=new Ta(k,P,g)}return P}function T(){const P=Q(le());return o(M.OpenParen)?j(P):P}function j(P){let k=new Wd(P,x());return k=Q(k),o(M.OpenParen)&&(k=j(k)),k}function x(){n(M.OpenParen,"Expected opening parenthesis for arguments list");const P=L();return n(M.CloseParen,"Expected closing parenthesis for arguments list"),P}function L(){const P=[];for(;!o(M.CloseParen);){let k;if(e[r].type===M.MultiplicativeBinaryOperator&&e[r].value==="*"){++r;const g=h();k=new X0(g)}else if(k=h(),o(M.Equals)){if(++r,!(k instanceof Mn))throw new SyntaxError("Expected identifier for keyword argument");const g=h();k=new K0(k,g)}P.push(k),o(M.Comma)&&++r}return P}function R(){const P=[];let k=!1;for(;!o(M.CloseSquareBracket);)o(M.Colon)?(P.push(void 0),++r,k=!0):(P.push(h()),o(M.Colon)&&(++r,k=!0));if(P.length===0)throw new SyntaxError("Expected at least one argument for member/slice expression");if(k){if(P.length>3)throw new SyntaxError("Expected 0-3 arguments for slice expression");return new J0(...P)}return P[0]}function Q(P){for(;o(M.Dot)||o(M.OpenSquareBracket);){const k=e[r];++r;let g;const z=k.type===M.OpenSquareBracket;if(z)g=R(),n(M.CloseSquareBracket,"Expected closing square bracket");else if(g=le(),g.type!=="Identifier")throw new SyntaxError("Expected identifier following dot operator");P=new j0(P,g,z)}return P}function K(){let P=J();for(;o(M.MultiplicativeBinaryOperator);){const k=e[r++],g=J();P=new Ta(k,P,g)}return P}function J(){let P=be();for(;l("is");){++r;const k=l("not");k&&++r;const g=le();if(!(g instanceof Mn))throw new SyntaxError("Expected identifier for the test");P=new Q0(P,k,g)}return P}function be(){let P=T();for(;o(M.Pipe);){++r;let k=le();if(!(k instanceof Mn))throw new SyntaxError("Expected identifier for the filter");o(M.OpenParen)&&(k=j(k)),P=new G0(P,k)}return P}function le(){const P=e[r++];switch(P.type){case M.NumericLiteral:{const k=P.value;return k.includes(".")?new H0(Number(k)):new B0(Number(k))}case M.StringLiteral:{let k=P.value;for(;o(M.StringLiteral);)k+=e[r++].value;return new Vd(k)}case M.Identifier:return new Mn(P.value);case M.OpenParen:{const k=v();return n(M.CloseParen,"Expected closing parenthesis, got ${tokens[current].type} instead."),k}case M.OpenSquareBracket:{const k=[];for(;!o(M.CloseSquareBracket);)k.push(h()),o(M.Comma)&&++r;return++r,new W0(k)}case M.OpenCurlyBracket:{const k=new Map;for(;!o(M.CloseCurlyBracket);){const g=h();n(M.Colon,"Expected colon between key and value in object literal");const z=h();k.set(g,z),o(M.Comma)&&++r}return++r,new V0(k)}default:throw new SyntaxError(`Unexpected token: ${P.type}`)}}for(;r<e.length;)t.body.push(i());return t}function rb(e,t,r=1){t===void 0&&(t=e,e=0);const n=[];for(let a=e;a<t;a+=r)n.push(a);return n}function $d(e,t,r,n=1){const a=Math.sign(n);a>=0?(t=(t??(t=0))<0?Math.max(e.length+t,0):Math.min(t,e.length),r=(r??(r=e.length))<0?Math.max(e.length+r,0):Math.min(r,e.length)):(t=(t??(t=e.length-1))<0?Math.max(e.length+t,-1):Math.min(t,e.length-1),r=(r??(r=-1))<-1?Math.max(e.length+r,-1):Math.min(r,e.length-1));const i=[];for(let o=t;a*o<a*r;o+=n)i.push(e[o]);return i}function nb(e){return e.replace(/\b\w/g,t=>t.toUpperCase())}function ab(e){return ib(new Date,e)}function ib(e,t){const r=new Intl.DateTimeFormat(void 0,{month:"long"}),n=new Intl.DateTimeFormat(void 0,{month:"short"}),a=i=>i<10?"0"+i:i.toString();return t.replace(/%[YmdbBHM%]/g,i=>{switch(i){case"%Y":return e.getFullYear().toString();case"%m":return a(e.getMonth()+1);case"%d":return a(e.getDate());case"%b":return n.format(e);case"%B":return r.format(e);case"%H":return a(e.getHours());case"%M":return a(e.getMinutes());case"%%":return"%";default:return i}})}function ob(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sb(e,t,r,n){if(n===0)return e;let a=n==null||n<0?1/0:n;const i=t.length===0?new RegExp("(?=)","gu"):new RegExp(ob(t),"gu");return e.replaceAll(i,o=>a>0?(--a,r):o)}var qd=class extends Error{},Qd=class extends Error{},rr=class{constructor(e=void 0){W(this,"type","RuntimeValue");W(this,"value");W(this,"builtins",new Map);this.value=e}__bool__(){return new G(!!this.value)}toString(){return String(this.value)}},q=class extends rr{constructor(){super(...arguments);W(this,"type","IntegerValue")}},Me=class extends rr{constructor(){super(...arguments);W(this,"type","FloatValue")}toString(){return this.value%1===0?this.value.toFixed(1):this.value.toString()}},B=class extends rr{constructor(){super(...arguments);W(this,"type","StringValue");W(this,"builtins",new Map([["upper",new ye(()=>new B(this.value.toUpperCase()))],["lower",new ye(()=>new B(this.value.toLowerCase()))],["strip",new ye(()=>new B(this.value.trim()))],["title",new ye(()=>new B(nb(this.value)))],["capitalize",new ye(()=>new B(this.value.charAt(0).toUpperCase()+this.value.slice(1)))],["length",new q(this.value.length)],["rstrip",new ye(()=>new B(this.value.trimEnd()))],["lstrip",new ye(()=>new B(this.value.trimStart()))],["startswith",new ye(t=>{if(t.length===0)throw new Error("startswith() requires at least one argument");const r=t[0];if(r instanceof B)return new G(this.value.startsWith(r.value));if(r instanceof ie){for(const n of r.value){if(!(n instanceof B))throw new Error("startswith() tuple elements must be strings");if(this.value.startsWith(n.value))return new G(!0)}return new G(!1)}throw new Error("startswith() argument must be a string or tuple of strings")})],["endswith",new ye(t=>{if(t.length===0)throw new Error("endswith() requires at least one argument");const r=t[0];if(r instanceof B)return new G(this.value.endsWith(r.value));if(r instanceof ie){for(const n of r.value){if(!(n instanceof B))throw new Error("endswith() tuple elements must be strings");if(this.value.endsWith(n.value))return new G(!0)}return new G(!1)}throw new Error("endswith() argument must be a string or tuple of strings")})],["split",new ye(t=>{const r=t[0]??new Ae;if(!(r instanceof B||r instanceof Ae))throw new Error("sep argument must be a string or null");const n=t[1]??new q(-1);if(!(n instanceof q))throw new Error("maxsplit argument must be a number");let a=[];if(r instanceof Ae){const i=this.value.trimStart();for(const{0:o,index:s}of i.matchAll(/\S+/g)){if(n.value!==-1&&a.length>=n.value&&s!==void 0){a.push(o+i.slice(s+o.length));break}a.push(o)}}else{if(r.value==="")throw new Error("empty separator");a=this.value.split(r.value),n.value!==-1&&a.length>n.value&&a.push(a.splice(n.value).join(r.value))}return new ie(a.map(i=>new B(i)))})],["replace",new ye(t=>{if(t.length<2)throw new Error("replace() requires at least two arguments");const r=t[0],n=t[1];if(!(r instanceof B&&n instanceof B))throw new Error("replace() arguments must be strings");let a;if(t.length>2?t[2].type==="KeywordArgumentsValue"?a=t[2].value.get("count")??new Ae:a=t[2]:a=new Ae,!(a instanceof q||a instanceof Ae))throw new Error("replace() count argument must be a number or null");return new B(sb(this.value,r.value,n.value,a.value))})]]))}},G=class extends rr{constructor(){super(...arguments);W(this,"type","BooleanValue")}};function cn(e,t,r,n=!0){const a=r??0;switch(e.type){case"NullValue":return"null";case"UndefinedValue":return n?"null":"undefined";case"IntegerValue":case"FloatValue":case"StringValue":case"BooleanValue":return JSON.stringify(e.value);case"ArrayValue":case"ObjectValue":{const i=t?" ".repeat(t):"",o=`
`+i.repeat(a),s=o+i;if(e.type==="ArrayValue"){const l=e.value.map(u=>cn(u,t,a+1,n));return t?`[${s}${l.join(`,${s}`)}${o}]`:`[${l.join(", ")}]`}else{const l=Array.from(e.value.entries()).map(([u,f])=>{const c=`"${u}": ${cn(f,t,a+1,n)}`;return t?`${s}${c}`:c});return t?`{${l.join(",")}${o}}`:`{${l.join(", ")}}`}}default:throw new Error(`Cannot convert to JSON: ${e.type}`)}}var qe=class extends rr{constructor(){super(...arguments);W(this,"type","ObjectValue");W(this,"builtins",new Map([["get",new ye(([t,r])=>{if(!(t instanceof B))throw new Error(`Object key must be a string: got ${t.type}`);return this.value.get(t.value)??r??new Ae})],["items",new ye(()=>this.items())],["keys",new ye(()=>this.keys())],["values",new ye(()=>this.values())],["dictsort",new ye(t=>{let r=new Map;const n=t.filter(l=>l instanceof Da?(r=l.value,!1):!0),a=n.at(0)??r.get("case_sensitive")??new G(!1);if(!(a instanceof G))throw new Error("case_sensitive must be a boolean");const i=n.at(1)??r.get("by")??new B("key");if(!(i instanceof B))throw new Error("by must be a string");if(!["key","value"].includes(i.value))throw new Error("by must be either 'key' or 'value'");const o=n.at(2)??r.get("reverse")??new G(!1);if(!(o instanceof G))throw new Error("reverse must be a boolean");const s=Array.from(this.value.entries()).map(([l,u])=>new ie([new B(l),u])).sort((l,u)=>{const f=i.value==="key"?0:1,c=l.value[f],p=u.value[f],d=vu(c,p,a.value);return o.value?-d:d});return new ie(s)})]]))}__bool__(){return new G(this.value.size>0)}items(){return new ie(Array.from(this.value.entries()).map(([t,r])=>new ie([new B(t),r])))}keys(){return new ie(Array.from(this.value.keys()).map(t=>new B(t)))}values(){return new ie(Array.from(this.value.values()))}toString(){return cn(this,null,0,!1)}},Da=class extends qe{constructor(){super(...arguments);W(this,"type","KeywordArgumentsValue")}},ie=class extends rr{constructor(){super(...arguments);W(this,"type","ArrayValue");W(this,"builtins",new Map([["length",new q(this.value.length)]]))}__bool__(){return new G(this.value.length>0)}toString(){return cn(this,null,0,!1)}},lb=class extends ie{constructor(){super(...arguments);W(this,"type","TupleValue")}},ye=class extends rr{constructor(){super(...arguments);W(this,"type","FunctionValue")}},Ae=class extends rr{constructor(){super(...arguments);W(this,"type","NullValue")}},we=class extends rr{constructor(){super(...arguments);W(this,"type","UndefinedValue")}},tn=class{constructor(e){W(this,"variables",new Map([["namespace",new ye(e=>{if(e.length===0)return new qe(new Map);if(e.length!==1||!(e[0]instanceof qe))throw new Error("`namespace` expects either zero arguments or a single object argument");return e[0]})]]));W(this,"tests",new Map([["boolean",e=>e.type==="BooleanValue"],["callable",e=>e instanceof ye],["odd",e=>{if(!(e instanceof q))throw new Error(`cannot odd on ${e.type}`);return e.value%2!==0}],["even",e=>{if(!(e instanceof q))throw new Error(`cannot even on ${e.type}`);return e.value%2===0}],["false",e=>e.type==="BooleanValue"&&!e.value],["true",e=>e.type==="BooleanValue"&&e.value],["none",e=>e.type==="NullValue"],["string",e=>e.type==="StringValue"],["number",e=>e instanceof q||e instanceof Me],["integer",e=>e instanceof q],["iterable",e=>e.type==="ArrayValue"||e.type==="StringValue"],["mapping",e=>e.type==="ObjectValue"],["lower",e=>{const t=e.value;return e.type==="StringValue"&&t===t.toLowerCase()}],["upper",e=>{const t=e.value;return e.type==="StringValue"&&t===t.toUpperCase()}],["none",e=>e.type==="NullValue"],["defined",e=>e.type!=="UndefinedValue"],["undefined",e=>e.type==="UndefinedValue"],["equalto",(e,t)=>e.value===t.value],["eq",(e,t)=>e.value===t.value]]));this.parent=e}set(e,t){return this.declareVariable(e,ho(t))}declareVariable(e,t){if(this.variables.has(e))throw new SyntaxError(`Variable already declared: ${e}`);return this.variables.set(e,t),t}setVariable(e,t){return this.variables.set(e,t),t}resolve(e){if(this.variables.has(e))return this;if(this.parent)return this.parent.resolve(e);throw new Error(`Unknown variable: ${e}`)}lookupVariable(e){try{return this.resolve(e).variables.get(e)??new we}catch{return new we}}};function ub(e){e.set("false",!1),e.set("true",!0),e.set("none",null),e.set("raise_exception",t=>{throw new Error(t)}),e.set("range",rb),e.set("strftime_now",ab),e.set("True",!0),e.set("False",!1),e.set("None",null)}function Yd(e,t){const r=t.split(".");let n=e;for(const a of r)if(n instanceof qe)n=n.value.get(a)??new we;else if(n instanceof ie){const i=parseInt(a,10);if(!isNaN(i)&&i>=0&&i<n.value.length)n=n.value[i];else return new we}else return new we;return n}function vu(e,t,r=!1){if(e instanceof Ae&&t instanceof Ae)return 0;if(e instanceof Ae||t instanceof Ae)throw new Error(`Cannot compare ${e.type} with ${t.type}`);if(e instanceof we&&t instanceof we)return 0;if(e instanceof we||t instanceof we)throw new Error(`Cannot compare ${e.type} with ${t.type}`);const n=i=>i instanceof q||i instanceof Me||i instanceof G,a=i=>i instanceof G?i.value?1:0:i.value;if(n(e)&&n(t)){const i=a(e),o=a(t);return i<o?-1:i>o?1:0}if(e.type!==t.type)throw new Error(`Cannot compare different types: ${e.type} and ${t.type}`);switch(e.type){case"StringValue":{let i=e.value,o=t.value;return r||(i=i.toLowerCase(),o=o.toLowerCase()),i<o?-1:i>o?1:0}default:throw new Error(`Cannot compare type: ${e.type}`)}}var cb=class{constructor(e){W(this,"global");this.global=e??new tn}run(e){return this.evaluate(e,this.global)}evaluateBinaryExpression(e,t){const r=this.evaluate(e.left,t);switch(e.operator.value){case"and":return r.__bool__().value?this.evaluate(e.right,t):r;case"or":return r.__bool__().value?r:this.evaluate(e.right,t)}const n=this.evaluate(e.right,t);switch(e.operator.value){case"==":return new G(r.value==n.value);case"!=":return new G(r.value!=n.value)}if(r instanceof we||n instanceof we){if(n instanceof we&&["in","not in"].includes(e.operator.value))return new G(e.operator.value==="not in");throw new Error(`Cannot perform operation ${e.operator.value} on undefined values`)}else{if(r instanceof Ae||n instanceof Ae)throw new Error("Cannot perform operation on null values");if(e.operator.value==="~")return new B(r.value.toString()+n.value.toString());if((r instanceof q||r instanceof Me)&&(n instanceof q||n instanceof Me)){const a=r.value,i=n.value;switch(e.operator.value){case"+":case"-":case"*":{const o=e.operator.value==="+"?a+i:e.operator.value==="-"?a-i:a*i;return r instanceof Me||n instanceof Me?new Me(o):new q(o)}case"/":return new Me(a/i);case"%":{const o=a%i;return r instanceof Me||n instanceof Me?new Me(o):new q(o)}case"<":return new G(a<i);case">":return new G(a>i);case">=":return new G(a>=i);case"<=":return new G(a<=i)}}else if(r instanceof ie&&n instanceof ie)switch(e.operator.value){case"+":return new ie(r.value.concat(n.value))}else if(n instanceof ie){const a=n.value.find(i=>i.value===r.value)!==void 0;switch(e.operator.value){case"in":return new G(a);case"not in":return new G(!a)}}}if(r instanceof B||n instanceof B)switch(e.operator.value){case"+":return new B(r.value.toString()+n.value.toString())}if(r instanceof B&&n instanceof B)switch(e.operator.value){case"in":return new G(n.value.includes(r.value));case"not in":return new G(!n.value.includes(r.value))}if(r instanceof B&&n instanceof qe)switch(e.operator.value){case"in":return new G(n.value.has(r.value));case"not in":return new G(!n.value.has(r.value))}throw new SyntaxError(`Unknown operator "${e.operator.value}" between ${r.type} and ${n.type}`)}evaluateArguments(e,t){const r=[],n=new Map;for(const a of e)if(a.type==="SpreadExpression"){const i=a,o=this.evaluate(i.argument,t);if(!(o instanceof ie))throw new Error(`Cannot unpack non-iterable type: ${o.type}`);for(const s of o.value)r.push(s)}else if(a.type==="KeywordArgumentExpression"){const i=a;n.set(i.key.value,this.evaluate(i.value,t))}else{if(n.size>0)throw new Error("Positional arguments must come before keyword arguments");r.push(this.evaluate(a,t))}return[r,n]}applyFilter(e,t,r){if(t.type==="Identifier"){const n=t;if(n.value==="tojson")return new B(cn(e));if(e instanceof ie)switch(n.value){case"list":return e;case"first":return e.value[0];case"last":return e.value[e.value.length-1];case"length":return new q(e.value.length);case"reverse":return new ie(e.value.slice().reverse());case"sort":return new ie(e.value.slice().sort((a,i)=>vu(a,i,!1)));case"join":return new B(e.value.map(a=>a.value).join(""));case"string":return new B(cn(e,null,0,!1));case"unique":{const a=new Set,i=[];for(const o of e.value)a.has(o.value)||(a.add(o.value),i.push(o));return new ie(i)}default:throw new Error(`Unknown ArrayValue filter: ${n.value}`)}else if(e instanceof B)switch(n.value){case"length":case"upper":case"lower":case"title":case"capitalize":{const a=e.builtins.get(n.value);if(a instanceof ye)return a.value([],r);if(a instanceof q)return a;throw new Error(`Unknown StringValue filter: ${n.value}`)}case"trim":return new B(e.value.trim());case"indent":return new B(e.value.split(`
`).map((a,i)=>i===0||a.length===0?a:"    "+a).join(`
`));case"join":case"string":return e;case"int":{const a=parseInt(e.value,10);return new q(isNaN(a)?0:a)}case"float":{const a=parseFloat(e.value);return new Me(isNaN(a)?0:a)}default:throw new Error(`Unknown StringValue filter: ${n.value}`)}else if(e instanceof q||e instanceof Me)switch(n.value){case"abs":return e instanceof q?new q(Math.abs(e.value)):new Me(Math.abs(e.value));case"int":return new q(Math.floor(e.value));case"float":return new Me(e.value);default:throw new Error(`Unknown NumericValue filter: ${n.value}`)}else if(e instanceof qe)switch(n.value){case"items":return new ie(Array.from(e.value.entries()).map(([a,i])=>new ie([new B(a),i])));case"length":return new q(e.value.size);default:{const a=e.builtins.get(n.value);if(a)return a instanceof ye?a.value([],r):a;throw new Error(`Unknown ObjectValue filter: ${n.value}`)}}else if(e instanceof G)switch(n.value){case"bool":return new G(e.value);case"int":return new q(e.value?1:0);case"float":return new Me(e.value?1:0);case"string":return new B(e.value?"true":"false");default:throw new Error(`Unknown BooleanValue filter: ${n.value}`)}throw new Error(`Cannot apply filter "${n.value}" to type: ${e.type}`)}else if(t.type==="CallExpression"){const n=t;if(n.callee.type!=="Identifier")throw new Error(`Unknown filter: ${n.callee.type}`);const a=n.callee.value;if(a==="tojson"){const[,i]=this.evaluateArguments(n.args,r),o=i.get("indent")??new Ae;if(!(o instanceof q||o instanceof Ae))throw new Error("If set, indent must be a number");return new B(cn(e,o.value))}else if(a==="join"){let i;if(e instanceof B)i=Array.from(e.value);else if(e instanceof ie)i=e.value.map(u=>u.value);else throw new Error(`Cannot apply filter "${a}" to type: ${e.type}`);const[o,s]=this.evaluateArguments(n.args,r),l=o.at(0)??s.get("separator")??new B("");if(!(l instanceof B))throw new Error("separator must be a string");return new B(i.join(l.value))}else if(a==="int"||a==="float"){const[i,o]=this.evaluateArguments(n.args,r),s=i.at(0)??o.get("default")??(a==="int"?new q(0):new Me(0));if(e instanceof B){const l=a==="int"?parseInt(e.value,10):parseFloat(e.value);return isNaN(l)?s:a==="int"?new q(l):new Me(l)}else{if(e instanceof q||e instanceof Me)return e;if(e instanceof G)return a==="int"?new q(e.value?1:0):new Me(e.value?1:0);throw new Error(`Cannot apply filter "${a}" to type: ${e.type}`)}}else if(a==="default"){const[i,o]=this.evaluateArguments(n.args,r),s=i[0]??new B(""),l=i[1]??o.get("boolean")??new G(!1);if(!(l instanceof G))throw new Error("`default` filter flag must be a boolean");return e instanceof we||l.value&&!e.__bool__().value?s:e}if(e instanceof ie){switch(a){case"sort":{const[i,o]=this.evaluateArguments(n.args,r),s=i.at(0)??o.get("reverse")??new G(!1);if(!(s instanceof G))throw new Error("reverse must be a boolean");const l=i.at(1)??o.get("case_sensitive")??new G(!1);if(!(l instanceof G))throw new Error("case_sensitive must be a boolean");const u=i.at(2)??o.get("attribute")??new Ae;if(!(u instanceof B||u instanceof q||u instanceof Ae))throw new Error("attribute must be a string, integer, or null");const f=c=>{if(u instanceof Ae)return c;const p=u instanceof q?String(u.value):u.value;return Yd(c,p)};return new ie(e.value.slice().sort((c,p)=>{const d=f(c),m=f(p),v=vu(d,m,l.value);return s.value?-v:v}))}case"selectattr":case"rejectattr":{const i=a==="selectattr";if(e.value.some(c=>!(c instanceof qe)))throw new Error(`\`${a}\` can only be applied to array of objects`);if(n.args.some(c=>c.type!=="StringLiteral"))throw new Error(`arguments of \`${a}\` must be strings`);const[o,s,l]=n.args.map(c=>this.evaluate(c,r));let u;if(s){const c=r.tests.get(s.value);if(!c)throw new Error(`Unknown test: ${s.value}`);u=c}else u=(...c)=>c[0].__bool__().value;const f=e.value.filter(c=>{const p=c.value.get(o.value),d=p?u(p,l):!1;return i?d:!d});return new ie(f)}case"map":{const[,i]=this.evaluateArguments(n.args,r);if(i.has("attribute")){const o=i.get("attribute");if(!(o instanceof B))throw new Error("attribute must be a string");const s=i.get("default"),l=e.value.map(u=>{if(!(u instanceof qe))throw new Error("items in map must be an object");const f=Yd(u,o.value);return f instanceof we?s??new we:f});return new ie(l)}else throw new Error("`map` expressions without `attribute` set are not currently supported.")}}throw new Error(`Unknown ArrayValue filter: ${a}`)}else if(e instanceof B){switch(a){case"indent":{const[i,o]=this.evaluateArguments(n.args,r),s=i.at(0)??o.get("width")??new q(4);if(!(s instanceof q))throw new Error("width must be a number");const l=i.at(1)??o.get("first")??new G(!1),u=i.at(2)??o.get("blank")??new G(!1),f=e.value.split(`
`),c=" ".repeat(s.value),p=f.map((d,m)=>!l.value&&m===0||!u.value&&d.length===0?d:c+d);return new B(p.join(`
`))}case"replace":{const i=e.builtins.get("replace");if(!(i instanceof ye))throw new Error("replace filter not available");const[o,s]=this.evaluateArguments(n.args,r);return i.value([...o,new Da(s)],r)}}throw new Error(`Unknown StringValue filter: ${a}`)}else if(e instanceof qe){const i=e.builtins.get(a);if(i&&i instanceof ye){const[o,s]=this.evaluateArguments(n.args,r);return s.size>0&&o.push(new Da(s)),i.value(o,r)}throw new Error(`Unknown ObjectValue filter: ${a}`)}else throw new Error(`Cannot apply filter "${a}" to type: ${e.type}`)}throw new Error(`Unknown filter: ${t.type}`)}evaluateFilterExpression(e,t){const r=this.evaluate(e.operand,t);return this.applyFilter(r,e.filter,t)}evaluateTestExpression(e,t){const r=this.evaluate(e.operand,t),n=t.tests.get(e.test.value);if(!n)throw new Error(`Unknown test: ${e.test.value}`);const a=n(r);return new G(e.negate?!a:a)}evaluateSelectExpression(e,t){return this.evaluate(e.test,t).__bool__().value?this.evaluate(e.lhs,t):new we}evaluateUnaryExpression(e,t){const r=this.evaluate(e.argument,t);switch(e.operator.value){case"not":return new G(!r.value);default:throw new SyntaxError(`Unknown operator: ${e.operator.value}`)}}evaluateTernaryExpression(e,t){return this.evaluate(e.condition,t).__bool__().value?this.evaluate(e.trueExpr,t):this.evaluate(e.falseExpr,t)}evalProgram(e,t){return this.evaluateBlock(e.body,t)}evaluateBlock(e,t){let r="";for(const n of e){const a=this.evaluate(n,t);a.type!=="NullValue"&&a.type!=="UndefinedValue"&&(r+=a.toString())}return new B(r)}evaluateIdentifier(e,t){return t.lookupVariable(e.value)}evaluateCallExpression(e,t){const[r,n]=this.evaluateArguments(e.args,t);n.size>0&&r.push(new Da(n));const a=this.evaluate(e.callee,t);if(a.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${a.type}`);return a.value(r,t)}evaluateSliceExpression(e,t,r){if(!(e instanceof ie||e instanceof B))throw new Error("Slice object must be an array or string");const n=this.evaluate(t.start,r),a=this.evaluate(t.stop,r),i=this.evaluate(t.step,r);if(!(n instanceof q||n instanceof we))throw new Error("Slice start must be numeric or undefined");if(!(a instanceof q||a instanceof we))throw new Error("Slice stop must be numeric or undefined");if(!(i instanceof q||i instanceof we))throw new Error("Slice step must be numeric or undefined");return e instanceof ie?new ie($d(e.value,n.value,a.value,i.value)):new B($d(Array.from(e.value),n.value,a.value,i.value).join(""))}evaluateMemberExpression(e,t){const r=this.evaluate(e.object,t);let n;if(e.computed){if(e.property.type==="SliceExpression")return this.evaluateSliceExpression(r,e.property,t);n=this.evaluate(e.property,t)}else n=new B(e.property.value);let a;if(r instanceof qe){if(!(n instanceof B))throw new Error(`Cannot access property with non-string: got ${n.type}`);a=r.value.get(n.value)??r.builtins.get(n.value)}else if(r instanceof ie||r instanceof B)if(n instanceof q)a=r.value.at(n.value),r instanceof B&&(a=new B(r.value.at(n.value)));else if(n instanceof B)a=r.builtins.get(n.value);else throw new Error(`Cannot access property with non-string/non-number: got ${n.type}`);else{if(!(n instanceof B))throw new Error(`Cannot access property with non-string: got ${n.type}`);a=r.builtins.get(n.value)}return a instanceof rr?a:new we}evaluateSet(e,t){const r=e.value?this.evaluate(e.value,t):this.evaluateBlock(e.body,t);if(e.assignee.type==="Identifier"){const n=e.assignee.value;t.setVariable(n,r)}else if(e.assignee.type==="TupleLiteral"){const n=e.assignee;if(!(r instanceof ie))throw new Error(`Cannot unpack non-iterable type in set: ${r.type}`);const a=r.value;if(a.length!==n.value.length)throw new Error(`Too ${n.value.length>a.length?"few":"many"} items to unpack in set`);for(let i=0;i<n.value.length;++i){const o=n.value[i];if(o.type!=="Identifier")throw new Error(`Cannot unpack to non-identifier in set: ${o.type}`);t.setVariable(o.value,a[i])}}else if(e.assignee.type==="MemberExpression"){const n=e.assignee,a=this.evaluate(n.object,t);if(!(a instanceof qe))throw new Error("Cannot assign to member of non-object");if(n.property.type!=="Identifier")throw new Error("Cannot assign to member with non-identifier property");a.value.set(n.property.value,r)}else throw new Error(`Invalid LHS inside assignment expression: ${JSON.stringify(e.assignee)}`);return new Ae}evaluateIf(e,t){const r=this.evaluate(e.test,t);return this.evaluateBlock(r.__bool__().value?e.body:e.alternate,t)}evaluateFor(e,t){const r=new tn(t);let n,a;if(e.iterable.type==="SelectExpression"){const u=e.iterable;a=this.evaluate(u.lhs,r),n=u.test}else a=this.evaluate(e.iterable,r);if(!(a instanceof ie||a instanceof qe))throw new Error(`Expected iterable or object type in for loop: got ${a.type}`);a instanceof qe&&(a=a.keys());const i=[],o=[];for(let u=0;u<a.value.length;++u){const f=new tn(r),c=a.value[u];let p;if(e.loopvar.type==="Identifier")p=d=>d.setVariable(e.loopvar.value,c);else if(e.loopvar.type==="TupleLiteral"){const d=e.loopvar;if(c.type!=="ArrayValue")throw new Error(`Cannot unpack non-iterable type: ${c.type}`);const m=c;if(d.value.length!==m.value.length)throw new Error(`Too ${d.value.length>m.value.length?"few":"many"} items to unpack`);p=v=>{for(let E=0;E<d.value.length;++E){if(d.value[E].type!=="Identifier")throw new Error(`Cannot unpack non-identifier type: ${d.value[E].type}`);v.setVariable(d.value[E].value,m.value[E])}}}else throw new Error(`Invalid loop variable(s): ${e.loopvar.type}`);n&&(p(f),!this.evaluate(n,f).__bool__().value)||(i.push(c),o.push(p))}let s="",l=!0;for(let u=0;u<i.length;++u){const f=new Map([["index",new q(u+1)],["index0",new q(u)],["revindex",new q(i.length-u)],["revindex0",new q(i.length-u-1)],["first",new G(u===0)],["last",new G(u===i.length-1)],["length",new q(i.length)],["previtem",u>0?i[u-1]:new we],["nextitem",u<i.length-1?i[u+1]:new we]]);r.setVariable("loop",new qe(f)),o[u](r);try{const c=this.evaluateBlock(e.body,r);s+=c.value}catch(c){if(c instanceof Qd)continue;if(c instanceof qd)break;throw c}l=!1}if(l){const u=this.evaluateBlock(e.defaultBlock,r);s+=u.value}return new B(s)}evaluateMacro(e,t){return t.setVariable(e.name.value,new ye((r,n)=>{var o;const a=new tn(n);r=r.slice();let i;((o=r.at(-1))==null?void 0:o.type)==="KeywordArgumentsValue"&&(i=r.pop());for(let s=0;s<e.args.length;++s){const l=e.args[s],u=r[s];if(l.type==="Identifier"){const f=l;if(!u)throw new Error(`Missing positional argument: ${f.value}`);a.setVariable(f.value,u)}else if(l.type==="KeywordArgumentExpression"){const f=l,c=u??(i==null?void 0:i.value.get(f.key.value))??this.evaluate(f.value,a);a.setVariable(f.key.value,c)}else throw new Error(`Unknown argument type: ${l.type}`)}return this.evaluateBlock(e.body,a)})),new Ae}evaluateCallStatement(e,t){const r=new ye((s,l)=>{const u=new tn(l);if(e.callerArgs)for(let f=0;f<e.callerArgs.length;++f){const c=e.callerArgs[f];if(c.type!=="Identifier")throw new Error(`Caller parameter must be an identifier, got ${c.type}`);u.setVariable(c.value,s[f]??new we)}return this.evaluateBlock(e.body,u)}),[n,a]=this.evaluateArguments(e.call.args,t);n.push(new Da(a));const i=this.evaluate(e.call.callee,t);if(i.type!=="FunctionValue")throw new Error(`Cannot call something that is not a function: got ${i.type}`);const o=new tn(t);return o.setVariable("caller",r),i.value(n,o)}evaluateFilterStatement(e,t){const r=this.evaluateBlock(e.body,t);return this.applyFilter(r,e.filter,t)}evaluate(e,t){if(!e)return new we;switch(e.type){case"Program":return this.evalProgram(e,t);case"Set":return this.evaluateSet(e,t);case"If":return this.evaluateIf(e,t);case"For":return this.evaluateFor(e,t);case"Macro":return this.evaluateMacro(e,t);case"CallStatement":return this.evaluateCallStatement(e,t);case"Break":throw new qd;case"Continue":throw new Qd;case"IntegerLiteral":return new q(e.value);case"FloatLiteral":return new Me(e.value);case"StringLiteral":return new B(e.value);case"ArrayLiteral":return new ie(e.value.map(r=>this.evaluate(r,t)));case"TupleLiteral":return new lb(e.value.map(r=>this.evaluate(r,t)));case"ObjectLiteral":{const r=new Map;for(const[n,a]of e.value){const i=this.evaluate(n,t);if(!(i instanceof B))throw new Error(`Object keys must be strings: got ${i.type}`);r.set(i.value,this.evaluate(a,t))}return new qe(r)}case"Identifier":return this.evaluateIdentifier(e,t);case"CallExpression":return this.evaluateCallExpression(e,t);case"MemberExpression":return this.evaluateMemberExpression(e,t);case"UnaryExpression":return this.evaluateUnaryExpression(e,t);case"BinaryExpression":return this.evaluateBinaryExpression(e,t);case"FilterExpression":return this.evaluateFilterExpression(e,t);case"FilterStatement":return this.evaluateFilterStatement(e,t);case"TestExpression":return this.evaluateTestExpression(e,t);case"SelectExpression":return this.evaluateSelectExpression(e,t);case"Ternary":return this.evaluateTernaryExpression(e,t);case"Comment":return new Ae;default:throw new SyntaxError(`Unknown node type: ${e.type}`)}}};function ho(e){switch(typeof e){case"number":return Number.isInteger(e)?new q(e):new Me(e);case"string":return new B(e);case"boolean":return new G(e);case"undefined":return new we;case"object":return e===null?new Ae:Array.isArray(e)?new ie(e.map(ho)):new qe(new Map(Object.entries(e).map(([t,r])=>[t,ho(r)])));case"function":return new ye((t,r)=>{const n=e(...t.map(a=>a.value))??null;return ho(n)});default:throw new Error(`Cannot convert to runtime value: ${e}`)}}var Re=`
`,fb="{%- ",db=" -%}";function pb(e){switch(e.operator.type){case"MultiplicativeBinaryOperator":return 4;case"AdditiveBinaryOperator":return 3;case"ComparisonBinaryOperator":return 2;case"Identifier":return e.operator.value==="and"?1:e.operator.value==="in"||e.operator.value==="not in"?2:0}return 0}function mb(e,t="	"){const r=typeof t=="number"?" ".repeat(t):t;return Bt(e.body,0,r).replace(/\n$/,"")}function He(...e){return fb+e.join(" ")+db}function Bt(e,t,r){return e.map(n=>hb(n,t,r)).join(Re)}function hb(e,t,r){const n=r.repeat(t);switch(e.type){case"Program":return Bt(e.body,t,r);case"If":return gb(e,t,r);case"For":return wb(e,t,r);case"Set":return yb(e,t,r);case"Macro":return vb(e,t,r);case"Break":return n+He("break");case"Continue":return n+He("continue");case"CallStatement":return _b(e,t,r);case"FilterStatement":return bb(e,t,r);case"Comment":return n+"{# "+e.value+" #}";default:return n+"{{- "+ne(e)+" -}}"}}function gb(e,t,r){const n=r.repeat(t),a=[];let i=e;for(;i&&(a.push({test:i.test,body:i.body}),i.alternate.length===1&&i.alternate[0].type==="If");)i=i.alternate[0];let o=n+He("if",ne(a[0].test))+Re+Bt(a[0].body,t+1,r);for(let s=1;s<a.length;++s)o+=Re+n+He("elif",ne(a[s].test))+Re+Bt(a[s].body,t+1,r);return i&&i.alternate.length>0&&(o+=Re+n+He("else")+Re+Bt(i.alternate,t+1,r)),o+=Re+n+He("endif"),o}function wb(e,t,r){const n=r.repeat(t);let a="";if(e.iterable.type==="SelectExpression"){const o=e.iterable;a=`${ne(o.lhs)} if ${ne(o.test)}`}else a=ne(e.iterable);let i=n+He("for",ne(e.loopvar),"in",a)+Re+Bt(e.body,t+1,r);return e.defaultBlock.length>0&&(i+=Re+n+He("else")+Re+Bt(e.defaultBlock,t+1,r)),i+=Re+n+He("endfor"),i}function yb(e,t,r){const n=r.repeat(t),a=ne(e.assignee),i=e.value?ne(e.value):"",o=n+He("set",`${a}${e.value?" = "+i:""}`);return e.body.length===0?o:o+Re+Bt(e.body,t+1,r)+Re+n+He("endset")}function vb(e,t,r){const n=r.repeat(t),a=e.args.map(ne).join(", ");return n+He("macro",`${e.name.value}(${a})`)+Re+Bt(e.body,t+1,r)+Re+n+He("endmacro")}function _b(e,t,r){const n=r.repeat(t),a=e.callerArgs&&e.callerArgs.length>0?`(${e.callerArgs.map(ne).join(", ")})`:"",i=ne(e.call);let o=n+He(`call${a}`,i)+Re;return o+=Bt(e.body,t+1,r)+Re,o+=n+He("endcall"),o}function bb(e,t,r){const n=r.repeat(t),a=e.filter.type==="Identifier"?e.filter.value:ne(e.filter);let i=n+He("filter",a)+Re;return i+=Bt(e.body,t+1,r)+Re,i+=n+He("endfilter"),i}function ne(e,t=-1){switch(e.type){case"SpreadExpression":return`*${ne(e.argument)}`;case"Identifier":return e.value;case"IntegerLiteral":return`${e.value}`;case"FloatLiteral":return`${e.value}`;case"StringLiteral":return JSON.stringify(e.value);case"BinaryExpression":{const r=e,n=pb(r),a=ne(r.left,n),i=ne(r.right,n+1),o=`${a} ${r.operator.value} ${i}`;return n<t?`(${o})`:o}case"UnaryExpression":{const r=e;return r.operator.value+(r.operator.value==="not"?" ":"")+ne(r.argument,1/0)}case"CallExpression":{const r=e,n=r.args.map(ne).join(", ");return`${ne(r.callee)}(${n})`}case"MemberExpression":{const r=e;let n=ne(r.object);["Identifier","MemberExpression","CallExpression","StringLiteral","IntegerLiteral","FloatLiteral","ArrayLiteral","TupleLiteral","ObjectLiteral"].includes(r.object.type)||(n=`(${n})`);let a=ne(r.property);return!r.computed&&r.property.type!=="Identifier"&&(a=`(${a})`),r.computed?`${n}[${a}]`:`${n}.${a}`}case"FilterExpression":{const r=e,n=ne(r.operand,1/0);return r.filter.type==="CallExpression"?`${n} | ${ne(r.filter)}`:`${n} | ${r.filter.value}`}case"SelectExpression":{const r=e;return`${ne(r.lhs)} if ${ne(r.test)}`}case"TestExpression":{const r=e;return`${ne(r.operand)} is${r.negate?" not":""} ${r.test.value}`}case"ArrayLiteral":case"TupleLiteral":{const r=e.value.map(ne),n=e.type==="ArrayLiteral"?"[]":"()";return`${n[0]}${r.join(", ")}${n[1]}`}case"ObjectLiteral":return`{${Array.from(e.value.entries()).map(([n,a])=>`${ne(n)}: ${ne(a)}`).join(", ")}}`;case"SliceExpression":{const r=e,n=r.start?ne(r.start):"",a=r.stop?ne(r.stop):"",i=r.step?`:${ne(r.step)}`:"";return`${n}:${a}${i}`}case"KeywordArgumentExpression":{const r=e;return`${r.key.value}=${ne(r.value)}`}case"Ternary":{const r=e,n=`${ne(r.trueExpr)} if ${ne(r.condition,0)} else ${ne(r.falseExpr)}`;return t>-1?`(${n})`:n}default:throw new Error(`Unknown expression type: ${e.type}`)}}var Sb=class{constructor(e){W(this,"parsed");const t=T0(e,{lstrip_blocks:!0,trim_blocks:!0});this.parsed=tb(t)}render(e){const t=new tn;if(ub(t),e)for(const[a,i]of Object.entries(e))t.set(a,i);return new cb(t).run(this.parsed).value}format(e){return mb(this.parsed,(e==null?void 0:e.indent)||"	")}},Pe=(e=>(e[e.GUIDE=0]="GUIDE",e[e.CHAT=1]="CHAT",e[e.MODEL=2]="MODEL",e[e.LOG=3]="LOG",e))(Pe||{}),Ue=(e=>(e[e.NOT_DOWNLOADED=0]="NOT_DOWNLOADED",e[e.DOWNLOADING=1]="DOWNLOADING",e[e.READY=2]="READY",e[e.LOADING=3]="LOADING",e[e.LOADED=4]="LOADED",e))(Ue||{});const kb=""+new URL("wllama-Caw1GSwN.wasm",import.meta.url).href,xb=""+new URL("wllama-OzNLbP93.wasm",import.meta.url).href,Pb="@wllama/wllama",Eb="2.3.7",Fb="WebAssembly binding for llama.cpp - Enabling on-browser LLM inference",Cb="index.js",Mb="module",Ab={example:"examples"},Tb={serve:"node ./scripts/http_server.js","serve:mt":"MULTITHREAD=1 node ./scripts/http_server.js",clean:"rm -rf ./esm && rm -rf ./docs && rm -rf ./wasm","build:worker":"./scripts/build_worker.sh","build:glue":"node ./cpp/generate_glue_prototype.js","build:wasm":"./scripts/build_wasm.sh && npm run build:glue","build:tsup":"tsup src/index.ts --format cjs,esm --clean","build:minified":"terser esm/index.js -o esm/index.min.js --compress --mangle --source-map","build:typedef":"tsc --emitDeclarationOnly --declaration -p tsconfig.build.json",build:"npm run clean && npm run build:worker && npm run build:tsup && npm run build:minified && npm run build:typedef",postbuild:"./scripts/post_build.sh && npm run docs",docs:"typedoc --tsconfig tsconfig.build.json src/index.ts",upload:"npm run format && npm run build && npm publish --access public",format:"prettier --write .",test:"vitest","test:firefox":"BROWSER=firefox vitest","test:safari":"BROWSER=safari vitest"},Ib={type:"git",url:"git+https://github.com/ngxson/wllama.git"},Ob=["wasm","webassembly","llama","llm","ai","rag","embeddings","generation"],Nb="Xuan Son NGUYEN <contact@ngxson.com>",Ub="MIT",Lb={url:"https://github.com/ngxson/wllama/issues"},Rb="https://github.com/ngxson/wllama#readme",Db={"@vitest/browser":"^2.1.6","@webgpu/types":"^0.1.68",express:"^4.18.3","mime-types":"^2.1.35",playwright:"^1.49.0",prettier:"^3.3.3",terser:"^5.39.0",tsup:"^8.4.0",typedoc:"^0.27.2",typescript:"^5.4.2",webdriverio:"^9.4.1"},zb={trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0,bracketSameLine:!1},jb={name:Pb,version:Eb,description:Fb,main:Cb,type:Mb,directories:Ab,scripts:Tb,repository:Ib,keywords:Ob,author:Nb,license:Ub,bugs:Lb,homepage:Rb,devDependencies:Db,prettier:zb},Bb=jb.version,Gc={"single-thread/wllama.wasm":kb,"multi-thread/wllama.wasm":xb},jg=2*1024*1024*1024,Hb=[{url:"https://huggingface.co/LiquidAI/LFM2-350M-GGUF/resolve/main/LFM2-350M-Q4_K_M.gguf",size:229309376},{url:"https://huggingface.co/LiquidAI/LFM2-700M-GGUF/resolve/main/LFM2-700M-Q4_K_M.gguf",size:468624320},{url:"https://huggingface.co/LiquidAI/LFM2-1.2B-GGUF/resolve/main/LFM2-1.2B-Q4_K_M.gguf",size:730893248},{url:"https://huggingface.co/unsloth/Qwen3-0.6B-GGUF/resolve/main/Qwen3-0.6B-Q8_0.gguf",size:639447744},{url:"https://huggingface.co/unsloth/Qwen3-1.7B-GGUF/resolve/main/Qwen3-1.7B-Q4_K_M.gguf",size:1107409472},{url:"https://huggingface.co/ggml-org/SmolLM3-3B-GGUF/resolve/main/SmolLM3-Q4_K_M.gguf",size:1915305312},{url:"https://huggingface.co/ngxson/SmolLM2-360M-Instruct-Q8_0-GGUF/resolve/main/smollm2-360m-instruct-q8_0.gguf",size:386404992},{url:"https://huggingface.co/Qwen/Qwen2.5-0.5B-Instruct-GGUF/resolve/main/qwen2.5-0.5b-instruct-q8_0.gguf",size:675710816},{url:"https://huggingface.co/hugging-quants/Llama-3.2-1B-Instruct-Q4_K_M-GGUF/resolve/main/llama-3.2-1b-instruct-q4_k_m.gguf",size:807690656},{url:"https://huggingface.co/bartowski/DeepSeek-R1-Distill-Qwen-1.5B-GGUF/resolve/main/DeepSeek-R1-Distill-Qwen-1.5B-Q3_K_M.gguf",size:924456032},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/qwen2-1_5b-instruct-q4_k_m-00001-of-00004.gguf",size:986046272},{url:"https://huggingface.co/ngxson/SmolLM2-1.7B-Instruct-Q4_K_M-GGUF/resolve/main/smollm2-1.7b-instruct-q4_k_m.gguf",size:1055609536},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/gemma-2-2b-it-abliterated-Q4_K_M-00001-of-00004.gguf",size:1708583264},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/neuralreyna-mini-1.8b-v0.3.q4_k_m-00001-of-00005.gguf",size:1217753472},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/Phi-3.1-mini-128k-instruct-Q3_K_M-00001-of-00008.gguf",size:1955478176},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/meta-llama-3.1-8b-instruct-abliterated.Q2_K-00001-of-00014.gguf",size:3179133600},{url:"https://huggingface.co/ngxson/wllama-split-models/resolve/main/Meta-Llama-3.1-8B-Instruct-Q2_K-00001-of-00014.gguf",size:3179138048}],Bg={nThreads:-1,nContext:4096,nPredict:4096,nBatch:128,temperature:.2},Wb=`{% for message in messages %}{{'<|im_start|>' + message['role'] + '
' + message['content'] + '<|im_end|>' + '
'}}{% endfor %}{% if add_generation_prompt %}{{ '<|im_start|>assistant
' }}{% endif %}`,Vb=e=>new Promise(t=>setTimeout(t,e)),Gb=e=>Z.useEffect(()=>{e()},[]),fr={save(e,t){localStorage.setItem(e,JSON.stringify(t))},load(e,t){return localStorage[e]?JSON.parse(localStorage[e]):t}},$b=()=>fr.load("welcome",!0)?Pe.GUIDE:Pe.MODEL,qb=async(e,t)=>{const r=e.getChatTemplate()??Wb;if(r.match(/<Assistant>/)&&r.match(/<User>/)&&r.match(/<\/think>/)){let s="";for(const l of t)l.role==="system"?s+=`${l.content}

`:l.role==="user"?s+=`<User>${l.content}`:s+=`<Assistant>${l.content.split("</think>").pop()}<endofsentence>`;return s+"<Assistant>"}const a=new Sb(r),i=await e.detokenize([e.getBOS()],!0),o=await e.detokenize([e.getEOS()],!0);return a.render({messages:t,bos_token:i,eos_token:o,add_generation_prompt:!0})},Qb=e=>{const t=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];let r=e,n=0;for(;r>=1024&&n<t.length-1;)r/=1024,n++;return`${r.toFixed(1)} ${t[n]}`},Et={content:[],debug(...e){console.debug("",...e),Et.content.push(` ${Et.argsToStr(e)}`)},log(...e){console.log("",...e),Et.content.push(` ${Et.argsToStr(e)}`)},warn(...e){console.warn("",...e),Et.content.push(` ${Et.argsToStr(e)}`)},error(...e){console.error("",...e),Et.content.push(` ${Et.argsToStr(e)}`)},argsToStr(e){return e.map(t=>{if(t.startsWith)return t;try{return JSON.stringify(t,null,2)}catch{return""}}).join(" ")}};function Yb(e,t,r){const n=Z.useCallback(e,t);Z.useEffect(()=>{const a=setTimeout(n,r);return()=>clearTimeout(a)},[n,r])}const Hg=Z.createContext({}),Jb=({children:e})=>{const[t,r]=Z.useState(fr.load("conversations",{})),n=Z.useMemo(()=>Object.values(t).sort((f,c)=>{const p=f.messages[f.messages.length-1];return c.messages[c.messages.length-1].id-p.id}),[t]),a=f=>{r(c=>{const p=f(c);return fr.save("conversations",p),p})},i=f=>{const c={id:Date.now(),messages:[f]};return a(p=>({...p,[c.id]:c})),c},o=f=>{a(c=>{const p={...c};return delete p[f],p})},s=(f,c)=>{a(p=>{if(p[f]){const d={...p},m=d[f];return d[f].messages=[...m.messages,c],d}else return p})},l=(f,c,p)=>{a(d=>{if(d[f]){const m={...d},E=m[f].messages.map(h=>h.id===c?{...h,content:p}:h);return m[f].messages=E,m}else return d})},u=f=>t[f];return b.jsx(Hg.Provider,{value:{conversations:n,newConversation:i,deleteConversation:o,addMessageToConversation:s,getConversationById:u,editMessageInConversation:l},children:e})},Wg=()=>Z.useContext(Hg),Vg=2,Gg={erro_evt:{name:"erro_evt",structName:"glue_msg_error",className:"GlueMsgError",fields:[{type:"str",name:"message",isNullable:!1}]},load_req:{name:"load_req",structName:"glue_msg_load_req",className:"GlueMsgLoadReq",fields:[{type:"arr_str",name:"model_paths",isNullable:!1},{type:"bool",name:"n_ctx_auto",isNullable:!1},{type:"bool",name:"use_mmap",isNullable:!1},{type:"bool",name:"use_mlock",isNullable:!1},{type:"bool",name:"use_webgpu",isNullable:!1},{type:"int",name:"n_gpu_layers",isNullable:!1},{type:"bool",name:"no_perf",isNullable:!1},{type:"int",name:"seed",isNullable:!1},{type:"int",name:"n_ctx",isNullable:!1},{type:"int",name:"n_threads",isNullable:!1},{type:"bool",name:"embeddings",isNullable:!0},{type:"bool",name:"offload_kqv",isNullable:!0},{type:"int",name:"n_batch",isNullable:!0},{type:"int",name:"n_seq_max",isNullable:!0},{type:"str",name:"pooling_type",isNullable:!0},{type:"str",name:"rope_scaling_type",isNullable:!0},{type:"float",name:"rope_freq_base",isNullable:!0},{type:"float",name:"rope_freq_scale",isNullable:!0},{type:"float",name:"yarn_ext_factor",isNullable:!0},{type:"float",name:"yarn_attn_factor",isNullable:!0},{type:"float",name:"yarn_beta_fast",isNullable:!0},{type:"float",name:"yarn_beta_slow",isNullable:!0},{type:"int",name:"yarn_orig_ctx",isNullable:!0},{type:"str",name:"cache_type_k",isNullable:!0},{type:"str",name:"cache_type_v",isNullable:!0},{type:"bool",name:"flash_attn",isNullable:!0},{type:"bool",name:"swa_full",isNullable:!0}]},load_res:{name:"load_res",structName:"glue_msg_load_res",className:"GlueMsgLoadRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"int",name:"n_ctx",isNullable:!1},{type:"int",name:"n_batch",isNullable:!1},{type:"int",name:"n_ubatch",isNullable:!1},{type:"int",name:"n_vocab",isNullable:!1},{type:"int",name:"n_ctx_train",isNullable:!1},{type:"int",name:"n_embd",isNullable:!1},{type:"int",name:"n_layer",isNullable:!1},{type:"arr_str",name:"metadata_key",isNullable:!1},{type:"arr_str",name:"metadata_val",isNullable:!1},{type:"int",name:"token_bos",isNullable:!1},{type:"int",name:"token_eos",isNullable:!1},{type:"int",name:"token_eot",isNullable:!1},{type:"arr_int",name:"list_tokens_eog",isNullable:!1},{type:"bool",name:"add_bos_token",isNullable:!1},{type:"bool",name:"add_eos_token",isNullable:!1},{type:"bool",name:"has_encoder",isNullable:!1},{type:"int",name:"token_decoder_start",isNullable:!1}]},opti_req:{name:"opti_req",structName:"glue_msg_set_options_req",className:"GlueMsgSetOptionsReq",fields:[{type:"bool",name:"embeddings",isNullable:!1}]},opti_res:{name:"opti_res",structName:"glue_msg_set_options_res",className:"GlueMsgSetOptionsRes",fields:[{type:"bool",name:"success",isNullable:!1}]},sint_req:{name:"sint_req",structName:"glue_msg_sampling_init_req",className:"GlueMsgSamplingInitReq",fields:[{type:"int",name:"mirostat",isNullable:!0},{type:"float",name:"mirostat_tau",isNullable:!0},{type:"float",name:"mirostat_eta",isNullable:!0},{type:"float",name:"temp",isNullable:!0},{type:"float",name:"top_p",isNullable:!0},{type:"int",name:"top_k",isNullable:!0},{type:"int",name:"penalty_last_n",isNullable:!0},{type:"float",name:"penalty_repeat",isNullable:!0},{type:"float",name:"penalty_freq",isNullable:!0},{type:"float",name:"penalty_present",isNullable:!0},{type:"float",name:"dynatemp_range",isNullable:!0},{type:"float",name:"dynatemp_exponent",isNullable:!0},{type:"arr_str",name:"samplers_sequence",isNullable:!0},{type:"str",name:"grammar",isNullable:!0},{type:"int",name:"n_prev",isNullable:!0},{type:"int",name:"n_probs",isNullable:!0},{type:"float",name:"min_p",isNullable:!0},{type:"float",name:"typical_p",isNullable:!0},{type:"float",name:"typ_p",isNullable:!0},{type:"arr_int",name:"logit_bias_toks",isNullable:!0},{type:"arr_float",name:"logit_bias_vals",isNullable:!0},{type:"arr_int",name:"tokens",isNullable:!0}]},sint_res:{name:"sint_res",structName:"glue_msg_sampling_init_res",className:"GlueMsgSamplingInitRes",fields:[{type:"bool",name:"success",isNullable:!1}]},gvoc_req:{name:"gvoc_req",structName:"glue_msg_get_vocab_req",className:"GlueMsgGetVocabReq",fields:[]},gvoc_res:{name:"gvoc_res",structName:"glue_msg_get_vocab_res",className:"GlueMsgGetVocabRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_raw",name:"vocab",isNullable:!1}]},lkup_req:{name:"lkup_req",structName:"glue_msg_lookup_token_req",className:"GlueMsgLookupTokenReq",fields:[{type:"str",name:"piece",isNullable:!1}]},lkup_res:{name:"lkup_res",structName:"glue_msg_lookup_token_res",className:"GlueMsgLookupTokenRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"int",name:"token",isNullable:!1}]},tokn_req:{name:"tokn_req",structName:"glue_msg_tokenize_req",className:"GlueMsgTokenizeReq",fields:[{type:"str",name:"text",isNullable:!1},{type:"bool",name:"special",isNullable:!1}]},tokn_res:{name:"tokn_res",structName:"glue_msg_tokenize_res",className:"GlueMsgTokenizeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},dtkn_req:{name:"dtkn_req",structName:"glue_msg_detokenize_req",className:"GlueMsgDetokenizeReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},dtkn_res:{name:"dtkn_res",structName:"glue_msg_detokenize_res",className:"GlueMsgDetokenizeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"raw",name:"buffer",isNullable:!1}]},deco_req:{name:"deco_req",structName:"glue_msg_decode_req",className:"GlueMsgDecodeReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1},{type:"bool",name:"skip_logits",isNullable:!1}]},deco_res:{name:"deco_res",structName:"glue_msg_decode_res",className:"GlueMsgDecodeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"int",name:"n_past",isNullable:!1}]},enco_req:{name:"enco_req",structName:"glue_msg_encode_req",className:"GlueMsgEncodeReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},enco_res:{name:"enco_res",structName:"glue_msg_encode_res",className:"GlueMsgEncodeRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"int",name:"n_past",isNullable:!1}]},ssam_req:{name:"ssam_req",structName:"glue_msg_sampling_sample_req",className:"GlueMsgSamplingSampleReq",fields:[]},ssam_res:{name:"ssam_res",structName:"glue_msg_sampling_sample_res",className:"GlueMsgSamplingSampleRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"raw",name:"piece",isNullable:!1},{type:"int",name:"token",isNullable:!1}]},sacc_req:{name:"sacc_req",structName:"glue_msg_sampling_accept_req",className:"GlueMsgSamplingAcceptReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},sacc_res:{name:"sacc_res",structName:"glue_msg_sampling_accept_res",className:"GlueMsgSamplingAcceptRes",fields:[{type:"bool",name:"success",isNullable:!1}]},glog_req:{name:"glog_req",structName:"glue_msg_get_logits_req",className:"GlueMsgGetLogitsReq",fields:[{type:"int",name:"top_k",isNullable:!1}]},glog_res:{name:"glog_res",structName:"glue_msg_get_logits_res",className:"GlueMsgGetLogitsRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1},{type:"arr_float",name:"probs",isNullable:!1}]},gemb_req:{name:"gemb_req",structName:"glue_msg_get_embeddings_req",className:"GlueMsgGetEmbeddingsReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},gemb_res:{name:"gemb_res",structName:"glue_msg_get_embeddings_res",className:"GlueMsgGetEmbeddingsRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"arr_float",name:"embeddings",isNullable:!1}]},kvcr_req:{name:"kvcr_req",structName:"glue_msg_get_kv_remove_req",className:"GlueMsgGetKvRemoveReq",fields:[{type:"int",name:"n_keep",isNullable:!1},{type:"int",name:"n_discard",isNullable:!1}]},kvcr_res:{name:"kvcr_res",structName:"glue_msg_get_kv_remove_res",className:"GlueMsgGetKvRemoveRes",fields:[{type:"int",name:"n_past",isNullable:!1},{type:"bool",name:"success",isNullable:!1}]},kvcc_req:{name:"kvcc_req",structName:"glue_msg_get_kv_clear_req",className:"GlueMsgGetKvClearReq",fields:[]},kvcc_res:{name:"kvcc_res",structName:"glue_msg_get_kv_clear_res",className:"GlueMsgGetKvClearRes",fields:[{type:"int",name:"n_past",isNullable:!1},{type:"bool",name:"success",isNullable:!1}]},sesa_req:{name:"sesa_req",structName:"glue_msg_session_save_req",className:"GlueMsgSessionSaveReq",fields:[{type:"str",name:"session_path",isNullable:!1}]},sesa_res:{name:"sesa_res",structName:"glue_msg_session_save_res",className:"GlueMsgSessionSaveRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},sesl_req:{name:"sesl_req",structName:"glue_msg_session_load_req",className:"GlueMsgSessionLoadReq",fields:[{type:"str",name:"session_path",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},sesl_res:{name:"sesl_res",structName:"glue_msg_session_load_res",className:"GlueMsgSessionLoadRes",fields:[{type:"bool",name:"success",isNullable:!1}]},stat_req:{name:"stat_req",structName:"glue_msg_status_req",className:"GlueMsgStatusReq",fields:[]},stat_res:{name:"stat_res",structName:"glue_msg_status_res",className:"GlueMsgStatusRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"arr_int",name:"tokens",isNullable:!1}]},pctx_req:{name:"pctx_req",structName:"glue_msg_perf_context_req",className:"GlueMsgPerfContextReq",fields:[]},pctx_res:{name:"pctx_res",structName:"glue_msg_perf_context_res",className:"GlueMsgPerfContextRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"float",name:"t_start_ms",isNullable:!1},{type:"float",name:"t_load_ms",isNullable:!1},{type:"float",name:"t_p_eval_ms",isNullable:!1},{type:"float",name:"t_eval_ms",isNullable:!1},{type:"int",name:"n_p_eval",isNullable:!1},{type:"int",name:"n_eval",isNullable:!1},{type:"int",name:"n_reused",isNullable:!1}]},prst_req:{name:"prst_req",structName:"glue_msg_perf_reset_req",className:"GlueMsgPerfResetReq",fields:[]},prst_res:{name:"prst_res",structName:"glue_msg_perf_reset_res",className:"GlueMsgPerfResetRes",fields:[{type:"bool",name:"success",isNullable:!1}]},tben_req:{name:"tben_req",structName:"glue_msg_test_benchmark_req",className:"GlueMsgTestBenchmarkReq",fields:[{type:"str",name:"type",isNullable:!1},{type:"int",name:"n_samples",isNullable:!1}]},tben_res:{name:"tben_res",structName:"glue_msg_test_benchmark_res",className:"GlueMsgTestBenchmarkRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"int",name:"t_ms",isNullable:!1}]},tper_req:{name:"tper_req",structName:"glue_msg_test_perplexity_req",className:"GlueMsgTestPerplexityReq",fields:[{type:"arr_int",name:"tokens",isNullable:!1}]},tper_res:{name:"tper_res",structName:"glue_msg_test_perplexity_res",className:"GlueMsgTestPerplexityRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"float",name:"ppl",isNullable:!1},{type:"float",name:"nll",isNullable:!1},{type:"float",name:"cross_entropy",isNullable:!1},{type:"int",name:"n_tokens",isNullable:!1},{type:"int",name:"t_ms",isNullable:!1}]},cfmt_req:{name:"cfmt_req",structName:"glue_msg_chat_format_req",className:"GlueMsgChatFormatReq",fields:[{type:"str",name:"tmpl",isNullable:!0},{type:"bool",name:"add_ass",isNullable:!0},{type:"arr_str",name:"roles",isNullable:!1},{type:"arr_str",name:"contents",isNullable:!1}]},cfmt_res:{name:"cfmt_res",structName:"glue_msg_chat_format_res",className:"GlueMsgChatFormatRes",fields:[{type:"bool",name:"success",isNullable:!1},{type:"str",name:"message",isNullable:!1},{type:"str",name:"formatted_chat",isNullable:!1}]}},za=new Uint8Array([71,76,85,69]),$c=0,Kb=1,Xb=2,Zb=3,e1=4,t1=5,r1=6,n1=7,a1=8,i1=9,o1=10,$g={str:e1,int:Xb,float:Zb,bool:Kb,raw:t1,arr_str:i1,arr_int:n1,arr_float:a1,arr_bool:r1,arr_raw:o1,null:$c};function s1(e){let t=0;const r=new DataView(e.buffer),n=()=>{const h=r.getUint32(t,!0);return t+=4,h},a=()=>{const h=r.getInt32(t,!0);return t+=4,h},i=()=>{const h=r.getFloat32(t,!0);return t+=4,h},o=()=>n()!==0,s=h=>{const w=h??n(),y=new TextDecoder().decode(e.slice(t,t+w));return t+=w,y},l=()=>{const h=n(),w=e.slice(t,t+h);return t+=h,w},u=h=>{const w=n(),y=new Array(w);for(let F=0;F<w;F++)y[F]=h();return y},f=()=>null,c=h=>{switch(h.type){case"str":return s();case"int":return a();case"float":return i();case"bool":return o();case"raw":return l();case"arr_str":return u(s);case"arr_int":return u(a);case"arr_float":return u(i);case"arr_bool":return u(o);case"arr_raw":return u(l);case"null":return f()}},p=e[0]===za[0]&&e[1]===za[1]&&e[2]===za[2]&&e[3]===za[3];if(t+=4,!p)throw new Error("Invalid magic number");if(n()!==Vg)throw new Error("Invalid version number");const m=s(8),v=Gg[m];if(!v)throw new Error(`Unknown message name: ${m}`);const E={_name:m};for(const h of v.fields){const w=n();if(w===$c){if(!h.isNullable)throw new Error(`${m}: Expect field ${h.name} to be non-nullable`);E[h.name]=null;continue}if(w!==$g[h.type])throw new Error(`${m}: Expect field ${h.name} to have type ${h.type}`);E[h.name]=c(h)}return E}function l1(e){const t=Gg[e._name];if(!t)throw new Error(`Unknown message name: ${e._name}`);const r=[],n=d=>{const m=new ArrayBuffer(4);new DataView(m).setUint32(0,d,!0),r.push(new Uint8Array(m))},a=d=>{const m=new ArrayBuffer(4);new DataView(m).setInt32(0,d,!0),r.push(new Uint8Array(m))},i=d=>{const m=new ArrayBuffer(4);new DataView(m).setFloat32(0,d,!0),r.push(new Uint8Array(m))},o=d=>{n(d?1:0)},s=d=>{const m=new TextEncoder().encode(d);n(m.byteLength),r.push(m)},l=d=>{n(d.byteLength),r.push(d)},u=(d,m)=>{n(d.length);for(const v of d)m(v)};r.push(za),n(Vg);{const d=new TextEncoder().encode(e._name);r.push(d)}for(const d of t.fields){const m=e[d.name];if(!d.isNullable&&m==null)throw new Error(`${e._name}: Expect field ${d.name} to be non-nullable`);if(m==null){n($c);continue}switch(n($g[d.type]),d.type){case"str":s(m);break;case"int":a(m);break;case"float":i(m);break;case"bool":o(m);break;case"raw":l(m);break;case"arr_str":u(m,s);break;case"arr_int":u(m,a);break;case"arr_float":u(m,i);break;case"arr_bool":u(m,o);break;case"arr_raw":u(m,l);break}}const f=r.reduce((d,m)=>d+m.byteLength,0),c=new Uint8Array(f);let p=0;for(const d of r)c.set(d,p),p+=d.byteLength;return c}const u1=e=>{const t=e.reduce((n,a)=>n+a.length,0),r=new Uint8Array(t);r.set(e[0],0);for(let n=1;n<e.length;n++)r.set(e[n],e[n-1].length);return r},c1=new TextDecoder,tl=e=>c1.decode(e),Jd=/-(\d{5})-of-(\d{5})\.gguf(?:\?.*)?$/,Kd=e=>{const t=e.match(Jd);return t?{baseURL:e.replace(Jd,""),current:parseInt(t[1]),total:parseInt(t[2])}:{baseURL:e,current:1,total:1}},f1=e=>{e.every(r=>!!r.name)&&e.length>1&&e.sort((n,a)=>{const i=Kd(n.name),o=Kd(a.name);return i.current-o.current})},Xd=e=>new URL(e,document.baseURI).href,rl=e=>e.reduce((t,r)=>t+r,0),qg=e=>!!(e!=null&&e.startsWith),d1=()=>(async e=>{try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(e)}catch{return!1}})(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])),p1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,8,1,6,0,6,64,25,11,11])),m1=async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])),h1=async()=>{if(!await p1())throw new Error("WebAssembly runtime does not support exception handling");if(!await m1())throw new Error("WebAssembly runtime does not support SIMD")},g1=/^.*\.gguf(?:\?.*)?$/,qc=e=>g1.test(e),Qg=()=>!!navigator.userAgent.match(/Version\/([0-9\._]+).*Mobile.*Safari.*/),Qc=e=>{const t=URL.createObjectURL(qg(e)?new Blob([e],{type:"text/javascript"}):e);return new Worker(t,{type:"module"})},w1=e=>(...t)=>{let r=[],n;return r.push(new Promise(a=>{n=a})),e(...t,(a,i)=>{n([a,i]),r.push(new Promise(o=>{n=o}))}),async function*(){let a;for(let i=0,o=!1;!o;i++)[a,o]=await r[i],delete r[i],a!==void 0&&(yield a)}()},y1="b7680-0ba2cc1",v1=`// Start the main llama.cpp
let wllamaMalloc;
let wllamaStart;
let wllamaAction;
let wllamaExit;
let wllamaDebug;

let Module = null;

//////////////////////////////////////////////////////////////
// UTILS
//////////////////////////////////////////////////////////////

// send message back to main thread
const msg = (data, transfer) => postMessage(data, transfer);

// Convert CPP log into JS log
const cppLogToJSLog = (line) => {
  const matched = line.match(/@@(DEBUG|INFO|WARN|ERROR)@@(.*)/);
  return !!matched
    ? {
        level: (matched[1] === 'INFO' ? 'debug' : matched[1]).toLowerCase(),
        text: matched[2],
      }
    : { level: 'log', text: line };
};

// Get module config that forwards stdout/err to main thread
const getWModuleConfig = (_argMainScriptBlob) => {
  var pathConfig = RUN_OPTIONS.pathConfig;
  var pthreadPoolSize = RUN_OPTIONS.nbThread;
  var argMainScriptBlob = _argMainScriptBlob;

  if (!pathConfig['wllama.wasm']) {
    throw new Error('"wllama.wasm" is missing in pathConfig');
  }
  return {
    noInitialRun: true,
    print: function (text) {
      if (arguments.length > 1)
        text = Array.prototype.slice.call(arguments).join(' ');
      msg({ verb: 'console.log', args: [text] });
    },
    printErr: function (text) {
      if (arguments.length > 1)
        text = Array.prototype.slice.call(arguments).join(' ');
      const logLine = cppLogToJSLog(text);
      msg({ verb: 'console.' + logLine.level, args: [logLine.text] });
    },
    locateFile: function (filename, basePath) {
      const p = pathConfig[filename];
      const truncate = (str) =>
        str.length > 128 ? \`\${str.substr(0, 128)}...\` : str;
      if (filename.match(/wllama\\.worker\\.js/)) {
        msg({
          verb: 'console.error',
          args: [
            '"wllama.worker.js" is removed from v2.2.1. Hint: make sure to clear browser\\'s cache.',
          ],
        });
      } else {
        msg({
          verb: 'console.debug',
          args: [\`Loading "\${filename}" from "\${truncate(p)}"\`],
        });
        return p;
      }
    },
    mainScriptUrlOrBlob: argMainScriptBlob,
    pthreadPoolSize,
    wasmMemory: pthreadPoolSize > 1 ? getWasmMemory() : null,
    onAbort: function (text) {
      msg({ verb: 'signal.abort', args: [text] });
    },
  };
};

// Get the memory to be used by wasm. (Only used in multi-thread mode)
// Because we have a weird OOM issue on iOS, we need to try some values
// See: https://github.com/emscripten-core/emscripten/issues/19144
//      https://github.com/godotengine/godot/issues/70621
const getWasmMemory = () => {
  let minBytes = 128 * 1024 * 1024;
  let maxBytes = 4096 * 1024 * 1024;
  let stepBytes = 128 * 1024 * 1024;
  while (maxBytes > minBytes) {
    try {
      const wasmMemory = new WebAssembly.Memory({
        initial: minBytes / 65536,
        maximum: maxBytes / 65536,
        shared: true,
      });
      return wasmMemory;
    } catch (e) {
      maxBytes -= stepBytes;
      continue; // retry
    }
  }
  throw new Error('Cannot allocate WebAssembly.Memory');
};

//////////////////////////////////////////////////////////////
// MEMFS PATCH
//////////////////////////////////////////////////////////////

/**
 * By default, emscripten uses memfs. The way it works is by
 * allocating new Uint8Array in javascript heap. This is not good
 * because it requires files to be copied to wasm heap each time
 * a file is read.
 *
 * HeapFS is an alternative, which resolves this problem by
 * allocating space for file directly inside wasm heap. This
 * allows us to mmap without doing any copy.
 *
 * For llama.cpp, this is great because we use MAP_SHARED
 *
 * Ref: https://github.com/ngxson/wllama/pull/39
 * Ref: https://github.com/emscripten-core/emscripten/blob/main/src/library_memfs.js
 *
 * Note 29/05/2024 @ngxson
 * Due to ftell() being limited to MAX_LONG, we cannot load files bigger than 2^31 bytes (or 2GB)
 * Ref: https://github.com/emscripten-core/emscripten/blob/main/system/lib/libc/musl/src/stdio/ftell.c
 */

const fsNameToFile = {}; // map Name => File
const fsIdToFile = {}; // map ID => File
let currFileId = 0;

// Patch and redirect memfs calls to wllama
const patchMEMFS = () => {
  const m = Module;
  // save functions
  m.MEMFS.stream_ops._read = m.MEMFS.stream_ops.read;
  m.MEMFS.stream_ops._write = m.MEMFS.stream_ops.write;
  m.MEMFS.stream_ops._llseek = m.MEMFS.stream_ops.llseek;
  m.MEMFS.stream_ops._allocate = m.MEMFS.stream_ops.allocate;
  m.MEMFS.stream_ops._mmap = m.MEMFS.stream_ops.mmap;
  m.MEMFS.stream_ops._msync = m.MEMFS.stream_ops.msync;

  const patchStream = (stream) => {
    const name = stream.node.name;
    if (fsNameToFile[name]) {
      const f = fsNameToFile[name];
      stream.node.contents = m.HEAPU8.subarray(f.ptr, f.ptr + f.size);
      stream.node.usedBytes = f.size;
    }
  };

  // replace "read" functions
  m.MEMFS.stream_ops.read = function (
    stream,
    buffer,
    offset,
    length,
    position
  ) {
    patchStream(stream);
    return m.MEMFS.stream_ops._read(stream, buffer, offset, length, position);
  };
  m.MEMFS.ops_table.file.stream.read = m.MEMFS.stream_ops.read;

  // replace "llseek" functions
  m.MEMFS.stream_ops.llseek = function (stream, offset, whence) {
    patchStream(stream);
    return m.MEMFS.stream_ops._llseek(stream, offset, whence);
  };
  m.MEMFS.ops_table.file.stream.llseek = m.MEMFS.stream_ops.llseek;

  // replace "mmap" functions
  m.MEMFS.stream_ops.mmap = function (stream, length, position, prot, flags) {
    patchStream(stream);
    const name = stream.node.name;
    if (fsNameToFile[name]) {
      const f = fsNameToFile[name];
      return {
        ptr: f.ptr + position,
        allocated: false,
      };
    } else {
      return m.MEMFS.stream_ops._mmap(stream, length, position, prot, flags);
    }
  };
  m.MEMFS.ops_table.file.stream.mmap = m.MEMFS.stream_ops.mmap;

  // mount FS
  m.FS.mkdir('/models');
  m.FS.mount(m.MEMFS, { root: '.' }, '/models');
};

// Allocate a new file in wllama heapfs, returns file ID
const heapfsAlloc = (name, size) => {
  if (size < 1) {
    throw new Error('File size must be bigger than 0');
  }
  const m = Module;
  const ptr = m.mmapAlloc(size);
  const file = {
    ptr: ptr,
    size: size,
    id: currFileId++,
  };
  fsIdToFile[file.id] = file;
  fsNameToFile[name] = file;
  return file.id;
};

// Add new file to wllama heapfs, return number of written bytes
const heapfsWrite = (id, buffer, offset) => {
  const m = Module;
  if (fsIdToFile[id]) {
    const { ptr, size } = fsIdToFile[id];
    const afterWriteByte = offset + buffer.byteLength;
    if (afterWriteByte > size) {
      throw new Error(
        \`File ID \${id} write out of bound, afterWriteByte = \${afterWriteByte} while size = \${size}\`
      );
    }
    m.HEAPU8.set(buffer, ptr + offset);
    return buffer.byteLength;
  } else {
    throw new Error(\`File ID \${id} not found in heapfs\`);
  }
};

//////////////////////////////////////////////////////////////
// MAIN CODE
//////////////////////////////////////////////////////////////

const callWrapper = (name, ret, args, isAsync) => {
  const fn = Module.cwrap(
    name,
    ret,
    args,
    isAsync ? { async: true } : undefined
  );
  return async (...callArgs) => {
    let result;
    try {
      result = isAsync ? await fn(...callArgs) : fn(...callArgs);
    } catch (ex) {
      console.error(ex);
      throw ex;
    }
    return result;
  };
};

onmessage = async (e) => {
  if (!e.data) return;
  const { verb, args, callbackId } = e.data;

  if (!callbackId) {
    msg({ verb: 'console.error', args: ['callbackId is required', e.data] });
    return;
  }

  if (verb === 'module.init') {
    const argMainScriptBlob = args[0];
    try {
      Module = getWModuleConfig(argMainScriptBlob);
      Module.onRuntimeInitialized = () => {
        // async call once module is ready
        // init FS
        patchMEMFS();
        // init cwrap
        const pointer = 'number';
        // TODO: note sure why emscripten cannot bind if there is only 1 argument
        wllamaMalloc = callWrapper(
          'wllama_malloc',
          pointer,
          ['number', pointer],
          false
        );
        wllamaStart = callWrapper('wllama_start', 'string', [], true);
        wllamaAction = callWrapper(
          'wllama_action',
          pointer,
          ['string', pointer],
          true
        );
        wllamaExit = callWrapper('wllama_exit', 'string', [], false);
        wllamaDebug = callWrapper('wllama_debug', 'string', [], false);
        msg({ callbackId, result: null });
      };
      wModuleInit();
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'fs.alloc') {
    const argFilename = args[0];
    const argSize = args[1];
    try {
      // create blank file
      const emptyBuffer = new ArrayBuffer(0);
      Module['FS_createDataFile'](
        '/models',
        argFilename,
        emptyBuffer,
        true,
        true,
        true
      );
      // alloc data on heap
      const fileId = heapfsAlloc(argFilename, argSize);
      msg({ callbackId, result: { fileId } });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'fs.write') {
    const argFileId = args[0];
    const argBuffer = args[1];
    const argOffset = args[2];
    try {
      const writtenBytes = heapfsWrite(argFileId, argBuffer, argOffset);
      msg({ callbackId, result: { writtenBytes } });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.start') {
    try {
      const result = await wllamaStart();
      msg({ callbackId, result });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.action') {
    const argAction = args[0];
    const argEncodedMsg = args[1];
    try {
      const inputPtr = await wllamaMalloc(argEncodedMsg.byteLength, 0);
      // copy data to wasm heap
      const inputBuffer = new Uint8Array(
        Module.HEAPU8.buffer,
        inputPtr,
        argEncodedMsg.byteLength
      );
      inputBuffer.set(argEncodedMsg, 0);
      const outputPtr = await wllamaAction(argAction, inputPtr);
      // length of output buffer is written at the first 4 bytes of input buffer
      const outputLen = new Uint32Array(Module.HEAPU8.buffer, inputPtr, 1)[0];
      // copy the output buffer to JS heap
      const outputBuffer = new Uint8Array(outputLen);
      const outputSrcView = new Uint8Array(
        Module.HEAPU8.buffer,
        outputPtr,
        outputLen
      );
      outputBuffer.set(outputSrcView, 0); // copy it
      msg({ callbackId, result: outputBuffer }, [outputBuffer.buffer]);
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.exit') {
    try {
      const result = await wllamaExit();
      msg({ callbackId, result });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }

  if (verb === 'wllama.debug') {
    try {
      const result = await wllamaDebug();
      msg({ callbackId, result });
    } catch (err) {
      msg({ callbackId, err });
    }
    return;
  }
};
`,Yg=`let accessHandle;
let abortController = new AbortController();

async function openFile(filename) {
  const opfsRoot = await navigator.storage.getDirectory();
  const cacheDir = await opfsRoot.getDirectoryHandle('cache', { create: true });
  const fileHandler = await cacheDir.getFileHandle(filename, { create: true });
  accessHandle = await fileHandler.createSyncAccessHandle();
  accessHandle.truncate(0); // clear file content
}

async function writeFile(buf) {
  accessHandle.write(buf);
}

async function closeFile() {
  accessHandle.flush();
  accessHandle.close();
}

async function writeTextFile(filename, str) {
  await openFile(filename);
  await writeFile(new TextEncoder().encode(str));
  await closeFile();
}

const throttled = (func, delay) => {
  let lastRun = 0;
  return (...args) => {
    const now = Date.now();
    if (now - lastRun > delay) {
      lastRun = now;
      func.apply(null, args);
    }
  };
};

const assertNonNull = (val) => {
  if (val === null || val === undefined) {
    throw new Error('OPFS Worker: Assertion failed');
  }
};

// respond to main thread
const resOK = () => postMessage({ ok: true });
const resProgress = (loaded, total) =>
  postMessage({ progress: { loaded, total } });
const resErr = (err) => postMessage({ err });

onmessage = async (e) => {
  try {
    if (!e.data) return;

    /**
     * @param {Object} e.data
     *
     * Fine-control FS actions:
     * - { action: 'open', filename: 'string' }
     * - { action: 'write', buf: ArrayBuffer }
     * - { action: 'close' }
     *
     * Simple write API:
     * - { action: 'write-simple', filename: 'string', buf: ArrayBuffer }
     *
     * Download API:
     * - { action: 'download', url: 'string', filename: 'string', options: Object, metadataFileName: 'string' }
     * - { action: 'download-abort' }
     */
    const { action, filename, buf, url, options, metadataFileName } = e.data;

    if (action === 'open') {
      assertNonNull(filename);
      await openFile(filename);
      return resOK();
    } else if (action === 'write') {
      assertNonNull(buf);
      await writeFile(buf);
      return resOK();
    } else if (action === 'close') {
      await closeFile();
      return resOK();
    } else if (action === 'write-simple') {
      assertNonNull(filename);
      assertNonNull(buf);
      await openFile(filename);
      await writeFile(buf);
      await closeFile();
      return resOK();
    } else if (action === 'download') {
      assertNonNull(url);
      assertNonNull(filename);
      assertNonNull(metadataFileName);
      assertNonNull(options);
      assertNonNull(options.aborted);
      abortController = new AbortController();
      if (options.aborted) abortController.abort();
      const response = await fetch(url, {
        ...options,
        signal: abortController.signal,
      });
      const contentLength = response.headers.get('content-length');
      const etag = (response.headers.get('etag') || '').replace(
        /[^A-Za-z0-9]/g,
        ''
      );
      const total = parseInt(contentLength, 10);
      const reader = response.body.getReader();
      await openFile(filename);
      let loaded = 0;
      const throttledProgress = throttled(resProgress, 100);
      while (true) {
        const { done, value } = await reader.read();
        if (done) break;
        loaded += value.byteLength;
        await writeFile(value);
        throttledProgress(loaded, total);
      }
      resProgress(total, total); // 100% done
      await closeFile();
      // make sure this is in-sync with CacheEntryMetadata
      await writeTextFile(
        metadataFileName,
        JSON.stringify({
          originalURL: url,
          originalSize: total,
          etag,
        })
      );
      return resOK();
    } else if (action === 'download-abort') {
      if (abortController) {
        abortController.abort();
      }
      return;
    }

    throw new Error('OPFS Worker: Invalid action', e.data);
  } catch (err) {
    return resErr(err);
  }
};
`,_1='var Module=typeof Module!="undefined"?Module:{};var ENVIRONMENT_IS_WEB=!!globalThis.window;var ENVIRONMENT_IS_WORKER=!!globalThis.WorkerGlobalScope;var ENVIRONMENT_IS_NODE=globalThis.process?.versions?.node&&globalThis.process?.type!="renderer";var ENVIRONMENT_IS_PTHREAD=ENVIRONMENT_IS_WORKER&&self.name?.startsWith("em-pthread");if(ENVIRONMENT_IS_NODE){var worker_threads=require("worker_threads");global.Worker=worker_threads.Worker;ENVIRONMENT_IS_WORKER=!worker_threads.isMainThread;ENVIRONMENT_IS_PTHREAD=ENVIRONMENT_IS_WORKER&&worker_threads["workerData"]=="em-pthread"}var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var _scriptName=globalThis.document?.currentScript?.src;if(typeof __filename!="undefined"){_scriptName=__filename}else if(ENVIRONMENT_IS_WORKER){_scriptName=self.location.href}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs");scriptDirectory=__dirname+"/";readBinary=filename=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename);return ret};readAsync=async(filename,binary=true)=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename,binary?undefined:"utf8");return ret};if(process.argv.length>1){thisProgram=process.argv[1].replace(/\\\\/g,"/")}arguments_=process.argv.slice(2);if(typeof module!="undefined"){module["exports"]=Module}quit_=(status,toThrow)=>{process.exitCode=status;throw toThrow}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){try{scriptDirectory=new URL(".",_scriptName).href}catch{}if(!ENVIRONMENT_IS_NODE){if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=async url=>{if(isFileURI(url)){return new Promise((resolve,reject)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){resolve(xhr.response);return}reject(xhr.status)};xhr.onerror=reject;xhr.send(null)})}var response=await fetch(url,{credentials:"same-origin"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+" : "+response.url)}}}else{}var defaultPrint=console.log.bind(console);var defaultPrintErr=console.error.bind(console);if(ENVIRONMENT_IS_NODE){var utils=require("util");var stringify=a=>typeof a=="object"?utils.inspect(a):a;defaultPrint=(...args)=>fs.writeSync(1,args.map(stringify).join(" ")+"\\n");defaultPrintErr=(...args)=>fs.writeSync(2,args.map(stringify).join(" ")+"\\n")}var out=defaultPrint;var err=defaultPrintErr;var wasmBinary;var wasmModule;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort(text)}}var isFileURI=filename=>filename.startsWith("file://");function growMemViews(){if(wasmMemory.buffer!=HEAP8.buffer){updateMemoryViews()}}if(ENVIRONMENT_IS_NODE&&ENVIRONMENT_IS_PTHREAD){var parentPort=worker_threads["parentPort"];parentPort.on("message",msg=>global.onmessage?.({data:msg}));Object.assign(globalThis,{self:global,postMessage:msg=>parentPort["postMessage"](msg)});process.on("uncaughtException",err=>{postMessage({cmd:"uncaughtException",error:err});process.exit(1)})}var startWorker;if(ENVIRONMENT_IS_PTHREAD){var initializedJS=false;self.onunhandledrejection=e=>{throw e.reason||e};async function handleMessage(e){try{var msgData=e["data"];var cmd=msgData.cmd;if(cmd==="load"){let messageQueue=[];self.onmessage=e=>messageQueue.push(e);startWorker=()=>{postMessage({cmd:"loaded"});for(let msg of messageQueue){handleMessage(msg)}self.onmessage=handleMessage};for(const handler of msgData.handlers){if(!Module[handler]||Module[handler].proxy){Module[handler]=(...args)=>{postMessage({cmd:"callHandler",handler,args})};if(handler=="print")out=Module[handler];if(handler=="printErr")err=Module[handler]}}wasmMemory=msgData.wasmMemory;updateMemoryViews();wasmModule=msgData.wasmModule;createWasm();run()}else if(cmd==="run"){establishStackSpace(msgData.pthread_ptr);__emscripten_thread_init(msgData.pthread_ptr,0,0,1,0,0);PThread.threadInitTLS();__emscripten_thread_mailbox_await(msgData.pthread_ptr);if(!initializedJS){initializedJS=true}try{await invokeEntryPoint(msgData.start_routine,msgData.arg)}catch(ex){if(ex!="unwind"){throw ex}}}else if(msgData.target==="setimmediate"){}else if(cmd==="checkMailbox"){if(initializedJS){checkMailbox()}}else if(cmd){err(`worker: received unknown command ${cmd}`);err(msgData)}}catch(ex){__emscripten_thread_crashed();throw ex}}self.onmessage=handleMessage}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;var HEAP64,HEAPU64;var runtimeInitialized=false;function updateMemoryViews(){var b=wasmMemory.buffer;HEAP8=new Int8Array(b);HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);HEAPU16=new Uint16Array(b);HEAP32=new Int32Array(b);HEAPU32=new Uint32Array(b);HEAPF32=new Float32Array(b);HEAPF64=new Float64Array(b);HEAP64=new BigInt64Array(b);HEAPU64=new BigUint64Array(b)}function initMemory(){if(ENVIRONMENT_IS_PTHREAD){return}if(Module["wasmMemory"]){wasmMemory=Module["wasmMemory"]}else{var INITIAL_MEMORY=Module["INITIAL_MEMORY"]||134217728;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:65536,shared:true})}updateMemoryViews()}function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=true;if(ENVIRONMENT_IS_PTHREAD)return startWorker();if(!Module["noFSInit"]&&!FS.initialized)FS.init();TTY.init();wasmExports["__wasm_call_ctors"]();FS.ignorePermissions=false}function preMain(){}function postRun(){if(ENVIRONMENT_IS_PTHREAD){return}if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(onPostRuns)}function abort(what){Module["onAbort"]?.(what);what="Aborted("+what+")";err(what);ABORT=true;what+=". Build with -sASSERTIONS for more info.";if(runtimeInitialized){___trap()}var e=new WebAssembly.RuntimeError(what);throw e}var wasmBinaryFile;function findWasmBinary(){return locateFile("wllama.wasm")}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE){try{var response=fetch(binaryFile,{credentials:"same-origin"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){assignWasmImports();if(!wasmImports.__instrumented){wasmImports.__instrumented=true;Asyncify.instrumentWasmImports(wasmImports)}var imports={env:wasmImports,wasi_snapshot_preview1:wasmImports};return imports}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmExports=Asyncify.instrumentWasmExports(wasmExports);wasmExports=applySignatureConversions(wasmExports);registerTLSInit(wasmExports["_emscripten_tls_init"]);assignWasmExports(wasmExports);wasmModule=module;removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){return receiveInstance(result["instance"],result["module"])}var info=getWasmImports();if(Module["instantiateWasm"]){return new Promise((resolve,reject)=>{Module["instantiateWasm"](info,(inst,mod)=>{resolve(receiveInstance(inst,mod))})})}if(ENVIRONMENT_IS_PTHREAD){var instance=new WebAssembly.Instance(wasmModule,getWasmImports());return receiveInstance(instance,wasmModule)}wasmBinaryFile??=findWasmBinary();var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}var terminateWorker=worker=>{worker.terminate();worker.onmessage=e=>{}};var cleanupThread=pthread_ptr=>{var worker=PThread.pthreads[pthread_ptr];PThread.returnWorkerToPool(worker)};var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var onPreRuns=[];var addOnPreRun=cb=>onPreRuns.push(cb);var runDependencies=0;var dependenciesFulfilled=null;var removeRunDependency=id=>{runDependencies--;Module["monitorRunDependencies"]?.(runDependencies);if(runDependencies==0){if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}};var addRunDependency=id=>{runDependencies++;Module["monitorRunDependencies"]?.(runDependencies)};var spawnThread=threadParams=>{var worker=PThread.getNewWorker();if(!worker){return 6}PThread.runningWorkers.push(worker);PThread.pthreads[threadParams.pthread_ptr]=worker;worker.pthread_ptr=threadParams.pthread_ptr;var msg={cmd:"run",start_routine:threadParams.startRoutine,arg:threadParams.arg,pthread_ptr:threadParams.pthread_ptr};if(ENVIRONMENT_IS_NODE){worker.unref()}worker.postMessage(msg,threadParams.transferList);return 0};var runtimeKeepaliveCounter=0;var keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0;var stackSave=()=>_emscripten_stack_get_current();var stackRestore=val=>__emscripten_stack_restore(val);var stackAlloc=sz=>__emscripten_stack_alloc(sz);var proxyToMainThread=(funcIndex,emAsmAddr,sync,...callArgs)=>{var serializedNumCallArgs=callArgs.length*2;var sp=stackSave();var args=stackAlloc(serializedNumCallArgs*8);var b=args>>>3;for(var i=0;i<callArgs.length;i++){var arg=callArgs[i];if(typeof arg=="bigint"){(growMemViews(),HEAP64)[b+2*i>>>0]=1n;(growMemViews(),HEAP64)[b+2*i+1>>>0]=arg}else{(growMemViews(),HEAP64)[b+2*i>>>0]=0n;(growMemViews(),HEAPF64)[b+2*i+1>>>0]=arg}}var rtn=__emscripten_run_js_on_main_thread(funcIndex,emAsmAddr,serializedNumCallArgs,args,sync);stackRestore(sp);return rtn};function _proc_exit(code){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(0,0,1,code);EXITSTATUS=code;if(!keepRuntimeAlive()){PThread.terminateAllThreads();Module["onExit"]?.(code);ABORT=true}quit_(code,new ExitStatus(code))}function exitOnMainThread(returnCode){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(1,0,0,returnCode);_exit(returnCode)}var exitJS=(status,implicit)=>{EXITSTATUS=status;if(ENVIRONMENT_IS_PTHREAD){exitOnMainThread(status);throw"unwind"}_proc_exit(status)};var _exit=exitJS;var PThread={unusedWorkers:[],runningWorkers:[],tlsInitFunctions:[],pthreads:{},init(){if(!ENVIRONMENT_IS_PTHREAD){PThread.initMainThread()}},initMainThread(){var pthreadPoolSize=Module["pthreadPoolSize"];while(pthreadPoolSize--){PThread.allocateUnusedWorker()}addOnPreRun(async()=>{var pthreadPoolReady=PThread.loadWasmModuleToAllWorkers();addRunDependency("loading-workers");await pthreadPoolReady;removeRunDependency("loading-workers")})},terminateAllThreads:()=>{for(var worker of PThread.runningWorkers){terminateWorker(worker)}for(var worker of PThread.unusedWorkers){terminateWorker(worker)}PThread.unusedWorkers=[];PThread.runningWorkers=[];PThread.pthreads={}},returnWorkerToPool:worker=>{var pthread_ptr=worker.pthread_ptr;delete PThread.pthreads[pthread_ptr];PThread.unusedWorkers.push(worker);PThread.runningWorkers.splice(PThread.runningWorkers.indexOf(worker),1);worker.pthread_ptr=0;__emscripten_thread_free_data(pthread_ptr)},threadInitTLS(){PThread.tlsInitFunctions.forEach(f=>f())},loadWasmModuleToWorker:worker=>new Promise(onFinishedLoading=>{worker.onmessage=e=>{var d=e["data"];var cmd=d.cmd;if(d.targetThread&&d.targetThread!=_pthread_self()){var targetWorker=PThread.pthreads[d.targetThread];if(targetWorker){targetWorker.postMessage(d,d.transferList)}else{err(`Internal error! Worker sent a message "${cmd}" to target pthread ${d.targetThread}, but that thread no longer exists!`)}return}if(cmd==="checkMailbox"){checkMailbox()}else if(cmd==="spawnThread"){spawnThread(d)}else if(cmd==="cleanupThread"){callUserCallback(()=>cleanupThread(d.thread))}else if(cmd==="loaded"){worker.loaded=true;if(ENVIRONMENT_IS_NODE&&!worker.pthread_ptr){worker.unref()}onFinishedLoading(worker)}else if(d.target==="setimmediate"){worker.postMessage(d)}else if(cmd==="uncaughtException"){worker.onerror(d.error)}else if(cmd==="callHandler"){Module[d.handler](...d.args)}else if(cmd){err(`worker sent an unknown command ${cmd}`)}};worker.onerror=e=>{var message="worker sent an error!";err(`${message} ${e.filename}:${e.lineno}: ${e.message}`);throw e};if(ENVIRONMENT_IS_NODE){worker.on("message",data=>worker.onmessage({data}));worker.on("error",e=>worker.onerror(e))}var handlers=[];var knownHandlers=["onExit","onAbort","print","printErr"];for(var handler of knownHandlers){if(Module.propertyIsEnumerable(handler)){handlers.push(handler)}}worker.postMessage({cmd:"load",handlers,wasmMemory,wasmModule})}),async loadWasmModuleToAllWorkers(){if(ENVIRONMENT_IS_PTHREAD){return}let pthreadPoolReady=Promise.all(PThread.unusedWorkers.map(PThread.loadWasmModuleToWorker));return pthreadPoolReady},allocateUnusedWorker(){var worker;var pthreadMainJs=_scriptName;if(Module["mainScriptUrlOrBlob"]){pthreadMainJs=Module["mainScriptUrlOrBlob"];if(typeof pthreadMainJs!="string"){pthreadMainJs=URL.createObjectURL(pthreadMainJs)}}worker=new Worker(pthreadMainJs,{workerData:"em-pthread",name:"em-pthread"});PThread.unusedWorkers.push(worker)},getNewWorker(){if(PThread.unusedWorkers.length==0){PThread.allocateUnusedWorker();PThread.loadWasmModuleToWorker(PThread.unusedWorkers[0])}return PThread.unusedWorkers.pop()}};var onPostRuns=[];var addOnPostRun=cb=>onPostRuns.push(cb);function establishStackSpace(pthread_ptr){var stackHigh=(growMemViews(),HEAPU32)[pthread_ptr+52>>>2>>>0];var stackSize=(growMemViews(),HEAPU32)[pthread_ptr+56>>>2>>>0];var stackLow=stackHigh-stackSize;_emscripten_stack_set_limits(stackHigh,stackLow);stackRestore(stackHigh)}function getValue(ptr,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":return(growMemViews(),HEAP8)[ptr>>>0];case"i8":return(growMemViews(),HEAP8)[ptr>>>0];case"i16":return(growMemViews(),HEAP16)[ptr>>>1>>>0];case"i32":return(growMemViews(),HEAP32)[ptr>>>2>>>0];case"i64":return(growMemViews(),HEAP64)[ptr>>>3>>>0];case"float":return(growMemViews(),HEAPF32)[ptr>>>2>>>0];case"double":return(growMemViews(),HEAPF64)[ptr>>>3>>>0];case"*":return(growMemViews(),HEAPU32)[ptr>>>2>>>0];default:abort(`invalid type for getValue: ${type}`)}}var wasmTableMirror=[];var getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];if(!func){wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr);if(Asyncify.isAsyncExport(func)){wasmTableMirror[funcPtr]=func=Asyncify.makeAsyncFunction(func)}}return func};var invokeEntryPoint=async(ptr,arg)=>{runtimeKeepaliveCounter=0;noExitRuntime=0;var result=WebAssembly.promising(getWasmTableEntry(ptr))(arg);function finish(result){if(keepRuntimeAlive()){EXITSTATUS=result;return}__emscripten_thread_exit(result)}result=await result;finish(result)};invokeEntryPoint.isAsync=true;var noExitRuntime=true;var registerTLSInit=tlsInitFunc=>PThread.tlsInitFunctions.push(tlsInitFunc);function setValue(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":(growMemViews(),HEAP8)[ptr>>>0]=value;break;case"i8":(growMemViews(),HEAP8)[ptr>>>0]=value;break;case"i16":(growMemViews(),HEAP16)[ptr>>>1>>>0]=value;break;case"i32":(growMemViews(),HEAP32)[ptr>>>2>>>0]=value;break;case"i64":(growMemViews(),HEAP64)[ptr>>>3>>>0]=BigInt(value);break;case"float":(growMemViews(),HEAPF32)[ptr>>>2>>>0]=value;break;case"double":(growMemViews(),HEAPF64)[ptr>>>3>>>0]=value;break;case"*":(growMemViews(),HEAPU32)[ptr>>>2>>>0]=value;break;default:abort(`invalid type for setValue: ${type}`)}}var wasmMemory;var INT53_MAX=9007199254740992;var INT53_MIN=-9007199254740992;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);var UTF8Decoder=globalThis.TextDecoder&&new TextDecoder;var findStringEnd=(heapOrArray,idx,maxBytesToRead,ignoreNul)=>{var maxIdx=idx+maxBytesToRead;if(ignoreNul)return maxIdx;while(heapOrArray[idx]&&!(idx>=maxIdx))++idx;return idx};var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead,ignoreNul)=>{idx>>>=0;var endPtr=findStringEnd(heapOrArray,idx,maxBytesToRead,ignoreNul);if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.buffer instanceof ArrayBuffer?heapOrArray.subarray(idx,endPtr):heapOrArray.slice(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var UTF8ToString=(ptr,maxBytesToRead,ignoreNul)=>{ptr>>>=0;return ptr?UTF8ArrayToString((growMemViews(),HEAPU8),ptr,maxBytesToRead,ignoreNul):""};function ___assert_fail(condition,filename,line,func){condition>>>=0;filename>>>=0;func>>>=0;return abort(`Assertion failed: ${UTF8ToString(condition)}, at: `+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"])}function pthreadCreateProxied(pthread_ptr,attr,startRoutine,arg){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(2,0,1,pthread_ptr,attr,startRoutine,arg);return ___pthread_create_js(pthread_ptr,attr,startRoutine,arg)}var _emscripten_has_threading_support=()=>!!globalThis.SharedArrayBuffer;function ___pthread_create_js(pthread_ptr,attr,startRoutine,arg){pthread_ptr>>>=0;attr>>>=0;startRoutine>>>=0;arg>>>=0;if(!_emscripten_has_threading_support()){return 6}var transferList=[];var error=0;if(ENVIRONMENT_IS_PTHREAD&&(transferList.length===0||error)){return pthreadCreateProxied(pthread_ptr,attr,startRoutine,arg)}if(error)return error;var threadParams={startRoutine,pthread_ptr,arg,transferList};if(ENVIRONMENT_IS_PTHREAD){threadParams.cmd="spawnThread";postMessage(threadParams,transferList);return 0}return spawnThread(threadParams)}var syscallGetVarargI=()=>{var ret=(growMemViews(),HEAP32)[+SYSCALLS.varargs>>>2>>>0];SYSCALLS.varargs+=4;return ret};var syscallGetVarargP=syscallGetVarargI;var PATH={isAbs:path=>path.charAt(0)==="/",splitPath:filename=>{var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:(parts,allowAboveRoot)=>{var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash=path.slice(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:path=>{var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.slice(0,-1)}return root+dir},basename:path=>path&&path.match(/([^\\/]+|\\/)\\/*$/)[1],join:(...paths)=>PATH.normalize(paths.join("/")),join2:(l,r)=>PATH.normalize(l+"/"+r)};var initRandomFill=()=>{if(ENVIRONMENT_IS_NODE){var nodeCrypto=require("crypto");return view=>nodeCrypto.randomFillSync(view)}return view=>view.set(crypto.getRandomValues(new Uint8Array(view.byteLength)))};var randomFill=view=>{(randomFill=initRandomFill())(view)};var PATH_FS={resolve:(...args)=>{var resolvedPath="",resolvedAbsolute=false;for(var i=args.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?args[i]:FS.cwd();if(typeof path!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=PATH.isAbs(path)}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:(from,to)=>{from=PATH_FS.resolve(from).slice(1);to=PATH_FS.resolve(to).slice(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var FS_stdin_getChar_buffer=[];var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{outIdx>>>=0;if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.codePointAt(i);if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++>>>0]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++>>>0]=192|u>>6;heap[outIdx++>>>0]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++>>>0]=224|u>>12;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++>>>0]=240|u>>18;heap[outIdx++>>>0]=128|u>>12&63;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63;i++}}heap[outIdx>>>0]=0;return outIdx-startIdx};var intArrayFromString=(stringy,dontAddNull,length)=>{var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array};var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc(BUFSIZE);var bytesRead=0;var fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE)}catch(e){if(e.toString().includes("EOF"))bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}}else if(globalThis.window?.prompt){result=window.prompt("Input: ");if(result!==null){result+="\\n"}}else{}if(!result){return null}FS_stdin_getChar_buffer=intArrayFromString(result,true)}return FS_stdin_getChar_buffer.shift()};var TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){out(UTF8ArrayToString(tty.output));tty.output=[]}},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){err(UTF8ArrayToString(tty.output));tty.output=[]}}}};var zeroMemory=(ptr,size)=>(growMemViews(),HEAPU8).fill(0,ptr,ptr+size);var alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment;var mmapAlloc=size=>{size=alignMemory(size,65536);var ptr=_emscripten_builtin_memalign(65536,size);if(ptr)zeroMemory(ptr,size);return ptr};var MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16895,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}MEMFS.ops_table||={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}};var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.atime=node.mtime=node.ctime=Date.now();if(parent){parent.contents[name]=node;parent.atime=parent.mtime=parent.ctime=node.atime}return node},getFileDataAsTypedArray(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.atime);attr.mtime=new Date(node.mtime);attr.ctime=new Date(node.ctime);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr(node,attr){for(const key of["mode","atime","mtime","ctime"]){if(attr[key]!=null){node[key]=attr[key]}}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup(parent,name){if(!MEMFS.doesNotExistError){MEMFS.doesNotExistError=new FS.ErrnoError(44);MEMFS.doesNotExistError.stack="<generic error, no stack>"}throw MEMFS.doesNotExistError},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){if(FS.isDir(old_node.mode)){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}FS.hashRemoveNode(new_node)}delete old_node.parent.contents[old_node.name];new_dir.contents[new_name]=old_node;old_node.name=new_name;new_dir.ctime=new_dir.mtime=old_node.parent.ctime=old_node.parent.mtime=Date.now()},unlink(parent,name){delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},rmdir(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},readdir(node){return[".","..",...Object.keys(node.contents)]},symlink(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write(stream,buffer,offset,length,position,canOwn){if(buffer.buffer===(growMemViews(),HEAP8).buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.mtime=node.ctime=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},mmap(stream,length,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents&&contents.buffer===(growMemViews(),HEAP8).buffer){allocated=false;ptr=contents.byteOffset}else{allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}if(contents){if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}(growMemViews(),HEAP8).set(contents,ptr>>>0)}}return{ptr,allocated}},msync(stream,buffer,offset,length,mmapFlags){MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var FS_modeStringToFlags=str=>{var flagModes={r:0,"r+":2,w:512|64|1,"w+":512|64|2,a:1024|64|1,"a+":1024|64|2};var flags=flagModes[str];if(typeof flags=="undefined"){throw new Error(`Unknown file open mode: ${str}`)}return flags};var FS_getMode=(canRead,canWrite)=>{var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode};var asyncLoad=async url=>{var arrayBuffer=await readAsync(url);return new Uint8Array(arrayBuffer)};var FS_createDataFile=(...args)=>FS.createDataFile(...args);var getUniqueRunDependency=id=>id;var preloadPlugins=[];var FS_handledByPreloadPlugin=async(byteArray,fullname)=>{if(typeof Browser!="undefined")Browser.init();for(var plugin of preloadPlugins){if(plugin["canHandle"](fullname)){return plugin["handle"](byteArray,fullname)}}return byteArray};var FS_preloadFile=async(parent,name,url,canRead,canWrite,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency(`cp ${fullname}`);addRunDependency(dep);try{var byteArray=url;if(typeof url=="string"){byteArray=await asyncLoad(url)}byteArray=await FS_handledByPreloadPlugin(byteArray,fullname);preFinish?.();if(!dontCreateFile){FS_createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}}finally{removeRunDependency(dep)}};var FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{FS_preloadFile(parent,name,url,canRead,canWrite,dontCreateFile,canOwn,preFinish).then(onload).catch(onerror)};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(errno){this.errno=errno}},FSStream:class{shared={};get object(){return this.node}set object(val){this.node=val}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(val){this.shared.flags=val}get position(){return this.shared.position}set position(val){this.shared.position=val}},FSNode:class{node_ops={};stream_ops={};readMode=292|73;writeMode=146;mounted=null;constructor(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.rdev=rdev;this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(val){val?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(val){val?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(path,opts={}){if(!path){throw new FS.ErrnoError(44)}opts.follow_mount??=true;if(!PATH.isAbs(path)){path=FS.cwd()+"/"+path}linkloop:for(var nlinks=0;nlinks<40;nlinks++){var parts=path.split("/").filter(p=>!!p);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}if(parts[i]==="."){continue}if(parts[i]===".."){current_path=PATH.dirname(current_path);if(FS.isRoot(current)){path=current_path+"/"+parts.slice(i+1).join("/");nlinks--;continue linkloop}else{current=current.parent}continue}current_path=PATH.join2(current_path,parts[i]);try{current=FS.lookupNode(current,parts[i])}catch(e){if(e?.errno===44&&islast&&opts.noent_okay){return{path:current_path}}throw e}if(FS.isMountpoint(current)&&(!islast||opts.follow_mount)){current=current.mounted.root}if(FS.isLink(current.mode)&&(!islast||opts.follow)){if(!current.node_ops.readlink){throw new FS.ErrnoError(52)}var link=current.node_ops.readlink(current);if(!PATH.isAbs(link)){link=PATH.dirname(current_path)+"/"+link}path=link+"/"+parts.slice(i+1).join("/");continue linkloop}}return{path:current_path,node:current}}throw new FS.ErrnoError(32)},getPath(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?`${mount}/${path}`:mount+path}path=path?`${node.name}/${path}`:node.name;node=node.parent}},hashName(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return(mode&61440)===32768},isDir(mode){return(mode&61440)===16384},isLink(mode){return(mode&61440)===40960},isChrdev(mode){return(mode&61440)===8192},isBlkdev(mode){return(mode&61440)===24576},isFIFO(mode){return(mode&61440)===4096},isSocket(mode){return(mode&49152)===49152},flagsToPermissionString(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions(node,perms){if(FS.ignorePermissions){return 0}if(perms.includes("r")&&!(node.mode&292)){return 2}else if(perms.includes("w")&&!(node.mode&146)){return 2}else if(perms.includes("x")&&!(node.mode&73)){return 2}return 0},mayLookup(dir){if(!FS.isDir(dir.mode))return 54;var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate(dir,name){if(!FS.isDir(dir.mode)){return 54}try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&(512|64)){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},checkOpExists(op,err){if(!op){throw new FS.ErrnoError(err)}return op},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStreamChecked(fd){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}return stream},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){stream=Object.assign(new FS.FSStream,stream);if(fd==-1){fd=FS.nextfd()}stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream(fd){FS.streams[fd]=null},dupStream(origStream,fd=-1){var stream=FS.createStream(origStream,fd);stream.stream_ops?.dup?.(stream);return stream},doSetAttr(stream,node,attr){var setattr=stream?.stream_ops.setattr;var arg=setattr?stream:node;setattr??=node.node_ops.setattr;FS.checkOpExists(setattr,63);setattr(arg,attr)},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;stream.stream_ops.open?.(stream)},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>dev&255,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push(...m.mounts)}return mounts},syncfs(populate,callback){if(typeof populate=="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`)}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}for(var mount of mounts){if(mount.type.syncfs){mount.type.syncfs(mount,populate,done)}else{done(null)}}},mount(type,opts,mountpoint){var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type,opts,mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);for(var[hash,current]of Object.entries(FS.nameTable)){while(current){var next=current.name_next;if(mounts.includes(current.mount)){FS.destroyNode(current)}current=next}}node.mounted=null;var idx=node.mount.mounts.indexOf(mount);node.mount.mounts.splice(idx,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name){throw new FS.ErrnoError(28)}if(name==="."||name===".."){throw new FS.ErrnoError(20)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},statfs(path){return FS.statfsNode(FS.lookupPath(path,{follow:true}).node)},statfsStream(stream){return FS.statfsNode(stream.node)},statfsNode(node){var rtn={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:FS.nextInode,ffree:FS.nextInode-1,fsid:42,flags:2,namelen:255};if(node.node_ops.statfs){Object.assign(rtn,node.node_ops.statfs(node.mount.opts.root))}return rtn},create(path,mode=438){mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir(path,mode=511){mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree(path,mode){var dirs=path.split("/");var d="";for(var dir of dirs){if(!dir)continue;if(d||PATH.isAbs(path))d+="/";d+=dir;try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev(path,mode,dev){if(typeof dev=="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name);old_node.parent=new_dir}catch(e){throw e}finally{FS.hashAddNode(old_node)}},rmdir(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node)},readdir(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var readdir=FS.checkOpExists(node.node_ops.readdir,54);return readdir(node)},unlink(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.unlink(parent,name);FS.destroyNode(node)},readlink(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return link.node_ops.readlink(link)},stat(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;var getattr=FS.checkOpExists(node.node_ops.getattr,63);return getattr(node)},fstat(fd){var stream=FS.getStreamChecked(fd);var node=stream.node;var getattr=stream.stream_ops.getattr;var arg=getattr?stream:node;getattr??=node.node_ops.getattr;FS.checkOpExists(getattr,63);return getattr(arg)},lstat(path){return FS.stat(path,true)},doChmod(stream,node,mode,dontFollow){FS.doSetAttr(stream,node,{mode:mode&4095|node.mode&~4095,ctime:Date.now(),dontFollow})},chmod(path,mode,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChmod(null,node,mode,dontFollow)},lchmod(path,mode){FS.chmod(path,mode,true)},fchmod(fd,mode){var stream=FS.getStreamChecked(fd);FS.doChmod(stream,stream.node,mode,false)},doChown(stream,node,dontFollow){FS.doSetAttr(stream,node,{timestamp:Date.now(),dontFollow})},chown(path,uid,gid,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChown(null,node,dontFollow)},lchown(path,uid,gid){FS.chown(path,uid,gid,true)},fchown(fd,uid,gid){var stream=FS.getStreamChecked(fd);FS.doChown(stream,stream.node,false)},doTruncate(stream,node,len){if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}FS.doSetAttr(stream,node,{size:len,timestamp:Date.now()})},truncate(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}FS.doTruncate(null,node,len)},ftruncate(fd,len){var stream=FS.getStreamChecked(fd);if(len<0||(stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.doTruncate(stream,stream.node,len)},utime(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var setattr=FS.checkOpExists(node.node_ops.setattr,63);setattr(node,{atime,mtime})},open(path,flags,mode=438){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags=="string"?FS_modeStringToFlags(flags):flags;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;var isDirPath;if(typeof path=="object"){node=path}else{isDirPath=path.endsWith("/");var lookup=FS.lookupPath(path,{follow:!(flags&131072),noent_okay:true});node=lookup.node;path=lookup.path}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else if(isDirPath){throw new FS.ErrnoError(31)}else{node=FS.mknod(path,mode|511,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512&&!created){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node,path:FS.getPath(node),flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false});if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(created){FS.chmod(node,mode&511)}if(Module["logReadFiles"]&&!(flags&1)){if(!(path in FS.readFiles)){FS.readFiles[path]=1}}return stream},close(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return stream.fd===null},llseek(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;return bytesWritten},mmap(stream,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}if(!length){throw new FS.ErrnoError(28)}return stream.stream_ops.mmap(stream,length,position,prot,flags)},msync(stream,buffer,offset,length,mmapFlags){if(!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},ioctl(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile(path,opts={}){opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){abort(`Invalid encoding type "${opts.encoding}"`)}var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){buf=UTF8ArrayToString(buf)}FS.close(stream);return buf},writeFile(path,data,opts={}){opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data=="string"){data=new Uint8Array(intArrayFromString(data,true))}if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{abort("Unsupported data type")}FS.close(stream)},cwd:()=>FS.currentPath,chdir(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length,pos)=>length,llseek:()=>0});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0;var randomByte=()=>{if(randomLeft===0){randomFill(randomBuffer);randomLeft=randomBuffer.byteLength}return randomBuffer[--randomLeft]};FS.createDevice("/dev","random",randomByte);FS.createDevice("/dev","urandom",randomByte);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16895,73);node.stream_ops={llseek:MEMFS.stream_ops.llseek};node.node_ops={lookup(parent,name){var fd=+name;var stream=FS.getStreamChecked(fd);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path},id:fd+1};ret.parent=ret;return ret},readdir(){return Array.from(FS.streams.entries()).filter(([k,v])=>v).map(([k,v])=>k.toString())}};return node}},{},"/proc/self/fd")},createStandardStreams(input,output,error){if(input){FS.createDevice("/dev","stdin",input)}else{FS.symlink("/dev/tty","/dev/stdin")}if(output){FS.createDevice("/dev","stdout",null,output)}else{FS.symlink("/dev/tty","/dev/stdout")}if(error){FS.createDevice("/dev","stderr",null,error)}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1)},staticInit(){FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS}},init(input,output,error){FS.initialized=true;input??=Module["stdin"];output??=Module["stdout"];error??=Module["stderr"];FS.createStandardStreams(input,output,error)},quit(){FS.initialized=false;for(var stream of FS.streams){if(stream){FS.close(stream)}}},findObject(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(!ret.exists){return null}return ret.object},analyzePath(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent=typeof parent=="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){if(e.errno!=20)throw e}parent=current}return current},createFile(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name;if(parent){parent=typeof parent=="string"?parent:FS.getPath(parent);path=name?PATH.join2(parent,name):parent}var mode=FS_getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data=="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}},createDevice(parent,name,input,output){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(!!input,!!output);FS.createDevice.major??=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open(stream){stream.seekable=false},close(stream){if(output?.buffer?.length){output(10)}},read(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(globalThis.XMLHttpRequest){abort("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else{try{obj.contents=readBinary(obj.url)}catch(e){throw new FS.ErrnoError(29)}}},createLazyFile(parent,name,url,canRead,canWrite){class LazyUint8Array{lengthKnown=false;chunks=[];get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]}setDataGetter(getter){this.getter=getter}cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))abort("Couldn\'t load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=(from,to)=>{if(from>to)abort("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)abort("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))abort("Couldn\'t load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}return intArrayFromString(xhr.responseText||"",true)};var lazyArray=this;lazyArray.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]=="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]=="undefined")abort("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true}get length(){if(!this.lengthKnown){this.cacheLength()}return this._length}get chunkSize(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}if(globalThis.XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)abort("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc");var lazyArray=new LazyUint8Array;var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};for(const[key,fn]of Object.entries(node.stream_ops)){stream_ops[key]=(...args)=>{FS.forceLoadFile(node);return fn(...args)}}function writeChunks(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size}stream_ops.read=(stream,buffer,offset,length,position)=>{FS.forceLoadFile(node);return writeChunks(stream,buffer,offset,length,position)};stream_ops.mmap=(stream,length,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}writeChunks(stream,(growMemViews(),HEAP8),ptr,length,position);return{ptr,allocated:true}};node.stream_ops=stream_ops;return node}};var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path)){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=SYSCALLS.getStreamFromFD(dirfd);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return dir+"/"+path},writeStat(buf,stat){(growMemViews(),HEAPU32)[buf>>>2>>>0]=stat.dev;(growMemViews(),HEAPU32)[buf+4>>>2>>>0]=stat.mode;(growMemViews(),HEAPU32)[buf+8>>>2>>>0]=stat.nlink;(growMemViews(),HEAPU32)[buf+12>>>2>>>0]=stat.uid;(growMemViews(),HEAPU32)[buf+16>>>2>>>0]=stat.gid;(growMemViews(),HEAPU32)[buf+20>>>2>>>0]=stat.rdev;(growMemViews(),HEAP64)[buf+24>>>3>>>0]=BigInt(stat.size);(growMemViews(),HEAP32)[buf+32>>>2>>>0]=4096;(growMemViews(),HEAP32)[buf+36>>>2>>>0]=stat.blocks;var atime=stat.atime.getTime();var mtime=stat.mtime.getTime();var ctime=stat.ctime.getTime();(growMemViews(),HEAP64)[buf+40>>>3>>>0]=BigInt(Math.floor(atime/1e3));(growMemViews(),HEAPU32)[buf+48>>>2>>>0]=atime%1e3*1e3*1e3;(growMemViews(),HEAP64)[buf+56>>>3>>>0]=BigInt(Math.floor(mtime/1e3));(growMemViews(),HEAPU32)[buf+64>>>2>>>0]=mtime%1e3*1e3*1e3;(growMemViews(),HEAP64)[buf+72>>>3>>>0]=BigInt(Math.floor(ctime/1e3));(growMemViews(),HEAPU32)[buf+80>>>2>>>0]=ctime%1e3*1e3*1e3;(growMemViews(),HEAP64)[buf+88>>>3>>>0]=BigInt(stat.ino);return 0},writeStatFs(buf,stats){(growMemViews(),HEAPU32)[buf+4>>>2>>>0]=stats.bsize;(growMemViews(),HEAPU32)[buf+60>>>2>>>0]=stats.bsize;(growMemViews(),HEAP64)[buf+8>>>3>>>0]=BigInt(stats.blocks);(growMemViews(),HEAP64)[buf+16>>>3>>>0]=BigInt(stats.bfree);(growMemViews(),HEAP64)[buf+24>>>3>>>0]=BigInt(stats.bavail);(growMemViews(),HEAP64)[buf+32>>>3>>>0]=BigInt(stats.files);(growMemViews(),HEAP64)[buf+40>>>3>>>0]=BigInt(stats.ffree);(growMemViews(),HEAPU32)[buf+48>>>2>>>0]=stats.fsid;(growMemViews(),HEAPU32)[buf+64>>>2>>>0]=stats.flags;(growMemViews(),HEAPU32)[buf+56>>>2>>>0]=stats.namelen},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(flags&2){return 0}var buffer=(growMemViews(),HEAPU8).slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},getStreamFromFD(fd){var stream=FS.getStreamChecked(fd);return stream},varargs:undefined,getStr(ptr){var ret=UTF8ToString(ptr);return ret}};function ___syscall_fcntl64(fd,cmd,varargs){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(3,0,1,fd,cmd,varargs);varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=syscallGetVarargI();if(arg<0){return-28}while(FS.streams[arg]){arg++}var newStream;newStream=FS.dupStream(stream,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=syscallGetVarargI();stream.flags|=arg;return 0}case 12:{var arg=syscallGetVarargP();var offset=0;(growMemViews(),HEAP16)[arg+offset>>>1>>>0]=2;return 0}case 13:case 14:return 0}return-28}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_ioctl(fd,op,varargs){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(4,0,1,fd,op,varargs);varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:{if(!stream.tty)return-59;return 0}case 21505:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream);var argp=syscallGetVarargP();(growMemViews(),HEAP32)[argp>>>2>>>0]=termios.c_iflag||0;(growMemViews(),HEAP32)[argp+4>>>2>>>0]=termios.c_oflag||0;(growMemViews(),HEAP32)[argp+8>>>2>>>0]=termios.c_cflag||0;(growMemViews(),HEAP32)[argp+12>>>2>>>0]=termios.c_lflag||0;for(var i=0;i<32;i++){(growMemViews(),HEAP8)[argp+i+17>>>0]=termios.c_cc[i]||0}return 0}return 0}case 21510:case 21511:case 21512:{if(!stream.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){var argp=syscallGetVarargP();var c_iflag=(growMemViews(),HEAP32)[argp>>>2>>>0];var c_oflag=(growMemViews(),HEAP32)[argp+4>>>2>>>0];var c_cflag=(growMemViews(),HEAP32)[argp+8>>>2>>>0];var c_lflag=(growMemViews(),HEAP32)[argp+12>>>2>>>0];var c_cc=[];for(var i=0;i<32;i++){c_cc.push((growMemViews(),HEAP8)[argp+i+17>>>0])}return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag,c_oflag,c_cflag,c_lflag,c_cc})}return 0}case 21519:{if(!stream.tty)return-59;var argp=syscallGetVarargP();(growMemViews(),HEAP32)[argp>>>2>>>0]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21537:case 21531:{var argp=syscallGetVarargP();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tiocgwinsz){var winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty);var argp=syscallGetVarargP();(growMemViews(),HEAP16)[argp>>>1>>>0]=winsize[0];(growMemViews(),HEAP16)[argp+2>>>1>>>0]=winsize[1]}return 0}case 21524:{if(!stream.tty)return-59;return 0}case 21515:{if(!stream.tty)return-59;return 0}default:return-28}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_openat(dirfd,path,flags,varargs){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(5,0,1,dirfd,path,flags,varargs);path>>>=0;varargs>>>=0;SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path);path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?syscallGetVarargI():0;return FS.open(path,flags,mode).fd}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var __abort_js=()=>abort("");function __emscripten_init_main_thread_js(tb){tb>>>=0;__emscripten_thread_init(tb,!ENVIRONMENT_IS_WORKER,1,!ENVIRONMENT_IS_WEB,65536,false);PThread.threadInitTLS()}var handleException=e=>{if(e instanceof ExitStatus||e=="unwind"){return EXITSTATUS}quit_(1,e)};var maybeExit=()=>{if(!keepRuntimeAlive()){try{if(ENVIRONMENT_IS_PTHREAD){if(_pthread_self())__emscripten_thread_exit(EXITSTATUS);return}_exit(EXITSTATUS)}catch(e){handleException(e)}}};var callUserCallback=func=>{if(ABORT){return}try{func();maybeExit()}catch(e){handleException(e)}};function __emscripten_thread_mailbox_await(pthread_ptr){pthread_ptr>>>=0;if(Atomics.waitAsync){var wait=Atomics.waitAsync((growMemViews(),HEAP32),pthread_ptr>>>2,pthread_ptr);wait.value.then(checkMailbox);var waitingAsync=pthread_ptr+128;Atomics.store((growMemViews(),HEAP32),waitingAsync>>>2,1)}}var checkMailbox=()=>callUserCallback(()=>{var pthread_ptr=_pthread_self();if(pthread_ptr){__emscripten_thread_mailbox_await(pthread_ptr);__emscripten_check_mailbox()}});function __emscripten_notify_mailbox_postmessage(targetThread,currThreadId){targetThread>>>=0;currThreadId>>>=0;if(targetThread==currThreadId){setTimeout(checkMailbox)}else if(ENVIRONMENT_IS_PTHREAD){postMessage({targetThread,cmd:"checkMailbox"})}else{var worker=PThread.pthreads[targetThread];if(!worker){return}worker.postMessage({cmd:"checkMailbox"})}}var proxiedJSCallArgs=[];function __emscripten_receive_on_main_thread_js(funcIndex,emAsmAddr,callingThread,numCallArgs,args){emAsmAddr>>>=0;callingThread>>>=0;args>>>=0;numCallArgs/=2;proxiedJSCallArgs.length=numCallArgs;var b=args>>>3;for(var i=0;i<numCallArgs;i++){if((growMemViews(),HEAP64)[b+2*i>>>0]){proxiedJSCallArgs[i]=(growMemViews(),HEAP64)[b+2*i+1>>>0]}else{proxiedJSCallArgs[i]=(growMemViews(),HEAPF64)[b+2*i+1>>>0]}}var func=proxiedFunctionTable[funcIndex];PThread.currentProxiedOperationCallerThread=callingThread;var rtn=func(...proxiedJSCallArgs);PThread.currentProxiedOperationCallerThread=0;return rtn}var __emscripten_runtime_keepalive_clear=()=>{noExitRuntime=false;runtimeKeepaliveCounter=0};function __emscripten_thread_cleanup(thread){thread>>>=0;if(!ENVIRONMENT_IS_PTHREAD)cleanupThread(thread);else postMessage({cmd:"cleanupThread",thread})}function __emscripten_thread_set_strongref(thread){thread>>>=0;if(ENVIRONMENT_IS_NODE){PThread.pthreads[thread].ref()}}function __mmap_js(len,prot,flags,fd,offset,allocated,addr){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(6,0,1,len,prot,flags,fd,offset,allocated,addr);len>>>=0;offset=bigintToI53Checked(offset);allocated>>>=0;addr>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var res=FS.mmap(stream,len,offset,prot,flags);var ptr=res.ptr;(growMemViews(),HEAP32)[allocated>>>2>>>0]=res.allocated;(growMemViews(),HEAPU32)[addr>>>2>>>0]=ptr;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function __munmap_js(addr,len,prot,flags,fd,offset){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(7,0,1,addr,len,prot,flags,fd,offset);addr>>>=0;len>>>=0;offset=bigintToI53Checked(offset);try{var stream=SYSCALLS.getStreamFromFD(fd);if(prot&2){SYSCALLS.doMsync(addr,stream,len,flags,offset)}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var timers={};var _emscripten_get_now=()=>performance.timeOrigin+performance.now();function __setitimer_js(which,timeout_ms){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(8,0,1,which,timeout_ms);if(timers[which]){clearTimeout(timers[which].id);delete timers[which]}if(!timeout_ms)return 0;var id=setTimeout(()=>{delete timers[which];callUserCallback(()=>__emscripten_timeout(which,_emscripten_get_now()))},timeout_ms);timers[which]={id,timeout_ms};return 0}var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,(growMemViews(),HEAPU8),outPtr,maxBytesToWrite);var __tzset_js=function(timezone,daylight,std_name,dst_name){timezone>>>=0;daylight>>>=0;std_name>>>=0;dst_name>>>=0;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);(growMemViews(),HEAPU32)[timezone>>>2>>>0]=stdTimezoneOffset*60;(growMemViews(),HEAP32)[daylight>>>2>>>0]=Number(winterOffset!=summerOffset);var extractZone=timezoneOffset=>{var sign=timezoneOffset>=0?"-":"+";var absOffset=Math.abs(timezoneOffset);var hours=String(Math.floor(absOffset/60)).padStart(2,"0");var minutes=String(absOffset%60).padStart(2,"0");return`UTC${sign}${hours}${minutes}`};var winterName=extractZone(winterOffset);var summerName=extractZone(summerOffset);if(summerOffset<winterOffset){stringToUTF8(winterName,std_name,17);stringToUTF8(summerName,dst_name,17)}else{stringToUTF8(winterName,dst_name,17);stringToUTF8(summerName,std_name,17)}};var _emscripten_date_now=()=>Date.now();var nowIsMonotonic=1;var checkWasiClock=clock_id=>clock_id>=0&&clock_id<=3;function _clock_time_get(clk_id,ignored_precision,ptime){ignored_precision=bigintToI53Checked(ignored_precision);ptime>>>=0;if(!checkWasiClock(clk_id)){return 28}var now;if(clk_id===0){now=_emscripten_date_now()}else if(nowIsMonotonic){now=_emscripten_get_now()}else{return 52}var nsec=Math.round(now*1e3*1e3);(growMemViews(),HEAP64)[ptime>>>3>>>0]=BigInt(nsec);return 0}var _emscripten_check_blocking_allowed=()=>{};var runtimeKeepalivePush=()=>{runtimeKeepaliveCounter+=1};var _emscripten_exit_with_live_runtime=()=>{runtimeKeepalivePush();throw"unwind"};var getHeapMax=()=>4294901760;function _emscripten_get_heap_max(){return getHeapMax()}var _emscripten_has_asyncify=()=>2;var _emscripten_num_logical_cores=()=>ENVIRONMENT_IS_NODE?require("os").cpus().length:navigator["hardwareConcurrency"];var growMemory=size=>{var oldHeapSize=wasmMemory.buffer.byteLength;var pages=(size-oldHeapSize+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};function _emscripten_resize_heap(requestedSize){requestedSize>>>=0;var oldSize=(growMemViews(),HEAPU8).length;if(requestedSize<=oldSize){return false}var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false}var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};var stringToNewUTF8=str=>{var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8(str,ret,size);return ret};var WebGPU={Internals:{jsObjects:[],jsObjectInsert:(ptr,jsObject)=>{ptr>>>=0;WebGPU.Internals.jsObjects[ptr]=jsObject},bufferOnUnmaps:[],futures:[],futureInsert:(futureId,promise)=>{WebGPU.Internals.futures[futureId]=new Promise(resolve=>promise.finally(()=>resolve(futureId)))}},getJsObject:ptr=>{if(!ptr)return undefined;ptr>>>=0;return WebGPU.Internals.jsObjects[ptr]},importJsAdapter:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateAdapter(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsBindGroup:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateBindGroup(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsBindGroupLayout:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateBindGroupLayout(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsBuffer:(buffer,parentPtr=0)=>{assert(buffer.mapState!="pending");var mapState=buffer.mapState=="mapped"?3:1;var bufferPtr=_emwgpuCreateBuffer(parentPtr,mapState);WebGPU.Internals.jsObjectInsert(bufferPtr,buffer);if(buffer.mapState=="mapped"){WebGPU.Internals.bufferOnUnmaps[bufferPtr]=[]}return bufferPtr},importJsCommandBuffer:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateCommandBuffer(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsCommandEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateCommandEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsComputePassEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateComputePassEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsComputePipeline:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateComputePipeline(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsDevice:(device,parentPtr=0)=>{var queuePtr=_emwgpuCreateQueue(parentPtr);var devicePtr=_emwgpuCreateDevice(parentPtr,queuePtr);WebGPU.Internals.jsObjectInsert(queuePtr,device.queue);WebGPU.Internals.jsObjectInsert(devicePtr,device);return devicePtr},importJsPipelineLayout:(obj,parentPtr=0)=>{var ptr=_emwgpuCreatePipelineLayout(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsQuerySet:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateQuerySet(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsQueue:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateQueue(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderBundle:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderBundle(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderBundleEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderBundleEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderPassEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderPassEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderPipeline:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderPipeline(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsSampler:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateSampler(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsShaderModule:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateShaderModule(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsSurface:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateSurface(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsTexture:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateTexture(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsTextureView:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateTextureView(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},errorCallback:(callback,type,message,userdata)=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(message);getWasmTableEntry(callback)(type,messagePtr,userdata);stackRestore(sp)},setStringView:(ptr,data,length)=>{(growMemViews(),HEAPU32)[ptr>>>2>>>0]=data;(growMemViews(),HEAPU32)[ptr+4>>>2>>>0]=length},makeStringFromStringView:stringViewPtr=>{var ptr=(growMemViews(),HEAPU32)[stringViewPtr>>>2>>>0];var length=(growMemViews(),HEAPU32)[stringViewPtr+4>>>2>>>0];return UTF8ToString(ptr,length)},makeStringFromOptionalStringView:stringViewPtr=>{var ptr=(growMemViews(),HEAPU32)[stringViewPtr>>>2>>>0];var length=(growMemViews(),HEAPU32)[stringViewPtr+4>>>2>>>0];if(!ptr){if(length===0){return""}return undefined}return UTF8ToString(ptr,length)},makeColor:ptr=>({r:(growMemViews(),HEAPF64)[ptr>>>3>>>0],g:(growMemViews(),HEAPF64)[ptr+8>>>3>>>0],b:(growMemViews(),HEAPF64)[ptr+16>>>3>>>0],a:(growMemViews(),HEAPF64)[ptr+24>>>3>>>0]}),makeExtent3D:ptr=>({width:(growMemViews(),HEAPU32)[ptr>>>2>>>0],height:(growMemViews(),HEAPU32)[ptr+4>>>2>>>0],depthOrArrayLayers:(growMemViews(),HEAPU32)[ptr+8>>>2>>>0]}),makeOrigin3D:ptr=>({x:(growMemViews(),HEAPU32)[ptr>>>2>>>0],y:(growMemViews(),HEAPU32)[ptr+4>>>2>>>0],z:(growMemViews(),HEAPU32)[ptr+8>>>2>>>0]}),makeTexelCopyTextureInfo:ptr=>({texture:WebGPU.getJsObject((growMemViews(),HEAPU32)[ptr>>>2>>>0]),mipLevel:(growMemViews(),HEAPU32)[ptr+4>>>2>>>0],origin:WebGPU.makeOrigin3D(ptr+8),aspect:WebGPU.TextureAspect[(growMemViews(),HEAPU32)[ptr+20>>>2>>>0]]}),makeTexelCopyBufferLayout:ptr=>{var bytesPerRow=(growMemViews(),HEAPU32)[ptr+8>>>2>>>0];var rowsPerImage=(growMemViews(),HEAPU32)[ptr+12>>>2>>>0];return{offset:(growMemViews(),HEAPU32)[ptr+4>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[ptr>>>2>>>0],bytesPerRow:bytesPerRow===4294967295?undefined:bytesPerRow,rowsPerImage:rowsPerImage===4294967295?undefined:rowsPerImage}},makeTexelCopyBufferInfo:ptr=>{var layoutPtr=ptr+0;var bufferCopyView=WebGPU.makeTexelCopyBufferLayout(layoutPtr);bufferCopyView["buffer"]=WebGPU.getJsObject((growMemViews(),HEAPU32)[ptr+16>>>2>>>0]);return bufferCopyView},makePassTimestampWrites:ptr=>{if(ptr===0)return undefined;return{querySet:WebGPU.getJsObject((growMemViews(),HEAPU32)[ptr+4>>>2>>>0]),beginningOfPassWriteIndex:(growMemViews(),HEAPU32)[ptr+8>>>2>>>0],endOfPassWriteIndex:(growMemViews(),HEAPU32)[ptr+12>>>2>>>0]}},makePipelineConstants:(constantCount,constantsPtr)=>{if(!constantCount)return;var constants={};for(var i=0;i<constantCount;++i){var entryPtr=constantsPtr+24*i;var key=WebGPU.makeStringFromStringView(entryPtr+4);constants[key]=(growMemViews(),HEAPF64)[entryPtr+16>>>3>>>0]}return constants},makePipelineLayout:layoutPtr=>{if(!layoutPtr)return"auto";return WebGPU.getJsObject(layoutPtr)},makeComputeState:ptr=>{if(!ptr)return undefined;var desc={module:WebGPU.getJsObject((growMemViews(),HEAPU32)[ptr+4>>>2>>>0]),constants:WebGPU.makePipelineConstants((growMemViews(),HEAPU32)[ptr+16>>>2>>>0],(growMemViews(),HEAPU32)[ptr+20>>>2>>>0]),entryPoint:WebGPU.makeStringFromOptionalStringView(ptr+8)};return desc},makeComputePipelineDesc:descriptor=>{var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),layout:WebGPU.makePipelineLayout((growMemViews(),HEAPU32)[descriptor+12>>>2>>>0]),compute:WebGPU.makeComputeState(descriptor+16)};return desc},makeRenderPipelineDesc:descriptor=>{function makePrimitiveState(psPtr){if(!psPtr)return undefined;return{topology:WebGPU.PrimitiveTopology[(growMemViews(),HEAPU32)[psPtr+4>>>2>>>0]],stripIndexFormat:WebGPU.IndexFormat[(growMemViews(),HEAPU32)[psPtr+8>>>2>>>0]],frontFace:WebGPU.FrontFace[(growMemViews(),HEAPU32)[psPtr+12>>>2>>>0]],cullMode:WebGPU.CullMode[(growMemViews(),HEAPU32)[psPtr+16>>>2>>>0]],unclippedDepth:!!(growMemViews(),HEAPU32)[psPtr+20>>>2>>>0]}}function makeBlendComponent(bdPtr){if(!bdPtr)return undefined;return{operation:WebGPU.BlendOperation[(growMemViews(),HEAPU32)[bdPtr>>>2>>>0]],srcFactor:WebGPU.BlendFactor[(growMemViews(),HEAPU32)[bdPtr+4>>>2>>>0]],dstFactor:WebGPU.BlendFactor[(growMemViews(),HEAPU32)[bdPtr+8>>>2>>>0]]}}function makeBlendState(bsPtr){if(!bsPtr)return undefined;return{alpha:makeBlendComponent(bsPtr+12),color:makeBlendComponent(bsPtr+0)}}function makeColorState(csPtr){var formatInt=(growMemViews(),HEAPU32)[csPtr+4>>>2>>>0];return formatInt===0?undefined:{format:WebGPU.TextureFormat[formatInt],blend:makeBlendState((growMemViews(),HEAPU32)[csPtr+8>>>2>>>0]),writeMask:(growMemViews(),HEAPU32)[csPtr+16>>>2>>>0]}}function makeColorStates(count,csArrayPtr){var states=[];for(var i=0;i<count;++i){states.push(makeColorState(csArrayPtr+24*i))}return states}function makeStencilStateFace(ssfPtr){return{compare:WebGPU.CompareFunction[(growMemViews(),HEAPU32)[ssfPtr>>>2>>>0]],failOp:WebGPU.StencilOperation[(growMemViews(),HEAPU32)[ssfPtr+4>>>2>>>0]],depthFailOp:WebGPU.StencilOperation[(growMemViews(),HEAPU32)[ssfPtr+8>>>2>>>0]],passOp:WebGPU.StencilOperation[(growMemViews(),HEAPU32)[ssfPtr+12>>>2>>>0]]}}function makeDepthStencilState(dssPtr){if(!dssPtr)return undefined;return{format:WebGPU.TextureFormat[(growMemViews(),HEAPU32)[dssPtr+4>>>2>>>0]],depthWriteEnabled:!!(growMemViews(),HEAPU32)[dssPtr+8>>>2>>>0],depthCompare:WebGPU.CompareFunction[(growMemViews(),HEAPU32)[dssPtr+12>>>2>>>0]],stencilFront:makeStencilStateFace(dssPtr+16),stencilBack:makeStencilStateFace(dssPtr+32),stencilReadMask:(growMemViews(),HEAPU32)[dssPtr+48>>>2>>>0],stencilWriteMask:(growMemViews(),HEAPU32)[dssPtr+52>>>2>>>0],depthBias:(growMemViews(),HEAP32)[dssPtr+56>>>2>>>0],depthBiasSlopeScale:(growMemViews(),HEAPF32)[dssPtr+60>>>2>>>0],depthBiasClamp:(growMemViews(),HEAPF32)[dssPtr+64>>>2>>>0]}}function makeVertexAttribute(vaPtr){return{format:WebGPU.VertexFormat[(growMemViews(),HEAPU32)[vaPtr+4>>>2>>>0]],offset:(growMemViews(),HEAPU32)[vaPtr+4+8>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[vaPtr+8>>>2>>>0],shaderLocation:(growMemViews(),HEAPU32)[vaPtr+16>>>2>>>0]}}function makeVertexAttributes(count,vaArrayPtr){var vas=[];for(var i=0;i<count;++i){vas.push(makeVertexAttribute(vaArrayPtr+i*24))}return vas}function makeVertexBuffer(vbPtr){if(!vbPtr)return undefined;var stepModeInt=(growMemViews(),HEAPU32)[vbPtr+4>>>2>>>0];var attributeCountInt=(growMemViews(),HEAPU32)[vbPtr+16>>>2>>>0];if(stepModeInt===0&&attributeCountInt===0){return null}return{arrayStride:(growMemViews(),HEAPU32)[vbPtr+4+8>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[vbPtr+8>>>2>>>0],stepMode:WebGPU.VertexStepMode[stepModeInt],attributes:makeVertexAttributes(attributeCountInt,(growMemViews(),HEAPU32)[vbPtr+20>>>2>>>0])}}function makeVertexBuffers(count,vbArrayPtr){if(!count)return undefined;var vbs=[];for(var i=0;i<count;++i){vbs.push(makeVertexBuffer(vbArrayPtr+i*24))}return vbs}function makeVertexState(viPtr){if(!viPtr)return undefined;var desc={module:WebGPU.getJsObject((growMemViews(),HEAPU32)[viPtr+4>>>2>>>0]),constants:WebGPU.makePipelineConstants((growMemViews(),HEAPU32)[viPtr+16>>>2>>>0],(growMemViews(),HEAPU32)[viPtr+20>>>2>>>0]),buffers:makeVertexBuffers((growMemViews(),HEAPU32)[viPtr+24>>>2>>>0],(growMemViews(),HEAPU32)[viPtr+28>>>2>>>0]),entryPoint:WebGPU.makeStringFromOptionalStringView(viPtr+8)};return desc}function makeMultisampleState(msPtr){if(!msPtr)return undefined;return{count:(growMemViews(),HEAPU32)[msPtr+4>>>2>>>0],mask:(growMemViews(),HEAPU32)[msPtr+8>>>2>>>0],alphaToCoverageEnabled:!!(growMemViews(),HEAPU32)[msPtr+12>>>2>>>0]}}function makeFragmentState(fsPtr){if(!fsPtr)return undefined;var desc={module:WebGPU.getJsObject((growMemViews(),HEAPU32)[fsPtr+4>>>2>>>0]),constants:WebGPU.makePipelineConstants((growMemViews(),HEAPU32)[fsPtr+16>>>2>>>0],(growMemViews(),HEAPU32)[fsPtr+20>>>2>>>0]),targets:makeColorStates((growMemViews(),HEAPU32)[fsPtr+24>>>2>>>0],(growMemViews(),HEAPU32)[fsPtr+28>>>2>>>0]),entryPoint:WebGPU.makeStringFromOptionalStringView(fsPtr+8)};return desc}var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),layout:WebGPU.makePipelineLayout((growMemViews(),HEAPU32)[descriptor+12>>>2>>>0]),vertex:makeVertexState(descriptor+16),primitive:makePrimitiveState(descriptor+48),depthStencil:makeDepthStencilState((growMemViews(),HEAPU32)[descriptor+72>>>2>>>0]),multisample:makeMultisampleState(descriptor+76),fragment:makeFragmentState((growMemViews(),HEAPU32)[descriptor+92>>>2>>>0])};return desc},fillLimitStruct:(limits,limitsOutPtr)=>{function setLimitValueU32(name,limitOffset){var limitValue=limits[name];(growMemViews(),HEAP32)[limitsOutPtr+limitOffset>>>2>>>0]=limitValue}function setLimitValueU64(name,limitOffset){var limitValue=limits[name];(growMemViews(),HEAP64)[limitsOutPtr+limitOffset>>>3>>>0]=BigInt(limitValue)}setLimitValueU32("maxTextureDimension1D",4);setLimitValueU32("maxTextureDimension2D",8);setLimitValueU32("maxTextureDimension3D",12);setLimitValueU32("maxTextureArrayLayers",16);setLimitValueU32("maxBindGroups",20);setLimitValueU32("maxBindGroupsPlusVertexBuffers",24);setLimitValueU32("maxBindingsPerBindGroup",28);setLimitValueU32("maxDynamicUniformBuffersPerPipelineLayout",32);setLimitValueU32("maxDynamicStorageBuffersPerPipelineLayout",36);setLimitValueU32("maxSampledTexturesPerShaderStage",40);setLimitValueU32("maxSamplersPerShaderStage",44);setLimitValueU32("maxStorageBuffersPerShaderStage",48);setLimitValueU32("maxStorageTexturesPerShaderStage",52);setLimitValueU32("maxUniformBuffersPerShaderStage",56);setLimitValueU32("minUniformBufferOffsetAlignment",80);setLimitValueU32("minStorageBufferOffsetAlignment",84);setLimitValueU64("maxUniformBufferBindingSize",64);setLimitValueU64("maxStorageBufferBindingSize",72);setLimitValueU32("maxVertexBuffers",88);setLimitValueU64("maxBufferSize",96);setLimitValueU32("maxVertexAttributes",104);setLimitValueU32("maxVertexBufferArrayStride",108);setLimitValueU32("maxInterStageShaderVariables",112);setLimitValueU32("maxColorAttachments",116);setLimitValueU32("maxColorAttachmentBytesPerSample",120);setLimitValueU32("maxComputeWorkgroupStorageSize",124);setLimitValueU32("maxComputeInvocationsPerWorkgroup",128);setLimitValueU32("maxComputeWorkgroupSizeX",132);setLimitValueU32("maxComputeWorkgroupSizeY",136);setLimitValueU32("maxComputeWorkgroupSizeZ",140);setLimitValueU32("maxComputeWorkgroupsPerDimension",144);if(limits.maxImmediateSize!==undefined){setLimitValueU32("maxImmediateSize",148)}},fillAdapterInfoStruct:(info,infoStruct)=>{(growMemViews(),HEAP32)[infoStruct+52>>>2>>>0]=info.subgroupMinSize;(growMemViews(),HEAP32)[infoStruct+56>>>2>>>0]=info.subgroupMaxSize;var strs=info.vendor+info.architecture+info.device+info.description;var strPtr=stringToNewUTF8(strs);var vendorLen=lengthBytesUTF8(info.vendor);WebGPU.setStringView(infoStruct+4,strPtr,vendorLen);strPtr+=vendorLen;var architectureLen=lengthBytesUTF8(info.architecture);WebGPU.setStringView(infoStruct+12,strPtr,architectureLen);strPtr+=architectureLen;var deviceLen=lengthBytesUTF8(info.device);WebGPU.setStringView(infoStruct+20,strPtr,deviceLen);strPtr+=deviceLen;var descriptionLen=lengthBytesUTF8(info.description);WebGPU.setStringView(infoStruct+28,strPtr,descriptionLen);strPtr+=descriptionLen;(growMemViews(),HEAP32)[infoStruct+36>>>2>>>0]=2;var adapterType=info.isFallbackAdapter?3:4;(growMemViews(),HEAP32)[infoStruct+40>>>2>>>0]=adapterType;(growMemViews(),HEAP32)[infoStruct+44>>>2>>>0]=0;(growMemViews(),HEAP32)[infoStruct+48>>>2>>>0]=0},AddressMode:[,"clamp-to-edge","repeat","mirror-repeat"],BlendFactor:[,"zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant","src1","one-minus-src1","src1alpha","one-minus-src1alpha"],BlendOperation:[,"add","subtract","reverse-subtract","min","max"],BufferBindingType:["binding-not-used",,"uniform","storage","read-only-storage"],BufferMapState:[,"unmapped","pending","mapped"],CompareFunction:[,"never","less","equal","less-equal","greater","not-equal","greater-equal","always"],CompilationInfoRequestStatus:[,"success","callback-cancelled"],CompositeAlphaMode:[,"opaque","premultiplied","unpremultiplied","inherit"],CullMode:[,"none","front","back"],ErrorFilter:[,"validation","out-of-memory","internal"],FeatureLevel:[,"compatibility","core"],FeatureName:{1:"core-features-and-limits",2:"depth-clip-control",3:"depth32float-stencil8",4:"texture-compression-bc",5:"texture-compression-bc-sliced-3d",6:"texture-compression-etc2",7:"texture-compression-astc",8:"texture-compression-astc-sliced-3d",9:"timestamp-query",10:"indirect-first-instance",11:"shader-f16",12:"rg11b10ufloat-renderable",13:"bgra8unorm-storage",14:"float32-filterable",15:"float32-blendable",16:"clip-distances",17:"dual-source-blending",18:"subgroups",19:"texture-formats-tier1",20:"texture-formats-tier2",21:"primitive-index",327692:"chromium-experimental-unorm16-texture-formats",327693:"chromium-experimental-snorm16-texture-formats",327732:"chromium-experimental-multi-draw-indirect"},FilterMode:[,"nearest","linear"],FrontFace:[,"ccw","cw"],IndexFormat:[,"uint16","uint32"],InstanceFeatureName:[,"timed-wait-any","shader-source-spirv","multiple-devices-per-adapter"],LoadOp:[,"load","clear"],MipmapFilterMode:[,"nearest","linear"],OptionalBool:["false","true"],PowerPreference:[,"low-power","high-performance"],PredefinedColorSpace:[,"srgb","display-p3"],PrimitiveTopology:[,"point-list","line-list","line-strip","triangle-list","triangle-strip"],QueryType:[,"occlusion","timestamp"],SamplerBindingType:["binding-not-used",,"filtering","non-filtering","comparison"],Status:[,"success","error"],StencilOperation:[,"keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"],StorageTextureAccess:["binding-not-used",,"write-only","read-only","read-write"],StoreOp:[,"store","discard"],SurfaceGetCurrentTextureStatus:[,"success-optimal","success-suboptimal","timeout","outdated","lost","error"],TextureAspect:[,"all","stencil-only","depth-only"],TextureDimension:[,"1d","2d","3d"],TextureFormat:[,"r8unorm","r8snorm","r8uint","r8sint","r16unorm","r16snorm","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32float","r32uint","r32sint","rg16unorm","rg16snorm","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rgb9e5ufloat","rg32float","rg32uint","rg32sint","rgba16unorm","rgba16snorm","rgba16uint","rgba16sint","rgba16float","rgba32float","rgba32uint","rgba32sint","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"],TextureSampleType:["binding-not-used",,"float","unfilterable-float","depth","sint","uint"],TextureViewDimension:[,"1d","2d","2d-array","cube","cube-array","3d"],ToneMappingMode:[,"standard","extended"],VertexFormat:[,"uint8","uint8x2","uint8x4","sint8","sint8x2","sint8x4","unorm8","unorm8x2","unorm8x4","snorm8","snorm8x2","snorm8x4","uint16","uint16x2","uint16x4","sint16","sint16x2","sint16x4","unorm16","unorm16x2","unorm16x4","snorm16","snorm16x2","snorm16x4","float16","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","unorm10-10-10-2","unorm8x4-bgra"],VertexStepMode:[,"vertex","instance"],WGSLLanguageFeatureName:[,"readonly_and_readwrite_storage_textures","packed_4x8_integer_dot_product","unrestricted_pointer_parameters","pointer_composite_access"]};var emwgpuStringToInt_DeviceLostReason={undefined:1,unknown:1,destroyed:2};var runtimeKeepalivePop=()=>{runtimeKeepaliveCounter-=1};function _emwgpuAdapterRequestDevice(adapterPtr,futureId,deviceLostFutureId,devicePtr,queuePtr,descriptor){adapterPtr>>>=0;futureId=bigintToI53Checked(futureId);deviceLostFutureId=bigintToI53Checked(deviceLostFutureId);devicePtr>>>=0;queuePtr>>>=0;descriptor>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);var desc={};if(descriptor){var requiredFeatureCount=(growMemViews(),HEAPU32)[descriptor+12>>>2>>>0];if(requiredFeatureCount){var requiredFeaturesPtr=(growMemViews(),HEAPU32)[descriptor+16>>>2>>>0];desc["requiredFeatures"]=Array.from((growMemViews(),HEAPU32).subarray(requiredFeaturesPtr>>>2>>>0,requiredFeaturesPtr+requiredFeatureCount*4>>>2>>>0),feature=>WebGPU.FeatureName[feature])}var limitsPtr=(growMemViews(),HEAPU32)[descriptor+20>>>2>>>0];if(limitsPtr){var requiredLimits={};function setLimitU32IfDefined(name,limitOffset,ignoreIfZero=false){var ptr=limitsPtr+limitOffset;var value=(growMemViews(),HEAPU32)[ptr>>>2>>>0];if(value!=4294967295&&(!ignoreIfZero||value!=0)){requiredLimits[name]=value}}function setLimitU64IfDefined(name,limitOffset){var ptr=limitsPtr+limitOffset;var limitPart1=(growMemViews(),HEAPU32)[ptr>>>2>>>0];var limitPart2=(growMemViews(),HEAPU32)[ptr+4>>>2>>>0];if(limitPart1!=4294967295||limitPart2!=4294967295){requiredLimits[name]=(growMemViews(),HEAPU32)[ptr+4>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[ptr>>>2>>>0]}}setLimitU32IfDefined("maxTextureDimension1D",4);setLimitU32IfDefined("maxTextureDimension2D",8);setLimitU32IfDefined("maxTextureDimension3D",12);setLimitU32IfDefined("maxTextureArrayLayers",16);setLimitU32IfDefined("maxBindGroups",20);setLimitU32IfDefined("maxBindGroupsPlusVertexBuffers",24);setLimitU32IfDefined("maxDynamicUniformBuffersPerPipelineLayout",32);setLimitU32IfDefined("maxDynamicStorageBuffersPerPipelineLayout",36);setLimitU32IfDefined("maxSampledTexturesPerShaderStage",40);setLimitU32IfDefined("maxSamplersPerShaderStage",44);setLimitU32IfDefined("maxStorageBuffersPerShaderStage",48);setLimitU32IfDefined("maxStorageTexturesPerShaderStage",52);setLimitU32IfDefined("maxUniformBuffersPerShaderStage",56);setLimitU32IfDefined("minUniformBufferOffsetAlignment",80);setLimitU32IfDefined("minStorageBufferOffsetAlignment",84);setLimitU64IfDefined("maxUniformBufferBindingSize",64);setLimitU64IfDefined("maxStorageBufferBindingSize",72);setLimitU32IfDefined("maxVertexBuffers",88);setLimitU64IfDefined("maxBufferSize",96);setLimitU32IfDefined("maxVertexAttributes",104);setLimitU32IfDefined("maxVertexBufferArrayStride",108);setLimitU32IfDefined("maxInterStageShaderVariables",112);setLimitU32IfDefined("maxColorAttachments",116);setLimitU32IfDefined("maxColorAttachmentBytesPerSample",120);setLimitU32IfDefined("maxComputeWorkgroupStorageSize",124);setLimitU32IfDefined("maxComputeInvocationsPerWorkgroup",128);setLimitU32IfDefined("maxComputeWorkgroupSizeX",132);setLimitU32IfDefined("maxComputeWorkgroupSizeY",136);setLimitU32IfDefined("maxComputeWorkgroupSizeZ",140);setLimitU32IfDefined("maxComputeWorkgroupsPerDimension",144);setLimitU32IfDefined("maxImmediateSize",148,true);desc["requiredLimits"]=requiredLimits}var defaultQueuePtr=(growMemViews(),HEAPU32)[descriptor+24>>>2>>>0];if(defaultQueuePtr){var defaultQueueDesc={label:WebGPU.makeStringFromOptionalStringView(defaultQueuePtr+4)};desc["defaultQueue"]=defaultQueueDesc}desc["label"]=WebGPU.makeStringFromOptionalStringView(descriptor+4)}runtimeKeepalivePush();WebGPU.Internals.futureInsert(futureId,adapter.requestDevice(desc).then(device=>{runtimeKeepalivePop();callUserCallback(()=>{WebGPU.Internals.jsObjectInsert(queuePtr,device.queue);WebGPU.Internals.jsObjectInsert(devicePtr,device);WebGPU.Internals.futureInsert(deviceLostFutureId,device.lost.then(info=>{callUserCallback(()=>{device.onuncapturederror=ev=>{};var sp=stackSave();var messagePtr=stringToUTF8OnStack(info.message);_emwgpuOnDeviceLostCompleted(deviceLostFutureId,emwgpuStringToInt_DeviceLostReason[info.reason],messagePtr);stackRestore(sp)})}));device.onuncapturederror=ev=>{var type=5;if(ev.error instanceof GPUValidationError)type=2;else if(ev.error instanceof GPUOutOfMemoryError)type=3;else if(ev.error instanceof GPUInternalError)type=4;var sp=stackSave();var messagePtr=stringToUTF8OnStack(ev.error.message);_emwgpuOnUncapturedError(devicePtr,type,messagePtr);stackRestore(sp)};_emwgpuOnRequestDeviceCompleted(futureId,1,devicePtr,0)})},ex=>{runtimeKeepalivePop();callUserCallback(()=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(ex.message);_emwgpuOnRequestDeviceCompleted(futureId,3,devicePtr,messagePtr);if(deviceLostFutureId){_emwgpuOnDeviceLostCompleted(deviceLostFutureId,4,messagePtr)}stackRestore(sp)})}))}function _emwgpuBufferDestroy(bufferPtr){bufferPtr>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);var onUnmap=WebGPU.Internals.bufferOnUnmaps[bufferPtr];if(onUnmap){for(var i=0;i<onUnmap.length;++i){onUnmap[i]()}delete WebGPU.Internals.bufferOnUnmaps[bufferPtr]}buffer.destroy()}var warnOnce=text=>{warnOnce.shown||={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;if(ENVIRONMENT_IS_NODE)text="warning: "+text;err(text)}};function _emwgpuBufferGetConstMappedRange(bufferPtr,offset,size){bufferPtr>>>=0;offset>>>=0;size>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);if(size===0)warnOnce("getMappedRange size=0 no longer means WGPU_WHOLE_MAP_SIZE");if(size==4294967295)size=undefined;var mapped;try{mapped=buffer.getMappedRange(offset,size)}catch(ex){return 0}var data=_memalign(16,mapped.byteLength);(growMemViews(),HEAPU8).set(new Uint8Array(mapped),data>>>0);WebGPU.Internals.bufferOnUnmaps[bufferPtr].push(()=>_free(data));return data}function _emwgpuBufferGetMappedRange(bufferPtr,offset,size){bufferPtr>>>=0;offset>>>=0;size>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);if(size===0)warnOnce("getMappedRange size=0 no longer means WGPU_WHOLE_MAP_SIZE");if(size==4294967295)size=undefined;var mapped;try{mapped=buffer.getMappedRange(offset,size)}catch(ex){return 0}var data=_memalign(16,mapped.byteLength);(growMemViews(),HEAPU8).fill(0,data,mapped.byteLength);WebGPU.Internals.bufferOnUnmaps[bufferPtr].push(()=>{new Uint8Array(mapped).set((growMemViews(),HEAPU8).subarray(data>>>0,data+mapped.byteLength>>>0));_free(data)});return data}var _emwgpuBufferMapAsync=function(bufferPtr,futureId,mode,offset,size){bufferPtr>>>=0;futureId=bigintToI53Checked(futureId);mode=bigintToI53Checked(mode);offset>>>=0;size>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);WebGPU.Internals.bufferOnUnmaps[bufferPtr]=[];if(size==4294967295)size=undefined;runtimeKeepalivePush();WebGPU.Internals.futureInsert(futureId,buffer.mapAsync(mode,offset,size).then(()=>{runtimeKeepalivePop();callUserCallback(()=>{_emwgpuOnMapAsyncCompleted(futureId,1,0)})},ex=>{runtimeKeepalivePop();callUserCallback(()=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(ex.message);var status=ex.name==="AbortError"?4:ex.name==="OperationError"?3:0;_emwgpuOnMapAsyncCompleted(futureId,status,messagePtr);delete WebGPU.Internals.bufferOnUnmaps[bufferPtr]})}))};function _emwgpuBufferUnmap(bufferPtr){bufferPtr>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);var onUnmap=WebGPU.Internals.bufferOnUnmaps[bufferPtr];if(!onUnmap){return}for(var i=0;i<onUnmap.length;++i){onUnmap[i]()}delete WebGPU.Internals.bufferOnUnmaps[bufferPtr];buffer.unmap()}function _emwgpuDelete(ptr){ptr>>>=0;delete WebGPU.Internals.jsObjects[ptr]}function _emwgpuDeviceCreateBuffer(devicePtr,descriptor,bufferPtr){devicePtr>>>=0;descriptor>>>=0;bufferPtr>>>=0;var mappedAtCreation=!!(growMemViews(),HEAPU32)[descriptor+32>>>2>>>0];var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),usage:(growMemViews(),HEAPU32)[descriptor+16>>>2>>>0],size:(growMemViews(),HEAPU32)[descriptor+4+24>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[descriptor+24>>>2>>>0],mappedAtCreation};var device=WebGPU.getJsObject(devicePtr);var buffer;try{buffer=device.createBuffer(desc)}catch(ex){return false}WebGPU.Internals.jsObjectInsert(bufferPtr,buffer);if(mappedAtCreation){WebGPU.Internals.bufferOnUnmaps[bufferPtr]=[]}return true}function _emwgpuDeviceCreateShaderModule(devicePtr,descriptor,shaderModulePtr){devicePtr>>>=0;descriptor>>>=0;shaderModulePtr>>>=0;var nextInChainPtr=(growMemViews(),HEAPU32)[descriptor>>>2>>>0];var sType=(growMemViews(),HEAPU32)[nextInChainPtr+4>>>2>>>0];var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),code:""};switch(sType){case 2:{desc["code"]=WebGPU.makeStringFromStringView(nextInChainPtr+8);break}}var device=WebGPU.getJsObject(devicePtr);WebGPU.Internals.jsObjectInsert(shaderModulePtr,device.createShaderModule(desc))}var _emwgpuDeviceDestroy=devicePtr=>{const device=WebGPU.getJsObject(devicePtr);device.onuncapturederror=null;device.destroy()};function _emwgpuInstanceRequestAdapter(instancePtr,futureId,options,adapterPtr){instancePtr>>>=0;futureId=bigintToI53Checked(futureId);options>>>=0;adapterPtr>>>=0;var opts;if(options){var featureLevel=(growMemViews(),HEAPU32)[options+4>>>2>>>0];opts={featureLevel:WebGPU.FeatureLevel[featureLevel],powerPreference:WebGPU.PowerPreference[(growMemViews(),HEAPU32)[options+8>>>2>>>0]],forceFallbackAdapter:!!(growMemViews(),HEAPU32)[options+12>>>2>>>0]};var nextInChainPtr=(growMemViews(),HEAPU32)[options>>>2>>>0];if(nextInChainPtr!==0){var sType=(growMemViews(),HEAPU32)[nextInChainPtr+4>>>2>>>0];var webxrOptions=nextInChainPtr;opts.xrCompatible=!!(growMemViews(),HEAPU32)[webxrOptions+8>>>2>>>0]}}if(!("gpu"in navigator)){var sp=stackSave();var messagePtr=stringToUTF8OnStack("WebGPU not available on this browser (navigator.gpu is not available)");_emwgpuOnRequestAdapterCompleted(futureId,3,adapterPtr,messagePtr);stackRestore(sp);return}runtimeKeepalivePush();WebGPU.Internals.futureInsert(futureId,navigator.gpu.requestAdapter(opts).then(adapter=>{runtimeKeepalivePop();callUserCallback(()=>{if(adapter){WebGPU.Internals.jsObjectInsert(adapterPtr,adapter);_emwgpuOnRequestAdapterCompleted(futureId,1,adapterPtr,0)}else{var sp=stackSave();var messagePtr=stringToUTF8OnStack("WebGPU not available on this browser (requestAdapter returned null)");_emwgpuOnRequestAdapterCompleted(futureId,3,adapterPtr,messagePtr);stackRestore(sp)}})},ex=>{runtimeKeepalivePop();callUserCallback(()=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(ex.message);_emwgpuOnRequestAdapterCompleted(futureId,4,adapterPtr,messagePtr);stackRestore(sp)})}))}var _emwgpuQueueOnSubmittedWorkDone=function(queuePtr,futureId){queuePtr>>>=0;futureId=bigintToI53Checked(futureId);var queue=WebGPU.getJsObject(queuePtr);runtimeKeepalivePush();WebGPU.Internals.futureInsert(futureId,queue.onSubmittedWorkDone().then(()=>{runtimeKeepalivePop();callUserCallback(()=>{_emwgpuOnWorkDoneCompleted(futureId,1)})}))};var _emwgpuWaitAny=function(futurePtr,futureCount,timeoutMSPtr){futurePtr>>>=0;futureCount>>>=0;timeoutMSPtr>>>=0;return Asyncify.handleAsync(async()=>{var promises=[];if(timeoutMSPtr){var timeoutMS=(growMemViews(),HEAP32)[timeoutMSPtr>>>2>>>0];promises.length=futureCount+1;promises[futureCount]=new Promise(resolve=>setTimeout(resolve,timeoutMS,0))}else{promises.length=futureCount}for(var i=0;i<futureCount;++i){var futureId=(growMemViews(),HEAPU32)[futurePtr+i*8+4>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[futurePtr+i*8>>>2>>>0];if(!(futureId in WebGPU.Internals.futures)){return futureId}promises[i]=WebGPU.Internals.futures[futureId]}const firstResolvedFuture=await Promise.race(promises);delete WebGPU.Internals.futures[firstResolvedFuture];return firstResolvedFuture})};_emwgpuWaitAny.isAsync=true;var ENV={};var getExecutableName=()=>thisProgram||"./this.program";var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8";var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:lang,_:getExecutableName()};for(var x in ENV){if(ENV[x]===undefined)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};function _environ_get(__environ,environ_buf){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(9,0,1,__environ,environ_buf);__environ>>>=0;environ_buf>>>=0;var bufSize=0;var envp=0;for(var string of getEnvStrings()){var ptr=environ_buf+bufSize;(growMemViews(),HEAPU32)[__environ+envp>>>2>>>0]=ptr;bufSize+=stringToUTF8(string,ptr,Infinity)+1;envp+=4}return 0}function _environ_sizes_get(penviron_count,penviron_buf_size){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(10,0,1,penviron_count,penviron_buf_size);penviron_count>>>=0;penviron_buf_size>>>=0;var strings=getEnvStrings();(growMemViews(),HEAPU32)[penviron_count>>>2>>>0]=strings.length;var bufSize=0;for(var string of strings){bufSize+=lengthBytesUTF8(string)+1}(growMemViews(),HEAPU32)[penviron_buf_size>>>2>>>0]=bufSize;return 0}function _fd_close(fd){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(11,0,1,fd);try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var doReadv=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=(growMemViews(),HEAPU32)[iov>>>2>>>0];var len=(growMemViews(),HEAPU32)[iov+4>>>2>>>0];iov+=8;var curr=FS.read(stream,(growMemViews(),HEAP8),ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break;if(typeof offset!="undefined"){offset+=curr}}return ret};function _fd_read(fd,iov,iovcnt,pnum){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(12,0,1,fd,iov,iovcnt,pnum);iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doReadv(stream,iov,iovcnt);(growMemViews(),HEAPU32)[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}function _fd_seek(fd,offset,whence,newOffset){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(13,0,1,fd,offset,whence,newOffset);offset=bigintToI53Checked(offset);newOffset>>>=0;try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);FS.llseek(stream,offset,whence);(growMemViews(),HEAP64)[newOffset>>>3>>>0]=BigInt(stream.position);if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var doWritev=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=(growMemViews(),HEAPU32)[iov>>>2>>>0];var len=(growMemViews(),HEAPU32)[iov+4>>>2>>>0];iov+=8;var curr=FS.write(stream,(growMemViews(),HEAP8),ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len){break}if(typeof offset!="undefined"){offset+=curr}}return ret};function _fd_write(fd,iov,iovcnt,pnum){if(ENVIRONMENT_IS_PTHREAD)return proxyToMainThread(14,0,1,fd,iov,iovcnt,pnum);iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doWritev(stream,iov,iovcnt);(growMemViews(),HEAPU32)[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}function _random_get(buffer,size){buffer>>>=0;size>>>=0;try{randomFill((growMemViews(),HEAPU8).subarray(buffer>>>0,buffer+size>>>0));return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var emwgpuStringToInt_FeatureName={"core-features-and-limits":1,"depth-clip-control":2,"depth32float-stencil8":3,"texture-compression-bc":4,"texture-compression-bc-sliced-3d":5,"texture-compression-etc2":6,"texture-compression-astc":7,"texture-compression-astc-sliced-3d":8,"timestamp-query":9,"indirect-first-instance":10,"shader-f16":11,"rg11b10ufloat-renderable":12,"bgra8unorm-storage":13,"float32-filterable":14,"float32-blendable":15,"clip-distances":16,"dual-source-blending":17,subgroups:18,"texture-formats-tier1":19,"texture-formats-tier2":20,"primitive-index":21,"chromium-experimental-unorm16-texture-formats":327692,"chromium-experimental-snorm16-texture-formats":327693,"chromium-experimental-multi-draw-indirect":327732};function _wgpuAdapterGetFeatures(adapterPtr,supportedFeatures){adapterPtr>>>=0;supportedFeatures>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);var featuresPtr=_malloc(adapter.features.size*4);var offset=0;var numFeatures=0;for(const feature of adapter.features){var featureEnumValue=emwgpuStringToInt_FeatureName[feature];if(featureEnumValue>=0){(growMemViews(),HEAP32)[featuresPtr+offset>>>2>>>0]=featureEnumValue;offset+=4;numFeatures++}}(growMemViews(),HEAPU32)[supportedFeatures+4>>>2>>>0]=featuresPtr;(growMemViews(),HEAPU32)[supportedFeatures>>>2>>>0]=numFeatures}function _wgpuAdapterGetInfo(adapterPtr,info){adapterPtr>>>=0;info>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);WebGPU.fillAdapterInfoStruct(adapter.info,info);return 1}function _wgpuAdapterGetLimits(adapterPtr,limitsOutPtr){adapterPtr>>>=0;limitsOutPtr>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);WebGPU.fillLimitStruct(adapter.limits,limitsOutPtr);return 1}function _wgpuAdapterHasFeature(adapterPtr,featureEnumValue){adapterPtr>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);return adapter.features.has(WebGPU.FeatureName[featureEnumValue])}var _wgpuBufferGetSize=function(bufferPtr){bufferPtr>>>=0;var ret=(()=>{var buffer=WebGPU.getJsObject(bufferPtr);return buffer.size})();return BigInt(ret)};function _wgpuCommandEncoderBeginComputePass(encoderPtr,descriptor){encoderPtr>>>=0;descriptor>>>=0;var desc;if(descriptor){desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),timestampWrites:WebGPU.makePassTimestampWrites((growMemViews(),HEAPU32)[descriptor+12>>>2>>>0])}}var commandEncoder=WebGPU.getJsObject(encoderPtr);var ptr=_emwgpuCreateComputePassEncoder(0);WebGPU.Internals.jsObjectInsert(ptr,commandEncoder.beginComputePass(desc));return ptr}function _wgpuCommandEncoderCopyBufferToBuffer(encoderPtr,srcPtr,srcOffset,dstPtr,dstOffset,size){encoderPtr>>>=0;srcPtr>>>=0;srcOffset=bigintToI53Checked(srcOffset);dstPtr>>>=0;dstOffset=bigintToI53Checked(dstOffset);size=bigintToI53Checked(size);var commandEncoder=WebGPU.getJsObject(encoderPtr);var src=WebGPU.getJsObject(srcPtr);var dst=WebGPU.getJsObject(dstPtr);commandEncoder.copyBufferToBuffer(src,srcOffset,dst,dstOffset,size)}function _wgpuCommandEncoderFinish(encoderPtr,descriptor){encoderPtr>>>=0;descriptor>>>=0;var commandEncoder=WebGPU.getJsObject(encoderPtr);var ptr=_emwgpuCreateCommandBuffer(0);WebGPU.Internals.jsObjectInsert(ptr,commandEncoder.finish());return ptr}function _wgpuComputePassEncoderDispatchWorkgroups(passPtr,x,y,z){passPtr>>>=0;var pass=WebGPU.getJsObject(passPtr);pass.dispatchWorkgroups(x,y,z)}function _wgpuComputePassEncoderEnd(passPtr){passPtr>>>=0;var pass=WebGPU.getJsObject(passPtr);pass.end()}function _wgpuComputePassEncoderSetBindGroup(passPtr,groupIndex,groupPtr,dynamicOffsetCount,dynamicOffsetsPtr){passPtr>>>=0;groupPtr>>>=0;dynamicOffsetCount>>>=0;dynamicOffsetsPtr>>>=0;var pass=WebGPU.getJsObject(passPtr);var group=WebGPU.getJsObject(groupPtr);if(dynamicOffsetCount==0){pass.setBindGroup(groupIndex,group)}else{pass.setBindGroup(groupIndex,group,(growMemViews(),HEAPU32),dynamicOffsetsPtr>>>2,dynamicOffsetCount)}}function _wgpuComputePassEncoderSetPipeline(passPtr,pipelinePtr){passPtr>>>=0;pipelinePtr>>>=0;var pass=WebGPU.getJsObject(passPtr);var pipeline=WebGPU.getJsObject(pipelinePtr);pass.setPipeline(pipeline)}function _wgpuComputePipelineGetBindGroupLayout(pipelinePtr,groupIndex){pipelinePtr>>>=0;var pipeline=WebGPU.getJsObject(pipelinePtr);var ptr=_emwgpuCreateBindGroupLayout(0);WebGPU.Internals.jsObjectInsert(ptr,pipeline.getBindGroupLayout(groupIndex));return ptr}var readI53FromI64=ptr=>(growMemViews(),HEAPU32)[ptr>>>2>>>0]+(growMemViews(),HEAP32)[ptr+4>>>2>>>0]*4294967296;function _wgpuDeviceCreateBindGroup(devicePtr,descriptor){devicePtr>>>=0;descriptor>>>=0;function makeEntry(entryPtr){var bufferPtr=(growMemViews(),HEAPU32)[entryPtr+8>>>2>>>0];var samplerPtr=(growMemViews(),HEAPU32)[entryPtr+32>>>2>>>0];var textureViewPtr=(growMemViews(),HEAPU32)[entryPtr+36>>>2>>>0];var binding=(growMemViews(),HEAPU32)[entryPtr+4>>>2>>>0];if(bufferPtr){var size=readI53FromI64(entryPtr+24);if(size==-1)size=undefined;return{binding,resource:{buffer:WebGPU.getJsObject(bufferPtr),offset:(growMemViews(),HEAPU32)[entryPtr+4+16>>>2>>>0]*4294967296+(growMemViews(),HEAPU32)[entryPtr+16>>>2>>>0],size}}}else if(samplerPtr){return{binding,resource:WebGPU.getJsObject(samplerPtr)}}else{return{binding,resource:WebGPU.getJsObject(textureViewPtr)}}}function makeEntries(count,entriesPtrs){var entries=[];for(var i=0;i<count;++i){entries.push(makeEntry(entriesPtrs+40*i))}return entries}var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),layout:WebGPU.getJsObject((growMemViews(),HEAPU32)[descriptor+12>>>2>>>0]),entries:makeEntries((growMemViews(),HEAPU32)[descriptor+16>>>2>>>0],(growMemViews(),HEAPU32)[descriptor+20>>>2>>>0])};var device=WebGPU.getJsObject(devicePtr);var ptr=_emwgpuCreateBindGroup(0);WebGPU.Internals.jsObjectInsert(ptr,device.createBindGroup(desc));return ptr}function _wgpuDeviceCreateCommandEncoder(devicePtr,descriptor){devicePtr>>>=0;descriptor>>>=0;var desc;if(descriptor){desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4)}}var device=WebGPU.getJsObject(devicePtr);var ptr=_emwgpuCreateCommandEncoder(0);WebGPU.Internals.jsObjectInsert(ptr,device.createCommandEncoder(desc));return ptr}function _wgpuDeviceCreateComputePipeline(devicePtr,descriptor){devicePtr>>>=0;descriptor>>>=0;var desc=WebGPU.makeComputePipelineDesc(descriptor);var device=WebGPU.getJsObject(devicePtr);var ptr=_emwgpuCreateComputePipeline(0);WebGPU.Internals.jsObjectInsert(ptr,device.createComputePipeline(desc));return ptr}var _wgpuQueueSubmit=function(queuePtr,commandCount,commands){queuePtr>>>=0;commandCount>>>=0;commands>>>=0;var queue=WebGPU.getJsObject(queuePtr);var cmds=Array.from((growMemViews(),HEAP32).subarray(commands>>>2>>>0,commands+commandCount*4>>>2>>>0),id=>WebGPU.getJsObject(id));queue.submit(cmds)};function _wgpuQueueWriteBuffer(queuePtr,bufferPtr,bufferOffset,data,size){queuePtr>>>=0;bufferPtr>>>=0;bufferOffset=bigintToI53Checked(bufferOffset);data>>>=0;size>>>=0;var queue=WebGPU.getJsObject(queuePtr);var buffer=WebGPU.getJsObject(bufferPtr);var subarray=(growMemViews(),HEAPU8).subarray(data>>>0,data+size>>>0);queue.writeBuffer(buffer,bufferOffset,subarray,0,size)}var runAndAbortIfError=func=>{try{return func()}catch(e){abort(e)}};var Asyncify={instrumentWasmImports(imports){var importPattern=/^(invoke_.*|__asyncjs__.*)$/;for(let[x,original]of Object.entries(imports)){if(typeof original=="function"){let isAsyncifyImport=original.isAsync||importPattern.test(x);if(isAsyncifyImport){imports[x]=original=new WebAssembly.Suspending(original)}}}},instrumentFunction(original){var wrapper=(...args)=>original(...args);return wrapper},instrumentWasmExports(exports){var exportPattern=/^(wllama_start|wllama_action|main|__main_argc_argv)$/;Asyncify.asyncExports=new Set;var ret={};for(let[x,original]of Object.entries(exports)){if(typeof original=="function"){let isAsyncifyExport=exportPattern.test(x);if(isAsyncifyExport){Asyncify.asyncExports.add(original);original=Asyncify.makeAsyncFunction(original)}var wrapper=Asyncify.instrumentFunction(original);ret[x]=wrapper}else{ret[x]=original}}return ret},asyncExports:null,isAsyncExport(func){return Asyncify.asyncExports?.has(func)},handleAsync:async startAsync=>{runtimeKeepalivePush();try{return await startAsync()}finally{runtimeKeepalivePop()}},handleSleep:startAsync=>Asyncify.handleAsync(()=>new Promise(startAsync)),makeAsyncFunction(original){return WebAssembly.promising(original)}};var getCFunc=ident=>{var func=Module["_"+ident];return func};var writeArrayToMemory=(array,buffer)=>{(growMemViews(),HEAP8).set(array,buffer>>>0)};var ccall=(ident,returnType,argTypes,args,opts)=>{var toC={string:str=>{var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=stringToUTF8OnStack(str)}return ret},array:arr=>{var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string"){return UTF8ToString(ret)}if(returnType==="pointer")return ret>>>0;if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func(...cArgs);function onDone(ret){if(stack!==0)stackRestore(stack);return convertReturnValue(ret)}var asyncMode=opts?.async;if(asyncMode)return ret.then(onDone);ret=onDone(ret);return ret};var cwrap=(ident,returnType,argTypes,opts)=>{var numericArgs=!argTypes||argTypes.every(type=>type==="number"||type==="boolean");var numericRet=returnType!=="string";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return(...args)=>ccall(ident,returnType,argTypes,args,opts)};var FS_createPath=(...args)=>FS.createPath(...args);var FS_unlink=(...args)=>FS.unlink(...args);var FS_createLazyFile=(...args)=>FS.createLazyFile(...args);var FS_createDevice=(...args)=>FS.createDevice(...args);PThread.init();FS.createPreloadedFile=FS_createPreloadedFile;FS.preloadFile=FS_preloadFile;FS.staticInit();{initMemory();if(Module["noExitRuntime"])noExitRuntime=Module["noExitRuntime"];if(Module["preloadPlugins"])preloadPlugins=Module["preloadPlugins"];if(Module["print"])out=Module["print"];if(Module["printErr"])err=Module["printErr"];if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].shift()()}}}Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;Module["ccall"]=ccall;Module["cwrap"]=cwrap;Module["FS_preloadFile"]=FS_preloadFile;Module["FS_unlink"]=FS_unlink;Module["FS_createPath"]=FS_createPath;Module["FS_createDevice"]=FS_createDevice;Module["FS_createDataFile"]=FS_createDataFile;Module["FS_createLazyFile"]=FS_createLazyFile;Module["ExitStatus"]=ExitStatus;Module["PThread"]=PThread;Module["terminateWorker"]=terminateWorker;Module["cleanupThread"]=cleanupThread;Module["addOnPreRun"]=addOnPreRun;Module["onPreRuns"]=onPreRuns;Module["callRuntimeCallbacks"]=callRuntimeCallbacks;Module["addRunDependency"]=addRunDependency;Module["runDependencies"]=runDependencies;Module["removeRunDependency"]=removeRunDependency;Module["dependenciesFulfilled"]=dependenciesFulfilled;Module["spawnThread"]=spawnThread;Module["_exit"]=_exit;Module["exitJS"]=exitJS;Module["_proc_exit"]=_proc_exit;Module["keepRuntimeAlive"]=keepRuntimeAlive;Module["runtimeKeepaliveCounter"]=runtimeKeepaliveCounter;Module["proxyToMainThread"]=proxyToMainThread;Module["stackSave"]=stackSave;Module["stackRestore"]=stackRestore;Module["stackAlloc"]=stackAlloc;Module["exitOnMainThread"]=exitOnMainThread;Module["addOnPostRun"]=addOnPostRun;Module["onPostRuns"]=onPostRuns;Module["establishStackSpace"]=establishStackSpace;Module["getValue"]=getValue;Module["invokeEntryPoint"]=invokeEntryPoint;Module["getWasmTableEntry"]=getWasmTableEntry;Module["wasmTableMirror"]=wasmTableMirror;Module["noExitRuntime"]=noExitRuntime;Module["registerTLSInit"]=registerTLSInit;Module["setValue"]=setValue;Module["wasmMemory"]=wasmMemory;Module["___assert_fail"]=___assert_fail;Module["bigintToI53Checked"]=bigintToI53Checked;Module["INT53_MAX"]=INT53_MAX;Module["INT53_MIN"]=INT53_MIN;Module["UTF8ToString"]=UTF8ToString;Module["UTF8ArrayToString"]=UTF8ArrayToString;Module["UTF8Decoder"]=UTF8Decoder;Module["findStringEnd"]=findStringEnd;Module["___pthread_create_js"]=___pthread_create_js;Module["pthreadCreateProxied"]=pthreadCreateProxied;Module["_emscripten_has_threading_support"]=_emscripten_has_threading_support;Module["___syscall_fcntl64"]=___syscall_fcntl64;Module["syscallGetVarargP"]=syscallGetVarargP;Module["syscallGetVarargI"]=syscallGetVarargI;Module["SYSCALLS"]=SYSCALLS;Module["PATH"]=PATH;Module["FS"]=FS;Module["randomFill"]=randomFill;Module["initRandomFill"]=initRandomFill;Module["PATH_FS"]=PATH_FS;Module["TTY"]=TTY;Module["FS_stdin_getChar"]=FS_stdin_getChar;Module["FS_stdin_getChar_buffer"]=FS_stdin_getChar_buffer;Module["intArrayFromString"]=intArrayFromString;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["stringToUTF8Array"]=stringToUTF8Array;Module["MEMFS"]=MEMFS;Module["mmapAlloc"]=mmapAlloc;Module["zeroMemory"]=zeroMemory;Module["alignMemory"]=alignMemory;Module["FS_modeStringToFlags"]=FS_modeStringToFlags;Module["FS_getMode"]=FS_getMode;Module["FS_createPreloadedFile"]=FS_createPreloadedFile;Module["FS_preloadFile"]=FS_preloadFile;Module["asyncLoad"]=asyncLoad;Module["FS_createDataFile"]=FS_createDataFile;Module["getUniqueRunDependency"]=getUniqueRunDependency;Module["FS_handledByPreloadPlugin"]=FS_handledByPreloadPlugin;Module["preloadPlugins"]=preloadPlugins;Module["___syscall_ioctl"]=___syscall_ioctl;Module["___syscall_openat"]=___syscall_openat;Module["__abort_js"]=__abort_js;Module["__emscripten_init_main_thread_js"]=__emscripten_init_main_thread_js;Module["__emscripten_notify_mailbox_postmessage"]=__emscripten_notify_mailbox_postmessage;Module["checkMailbox"]=checkMailbox;Module["callUserCallback"]=callUserCallback;Module["handleException"]=handleException;Module["maybeExit"]=maybeExit;Module["__emscripten_thread_mailbox_await"]=__emscripten_thread_mailbox_await;Module["__emscripten_receive_on_main_thread_js"]=__emscripten_receive_on_main_thread_js;Module["proxiedJSCallArgs"]=proxiedJSCallArgs;Module["__emscripten_runtime_keepalive_clear"]=__emscripten_runtime_keepalive_clear;Module["__emscripten_thread_cleanup"]=__emscripten_thread_cleanup;Module["__emscripten_thread_set_strongref"]=__emscripten_thread_set_strongref;Module["__mmap_js"]=__mmap_js;Module["__munmap_js"]=__munmap_js;Module["__setitimer_js"]=__setitimer_js;Module["timers"]=timers;Module["_emscripten_get_now"]=_emscripten_get_now;Module["__tzset_js"]=__tzset_js;Module["stringToUTF8"]=stringToUTF8;Module["_clock_time_get"]=_clock_time_get;Module["_emscripten_date_now"]=_emscripten_date_now;Module["nowIsMonotonic"]=nowIsMonotonic;Module["checkWasiClock"]=checkWasiClock;Module["_emscripten_check_blocking_allowed"]=_emscripten_check_blocking_allowed;Module["_emscripten_exit_with_live_runtime"]=_emscripten_exit_with_live_runtime;Module["runtimeKeepalivePush"]=runtimeKeepalivePush;Module["_emscripten_get_heap_max"]=_emscripten_get_heap_max;Module["getHeapMax"]=getHeapMax;Module["_emscripten_has_asyncify"]=_emscripten_has_asyncify;Module["_emscripten_num_logical_cores"]=_emscripten_num_logical_cores;Module["_emscripten_resize_heap"]=_emscripten_resize_heap;Module["growMemory"]=growMemory;Module["_emwgpuAdapterRequestDevice"]=_emwgpuAdapterRequestDevice;Module["emwgpuStringToInt_DeviceLostReason"]=emwgpuStringToInt_DeviceLostReason;Module["WebGPU"]=WebGPU;Module["stringToUTF8OnStack"]=stringToUTF8OnStack;Module["stringToNewUTF8"]=stringToNewUTF8;Module["runtimeKeepalivePop"]=runtimeKeepalivePop;Module["_emwgpuBufferDestroy"]=_emwgpuBufferDestroy;Module["_emwgpuBufferGetConstMappedRange"]=_emwgpuBufferGetConstMappedRange;Module["warnOnce"]=warnOnce;Module["_emwgpuBufferGetMappedRange"]=_emwgpuBufferGetMappedRange;Module["_emwgpuBufferMapAsync"]=_emwgpuBufferMapAsync;Module["_emwgpuBufferUnmap"]=_emwgpuBufferUnmap;Module["_emwgpuDelete"]=_emwgpuDelete;Module["_emwgpuDeviceCreateBuffer"]=_emwgpuDeviceCreateBuffer;Module["_emwgpuDeviceCreateShaderModule"]=_emwgpuDeviceCreateShaderModule;Module["_emwgpuDeviceDestroy"]=_emwgpuDeviceDestroy;Module["_emwgpuInstanceRequestAdapter"]=_emwgpuInstanceRequestAdapter;Module["_emwgpuQueueOnSubmittedWorkDone"]=_emwgpuQueueOnSubmittedWorkDone;Module["_emwgpuWaitAny"]=_emwgpuWaitAny;Module["_environ_get"]=_environ_get;Module["getEnvStrings"]=getEnvStrings;Module["ENV"]=ENV;Module["getExecutableName"]=getExecutableName;Module["_environ_sizes_get"]=_environ_sizes_get;Module["_fd_close"]=_fd_close;Module["_fd_read"]=_fd_read;Module["doReadv"]=doReadv;Module["_fd_seek"]=_fd_seek;Module["_fd_write"]=_fd_write;Module["doWritev"]=doWritev;Module["_random_get"]=_random_get;Module["_wgpuAdapterGetFeatures"]=_wgpuAdapterGetFeatures;Module["emwgpuStringToInt_FeatureName"]=emwgpuStringToInt_FeatureName;Module["_wgpuAdapterGetInfo"]=_wgpuAdapterGetInfo;Module["_wgpuAdapterGetLimits"]=_wgpuAdapterGetLimits;Module["_wgpuAdapterHasFeature"]=_wgpuAdapterHasFeature;Module["_wgpuBufferGetSize"]=_wgpuBufferGetSize;Module["_wgpuCommandEncoderBeginComputePass"]=_wgpuCommandEncoderBeginComputePass;Module["_wgpuCommandEncoderCopyBufferToBuffer"]=_wgpuCommandEncoderCopyBufferToBuffer;Module["_wgpuCommandEncoderFinish"]=_wgpuCommandEncoderFinish;Module["_wgpuComputePassEncoderDispatchWorkgroups"]=_wgpuComputePassEncoderDispatchWorkgroups;Module["_wgpuComputePassEncoderEnd"]=_wgpuComputePassEncoderEnd;Module["_wgpuComputePassEncoderSetBindGroup"]=_wgpuComputePassEncoderSetBindGroup;Module["_wgpuComputePassEncoderSetPipeline"]=_wgpuComputePassEncoderSetPipeline;Module["_wgpuComputePipelineGetBindGroupLayout"]=_wgpuComputePipelineGetBindGroupLayout;Module["_wgpuDeviceCreateBindGroup"]=_wgpuDeviceCreateBindGroup;Module["readI53FromI64"]=readI53FromI64;Module["_wgpuDeviceCreateCommandEncoder"]=_wgpuDeviceCreateCommandEncoder;Module["_wgpuDeviceCreateComputePipeline"]=_wgpuDeviceCreateComputePipeline;Module["_wgpuQueueSubmit"]=_wgpuQueueSubmit;Module["_wgpuQueueWriteBuffer"]=_wgpuQueueWriteBuffer;Module["Asyncify"]=Asyncify;Module["runAndAbortIfError"]=runAndAbortIfError;Module["ccall"]=ccall;Module["getCFunc"]=getCFunc;Module["writeArrayToMemory"]=writeArrayToMemory;Module["cwrap"]=cwrap;Module["FS_createPath"]=FS_createPath;Module["FS_unlink"]=FS_unlink;Module["FS_createLazyFile"]=FS_createLazyFile;Module["FS_createDevice"]=FS_createDevice;var proxiedFunctionTable=[_proc_exit,exitOnMainThread,pthreadCreateProxied,___syscall_fcntl64,___syscall_ioctl,___syscall_openat,__mmap_js,__munmap_js,__setitimer_js,_environ_get,_environ_sizes_get,_fd_close,_fd_read,_fd_seek,_fd_write];var _wllama_malloc,_wllama_start,_wllama_action,_wllama_exit,_wllama_debug,_main,_malloc,_free,_emwgpuCreateBindGroup,_emwgpuCreateBindGroupLayout,_emwgpuCreateCommandBuffer,_emwgpuCreateCommandEncoder,_emwgpuCreateComputePassEncoder,_emwgpuCreateComputePipeline,_emwgpuCreatePipelineLayout,_emwgpuCreateQuerySet,_emwgpuCreateRenderBundle,_emwgpuCreateRenderBundleEncoder,_emwgpuCreateRenderPassEncoder,_emwgpuCreateRenderPipeline,_emwgpuCreateSampler,_emwgpuCreateSurface,_emwgpuCreateTexture,_emwgpuCreateTextureView,_emwgpuCreateAdapter,_emwgpuCreateBuffer,_emwgpuCreateDevice,_emwgpuCreateQueue,_emwgpuCreateShaderModule,_emwgpuOnCompilationInfoCompleted,_emwgpuOnCreateComputePipelineCompleted,_emwgpuOnCreateRenderPipelineCompleted,_emwgpuOnDeviceLostCompleted,_emwgpuOnMapAsyncCompleted,_emwgpuOnPopErrorScopeCompleted,_emwgpuOnRequestAdapterCompleted,_emwgpuOnRequestDeviceCompleted,_emwgpuOnWorkDoneCompleted,_emwgpuOnUncapturedError,__emscripten_tls_init,_pthread_self,_emscripten_builtin_memalign,__emscripten_run_callback_on_thread,__emscripten_thread_init,__emscripten_thread_crashed,__emscripten_run_js_on_main_thread,__emscripten_thread_free_data,__emscripten_thread_exit,__emscripten_timeout,__emscripten_check_mailbox,_memalign,___trap,_emscripten_stack_set_limits,__emscripten_stack_restore,__emscripten_stack_alloc,_emscripten_stack_get_current,__indirect_function_table,wasmTable;function assignWasmExports(wasmExports){_wllama_malloc=Module["_wllama_malloc"]=wasmExports["wllama_malloc"];_wllama_start=Module["_wllama_start"]=wasmExports["wllama_start"];_wllama_action=Module["_wllama_action"]=wasmExports["wllama_action"];_wllama_exit=Module["_wllama_exit"]=wasmExports["wllama_exit"];_wllama_debug=Module["_wllama_debug"]=wasmExports["wllama_debug"];_main=Module["_main"]=wasmExports["main"];_malloc=Module["_malloc"]=wasmExports["malloc"];_free=Module["_free"]=wasmExports["free"];_emwgpuCreateBindGroup=Module["_emwgpuCreateBindGroup"]=wasmExports["emwgpuCreateBindGroup"];_emwgpuCreateBindGroupLayout=Module["_emwgpuCreateBindGroupLayout"]=wasmExports["emwgpuCreateBindGroupLayout"];_emwgpuCreateCommandBuffer=Module["_emwgpuCreateCommandBuffer"]=wasmExports["emwgpuCreateCommandBuffer"];_emwgpuCreateCommandEncoder=Module["_emwgpuCreateCommandEncoder"]=wasmExports["emwgpuCreateCommandEncoder"];_emwgpuCreateComputePassEncoder=Module["_emwgpuCreateComputePassEncoder"]=wasmExports["emwgpuCreateComputePassEncoder"];_emwgpuCreateComputePipeline=Module["_emwgpuCreateComputePipeline"]=wasmExports["emwgpuCreateComputePipeline"];_emwgpuCreatePipelineLayout=Module["_emwgpuCreatePipelineLayout"]=wasmExports["emwgpuCreatePipelineLayout"];_emwgpuCreateQuerySet=Module["_emwgpuCreateQuerySet"]=wasmExports["emwgpuCreateQuerySet"];_emwgpuCreateRenderBundle=Module["_emwgpuCreateRenderBundle"]=wasmExports["emwgpuCreateRenderBundle"];_emwgpuCreateRenderBundleEncoder=Module["_emwgpuCreateRenderBundleEncoder"]=wasmExports["emwgpuCreateRenderBundleEncoder"];_emwgpuCreateRenderPassEncoder=Module["_emwgpuCreateRenderPassEncoder"]=wasmExports["emwgpuCreateRenderPassEncoder"];_emwgpuCreateRenderPipeline=Module["_emwgpuCreateRenderPipeline"]=wasmExports["emwgpuCreateRenderPipeline"];_emwgpuCreateSampler=Module["_emwgpuCreateSampler"]=wasmExports["emwgpuCreateSampler"];_emwgpuCreateSurface=Module["_emwgpuCreateSurface"]=wasmExports["emwgpuCreateSurface"];_emwgpuCreateTexture=Module["_emwgpuCreateTexture"]=wasmExports["emwgpuCreateTexture"];_emwgpuCreateTextureView=Module["_emwgpuCreateTextureView"]=wasmExports["emwgpuCreateTextureView"];_emwgpuCreateAdapter=Module["_emwgpuCreateAdapter"]=wasmExports["emwgpuCreateAdapter"];_emwgpuCreateBuffer=Module["_emwgpuCreateBuffer"]=wasmExports["emwgpuCreateBuffer"];_emwgpuCreateDevice=Module["_emwgpuCreateDevice"]=wasmExports["emwgpuCreateDevice"];_emwgpuCreateQueue=Module["_emwgpuCreateQueue"]=wasmExports["emwgpuCreateQueue"];_emwgpuCreateShaderModule=Module["_emwgpuCreateShaderModule"]=wasmExports["emwgpuCreateShaderModule"];_emwgpuOnCompilationInfoCompleted=Module["_emwgpuOnCompilationInfoCompleted"]=wasmExports["emwgpuOnCompilationInfoCompleted"];_emwgpuOnCreateComputePipelineCompleted=Module["_emwgpuOnCreateComputePipelineCompleted"]=wasmExports["emwgpuOnCreateComputePipelineCompleted"];_emwgpuOnCreateRenderPipelineCompleted=Module["_emwgpuOnCreateRenderPipelineCompleted"]=wasmExports["emwgpuOnCreateRenderPipelineCompleted"];_emwgpuOnDeviceLostCompleted=Module["_emwgpuOnDeviceLostCompleted"]=wasmExports["emwgpuOnDeviceLostCompleted"];_emwgpuOnMapAsyncCompleted=Module["_emwgpuOnMapAsyncCompleted"]=wasmExports["emwgpuOnMapAsyncCompleted"];_emwgpuOnPopErrorScopeCompleted=Module["_emwgpuOnPopErrorScopeCompleted"]=wasmExports["emwgpuOnPopErrorScopeCompleted"];_emwgpuOnRequestAdapterCompleted=Module["_emwgpuOnRequestAdapterCompleted"]=wasmExports["emwgpuOnRequestAdapterCompleted"];_emwgpuOnRequestDeviceCompleted=Module["_emwgpuOnRequestDeviceCompleted"]=wasmExports["emwgpuOnRequestDeviceCompleted"];_emwgpuOnWorkDoneCompleted=Module["_emwgpuOnWorkDoneCompleted"]=wasmExports["emwgpuOnWorkDoneCompleted"];_emwgpuOnUncapturedError=Module["_emwgpuOnUncapturedError"]=wasmExports["emwgpuOnUncapturedError"];__emscripten_tls_init=Module["__emscripten_tls_init"]=wasmExports["_emscripten_tls_init"];_pthread_self=Module["_pthread_self"]=wasmExports["pthread_self"];_emscripten_builtin_memalign=Module["_emscripten_builtin_memalign"]=wasmExports["emscripten_builtin_memalign"];__emscripten_run_callback_on_thread=Module["__emscripten_run_callback_on_thread"]=wasmExports["_emscripten_run_callback_on_thread"];__emscripten_thread_init=Module["__emscripten_thread_init"]=wasmExports["_emscripten_thread_init"];__emscripten_thread_crashed=Module["__emscripten_thread_crashed"]=wasmExports["_emscripten_thread_crashed"];__emscripten_run_js_on_main_thread=Module["__emscripten_run_js_on_main_thread"]=wasmExports["_emscripten_run_js_on_main_thread"];__emscripten_thread_free_data=Module["__emscripten_thread_free_data"]=wasmExports["_emscripten_thread_free_data"];__emscripten_thread_exit=Module["__emscripten_thread_exit"]=wasmExports["_emscripten_thread_exit"];__emscripten_timeout=Module["__emscripten_timeout"]=wasmExports["_emscripten_timeout"];__emscripten_check_mailbox=Module["__emscripten_check_mailbox"]=wasmExports["_emscripten_check_mailbox"];_memalign=Module["_memalign"]=wasmExports["memalign"];___trap=Module["___trap"]=wasmExports["__trap"];_emscripten_stack_set_limits=Module["_emscripten_stack_set_limits"]=wasmExports["emscripten_stack_set_limits"];__emscripten_stack_restore=Module["__emscripten_stack_restore"]=wasmExports["_emscripten_stack_restore"];__emscripten_stack_alloc=Module["__emscripten_stack_alloc"]=wasmExports["_emscripten_stack_alloc"];_emscripten_stack_get_current=Module["_emscripten_stack_get_current"]=wasmExports["emscripten_stack_get_current"];__indirect_function_table=Module["__indirect_function_table"]=wasmTable=wasmExports["__indirect_function_table"]}var wasmImports;function assignWasmImports(){wasmImports={__assert_fail:___assert_fail,__pthread_create_js:___pthread_create_js,__syscall_fcntl64:___syscall_fcntl64,__syscall_ioctl:___syscall_ioctl,__syscall_openat:___syscall_openat,_abort_js:__abort_js,_emscripten_init_main_thread_js:__emscripten_init_main_thread_js,_emscripten_notify_mailbox_postmessage:__emscripten_notify_mailbox_postmessage,_emscripten_receive_on_main_thread_js:__emscripten_receive_on_main_thread_js,_emscripten_runtime_keepalive_clear:__emscripten_runtime_keepalive_clear,_emscripten_thread_cleanup:__emscripten_thread_cleanup,_emscripten_thread_mailbox_await:__emscripten_thread_mailbox_await,_emscripten_thread_set_strongref:__emscripten_thread_set_strongref,_mmap_js:__mmap_js,_munmap_js:__munmap_js,_setitimer_js:__setitimer_js,_tzset_js:__tzset_js,clock_time_get:_clock_time_get,emscripten_check_blocking_allowed:_emscripten_check_blocking_allowed,emscripten_date_now:_emscripten_date_now,emscripten_exit_with_live_runtime:_emscripten_exit_with_live_runtime,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_get_now:_emscripten_get_now,emscripten_has_asyncify:_emscripten_has_asyncify,emscripten_num_logical_cores:_emscripten_num_logical_cores,emscripten_resize_heap:_emscripten_resize_heap,emwgpuAdapterRequestDevice:_emwgpuAdapterRequestDevice,emwgpuBufferDestroy:_emwgpuBufferDestroy,emwgpuBufferGetConstMappedRange:_emwgpuBufferGetConstMappedRange,emwgpuBufferGetMappedRange:_emwgpuBufferGetMappedRange,emwgpuBufferMapAsync:_emwgpuBufferMapAsync,emwgpuBufferUnmap:_emwgpuBufferUnmap,emwgpuDelete:_emwgpuDelete,emwgpuDeviceCreateBuffer:_emwgpuDeviceCreateBuffer,emwgpuDeviceCreateShaderModule:_emwgpuDeviceCreateShaderModule,emwgpuDeviceDestroy:_emwgpuDeviceDestroy,emwgpuInstanceRequestAdapter:_emwgpuInstanceRequestAdapter,emwgpuQueueOnSubmittedWorkDone:_emwgpuQueueOnSubmittedWorkDone,emwgpuWaitAny:_emwgpuWaitAny,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,exit:_exit,fd_close:_fd_close,fd_read:_fd_read,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,proc_exit:_proc_exit,random_get:_random_get,wgpuAdapterGetFeatures:_wgpuAdapterGetFeatures,wgpuAdapterGetInfo:_wgpuAdapterGetInfo,wgpuAdapterGetLimits:_wgpuAdapterGetLimits,wgpuAdapterHasFeature:_wgpuAdapterHasFeature,wgpuBufferGetSize:_wgpuBufferGetSize,wgpuCommandEncoderBeginComputePass:_wgpuCommandEncoderBeginComputePass,wgpuCommandEncoderCopyBufferToBuffer:_wgpuCommandEncoderCopyBufferToBuffer,wgpuCommandEncoderFinish:_wgpuCommandEncoderFinish,wgpuComputePassEncoderDispatchWorkgroups:_wgpuComputePassEncoderDispatchWorkgroups,wgpuComputePassEncoderEnd:_wgpuComputePassEncoderEnd,wgpuComputePassEncoderSetBindGroup:_wgpuComputePassEncoderSetBindGroup,wgpuComputePassEncoderSetPipeline:_wgpuComputePassEncoderSetPipeline,wgpuComputePipelineGetBindGroupLayout:_wgpuComputePipelineGetBindGroupLayout,wgpuDeviceCreateBindGroup:_wgpuDeviceCreateBindGroup,wgpuDeviceCreateCommandEncoder:_wgpuDeviceCreateCommandEncoder,wgpuDeviceCreateComputePipeline:_wgpuDeviceCreateComputePipeline,wgpuQueueSubmit:_wgpuQueueSubmit,wgpuQueueWriteBuffer:_wgpuQueueWriteBuffer}}function applySignatureConversions(wasmExports){wasmExports=Object.assign({},wasmExports);var makeWrapper_pp=f=>a0=>f(a0)>>>0;var makeWrapper_p=f=>()=>f()>>>0;var makeWrapper_ppp=f=>(a0,a1)=>f(a0,a1)>>>0;wasmExports["malloc"]=makeWrapper_pp(wasmExports["malloc"]);wasmExports["pthread_self"]=makeWrapper_p(wasmExports["pthread_self"]);wasmExports["emscripten_builtin_memalign"]=makeWrapper_ppp(wasmExports["emscripten_builtin_memalign"]);wasmExports["memalign"]=makeWrapper_ppp(wasmExports["memalign"]);wasmExports["_emscripten_stack_alloc"]=makeWrapper_pp(wasmExports["_emscripten_stack_alloc"]);wasmExports["emscripten_stack_get_current"]=makeWrapper_p(wasmExports["emscripten_stack_get_current"]);return wasmExports}async function callMain(){var entryFunction=_main;var argc=0;var argv=0;try{var ret=entryFunction(argc,argv);ret=await ret;exitJS(ret,true);return ret}catch(e){return handleException(e)}}function run(){if(runDependencies>0){dependenciesFulfilled=run;return}if(ENVIRONMENT_IS_PTHREAD){initRuntime();return}preRun();if(runDependencies>0){dependenciesFulfilled=run;return}async function doRun(){Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();Module["onRuntimeInitialized"]?.();var noInitialRun=Module["noInitialRun"]||false;if(!noInitialRun)await callMain();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(()=>{setTimeout(()=>Module["setStatus"](""),1);doRun()},1)}else{doRun()}}var wasmExports;if(!ENVIRONMENT_IS_PTHREAD){createWasm();run()}\n',b1='var Module=typeof Module!="undefined"?Module:{};var ENVIRONMENT_IS_WEB=!!globalThis.window;var ENVIRONMENT_IS_WORKER=!!globalThis.WorkerGlobalScope;var ENVIRONMENT_IS_NODE=globalThis.process?.versions?.node&&globalThis.process?.type!="renderer";var arguments_=[];var thisProgram="./this.program";var quit_=(status,toThrow)=>{throw toThrow};var _scriptName=globalThis.document?.currentScript?.src;if(typeof __filename!="undefined"){_scriptName=__filename}else if(ENVIRONMENT_IS_WORKER){_scriptName=self.location.href}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory)}return scriptDirectory+path}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require("fs");scriptDirectory=__dirname+"/";readBinary=filename=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename);return ret};readAsync=async(filename,binary=true)=>{filename=isFileURI(filename)?new URL(filename):filename;var ret=fs.readFileSync(filename,binary?undefined:"utf8");return ret};if(process.argv.length>1){thisProgram=process.argv[1].replace(/\\\\/g,"/")}arguments_=process.argv.slice(2);if(typeof module!="undefined"){module["exports"]=Module}quit_=(status,toThrow)=>{process.exitCode=status;throw toThrow}}else if(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER){try{scriptDirectory=new URL(".",_scriptName).href}catch{}{if(ENVIRONMENT_IS_WORKER){readBinary=url=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,false);xhr.responseType="arraybuffer";xhr.send(null);return new Uint8Array(xhr.response)}}readAsync=async url=>{if(isFileURI(url)){return new Promise((resolve,reject)=>{var xhr=new XMLHttpRequest;xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=()=>{if(xhr.status==200||xhr.status==0&&xhr.response){resolve(xhr.response);return}reject(xhr.status)};xhr.onerror=reject;xhr.send(null)})}var response=await fetch(url,{credentials:"same-origin"});if(response.ok){return response.arrayBuffer()}throw new Error(response.status+" : "+response.url)}}}else{}var out=console.log.bind(console);var err=console.error.bind(console);var wasmBinary;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort(text)}}var isFileURI=filename=>filename.startsWith("file://");var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;var HEAP64,HEAPU64;var runtimeInitialized=false;function updateMemoryViews(){var b=wasmMemory.buffer;HEAP8=new Int8Array(b);HEAP16=new Int16Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);HEAPU16=new Uint16Array(b);HEAP32=new Int32Array(b);HEAPU32=new Uint32Array(b);HEAPF32=new Float32Array(b);HEAPF64=new Float64Array(b);HEAP64=new BigInt64Array(b);HEAPU64=new BigUint64Array(b)}function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift())}}callRuntimeCallbacks(onPreRuns)}function initRuntime(){runtimeInitialized=true;if(!Module["noFSInit"]&&!FS.initialized)FS.init();TTY.init();wasmExports["__wasm_call_ctors"]();FS.ignorePermissions=false}function preMain(){}function postRun(){if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift())}}callRuntimeCallbacks(onPostRuns)}function abort(what){Module["onAbort"]?.(what);what="Aborted("+what+")";err(what);ABORT=true;what+=". Build with -sASSERTIONS for more info.";if(runtimeInitialized){___trap()}var e=new WebAssembly.RuntimeError(what);throw e}var wasmBinaryFile;function findWasmBinary(){return locateFile("wllama.wasm")}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary)}if(readBinary){return readBinary(file)}throw"both async and sync fetching of the wasm failed"}async function getWasmBinary(binaryFile){if(!wasmBinary){try{var response=await readAsync(binaryFile);return new Uint8Array(response)}catch{}}return getBinarySync(binaryFile)}async function instantiateArrayBuffer(binaryFile,imports){try{var binary=await getWasmBinary(binaryFile);var instance=await WebAssembly.instantiate(binary,imports);return instance}catch(reason){err(`failed to asynchronously prepare wasm: ${reason}`);abort(reason)}}async function instantiateAsync(binary,binaryFile,imports){if(!binary&&!isFileURI(binaryFile)&&!ENVIRONMENT_IS_NODE){try{var response=fetch(binaryFile,{credentials:"same-origin"});var instantiationResult=await WebAssembly.instantiateStreaming(response,imports);return instantiationResult}catch(reason){err(`wasm streaming compile failed: ${reason}`);err("falling back to ArrayBuffer instantiation")}}return instantiateArrayBuffer(binaryFile,imports)}function getWasmImports(){Asyncify.instrumentWasmImports(wasmImports);var imports={env:wasmImports,wasi_snapshot_preview1:wasmImports};return imports}async function createWasm(){function receiveInstance(instance,module){wasmExports=instance.exports;wasmExports=Asyncify.instrumentWasmExports(wasmExports);wasmExports=applySignatureConversions(wasmExports);assignWasmExports(wasmExports);updateMemoryViews();removeRunDependency("wasm-instantiate");return wasmExports}addRunDependency("wasm-instantiate");function receiveInstantiationResult(result){return receiveInstance(result["instance"])}var info=getWasmImports();if(Module["instantiateWasm"]){return new Promise((resolve,reject)=>{Module["instantiateWasm"](info,(inst,mod)=>{resolve(receiveInstance(inst,mod))})})}wasmBinaryFile??=findWasmBinary();var result=await instantiateAsync(wasmBinary,wasmBinaryFile,info);var exports=receiveInstantiationResult(result);return exports}class ExitStatus{name="ExitStatus";constructor(status){this.message=`Program terminated with exit(${status})`;this.status=status}}var callRuntimeCallbacks=callbacks=>{while(callbacks.length>0){callbacks.shift()(Module)}};var onPostRuns=[];var addOnPostRun=cb=>onPostRuns.push(cb);var onPreRuns=[];var addOnPreRun=cb=>onPreRuns.push(cb);var runDependencies=0;var dependenciesFulfilled=null;var removeRunDependency=id=>{runDependencies--;Module["monitorRunDependencies"]?.(runDependencies);if(runDependencies==0){if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback()}}};var addRunDependency=id=>{runDependencies++;Module["monitorRunDependencies"]?.(runDependencies)};function getValue(ptr,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>>0];case"i8":return HEAP8[ptr>>>0];case"i16":return HEAP16[ptr>>>1>>>0];case"i32":return HEAP32[ptr>>>2>>>0];case"i64":return HEAP64[ptr>>>3>>>0];case"float":return HEAPF32[ptr>>>2>>>0];case"double":return HEAPF64[ptr>>>3>>>0];case"*":return HEAPU32[ptr>>>2>>>0];default:abort(`invalid type for getValue: ${type}`)}}var noExitRuntime=true;function setValue(ptr,value,type="i8"){if(type.endsWith("*"))type="*";switch(type){case"i1":HEAP8[ptr>>>0]=value;break;case"i8":HEAP8[ptr>>>0]=value;break;case"i16":HEAP16[ptr>>>1>>>0]=value;break;case"i32":HEAP32[ptr>>>2>>>0]=value;break;case"i64":HEAP64[ptr>>>3>>>0]=BigInt(value);break;case"float":HEAPF32[ptr>>>2>>>0]=value;break;case"double":HEAPF64[ptr>>>3>>>0]=value;break;case"*":HEAPU32[ptr>>>2>>>0]=value;break;default:abort(`invalid type for setValue: ${type}`)}}var syscallGetVarargI=()=>{var ret=HEAP32[+SYSCALLS.varargs>>>2>>>0];SYSCALLS.varargs+=4;return ret};var syscallGetVarargP=syscallGetVarargI;var PATH={isAbs:path=>path.charAt(0)==="/",splitPath:filename=>{var splitPathRe=/^(\\/?|)([\\s\\S]*?)((?:\\.{1,2}|[^\\/]+?|)(\\.[^.\\/]*|))(?:[\\/]*)$/;return splitPathRe.exec(filename).slice(1)},normalizeArray:(parts,allowAboveRoot)=>{var up=0;for(var i=parts.length-1;i>=0;i--){var last=parts[i];if(last==="."){parts.splice(i,1)}else if(last===".."){parts.splice(i,1);up++}else if(up){parts.splice(i,1);up--}}if(allowAboveRoot){for(;up;up--){parts.unshift("..")}}return parts},normalize:path=>{var isAbsolute=PATH.isAbs(path),trailingSlash=path.slice(-1)==="/";path=PATH.normalizeArray(path.split("/").filter(p=>!!p),!isAbsolute).join("/");if(!path&&!isAbsolute){path="."}if(path&&trailingSlash){path+="/"}return(isAbsolute?"/":"")+path},dirname:path=>{var result=PATH.splitPath(path),root=result[0],dir=result[1];if(!root&&!dir){return"."}if(dir){dir=dir.slice(0,-1)}return root+dir},basename:path=>path&&path.match(/([^\\/]+|\\/)\\/*$/)[1],join:(...paths)=>PATH.normalize(paths.join("/")),join2:(l,r)=>PATH.normalize(l+"/"+r)};var initRandomFill=()=>{if(ENVIRONMENT_IS_NODE){var nodeCrypto=require("crypto");return view=>nodeCrypto.randomFillSync(view)}return view=>crypto.getRandomValues(view)};var randomFill=view=>{(randomFill=initRandomFill())(view)};var PATH_FS={resolve:(...args)=>{var resolvedPath="",resolvedAbsolute=false;for(var i=args.length-1;i>=-1&&!resolvedAbsolute;i--){var path=i>=0?args[i]:FS.cwd();if(typeof path!="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!path){return""}resolvedPath=path+"/"+resolvedPath;resolvedAbsolute=PATH.isAbs(path)}resolvedPath=PATH.normalizeArray(resolvedPath.split("/").filter(p=>!!p),!resolvedAbsolute).join("/");return(resolvedAbsolute?"/":"")+resolvedPath||"."},relative:(from,to)=>{from=PATH_FS.resolve(from).slice(1);to=PATH_FS.resolve(to).slice(1);function trim(arr){var start=0;for(;start<arr.length;start++){if(arr[start]!=="")break}var end=arr.length-1;for(;end>=0;end--){if(arr[end]!=="")break}if(start>end)return[];return arr.slice(start,end-start+1)}var fromParts=trim(from.split("/"));var toParts=trim(to.split("/"));var length=Math.min(fromParts.length,toParts.length);var samePartsLength=length;for(var i=0;i<length;i++){if(fromParts[i]!==toParts[i]){samePartsLength=i;break}}var outputParts=[];for(var i=samePartsLength;i<fromParts.length;i++){outputParts.push("..")}outputParts=outputParts.concat(toParts.slice(samePartsLength));return outputParts.join("/")}};var UTF8Decoder=globalThis.TextDecoder&&new TextDecoder;var findStringEnd=(heapOrArray,idx,maxBytesToRead,ignoreNul)=>{var maxIdx=idx+maxBytesToRead;if(ignoreNul)return maxIdx;while(heapOrArray[idx]&&!(idx>=maxIdx))++idx;return idx};var UTF8ArrayToString=(heapOrArray,idx=0,maxBytesToRead,ignoreNul)=>{idx>>>=0;var endPtr=findStringEnd(heapOrArray,idx,maxBytesToRead,ignoreNul);if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr))}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2}else{u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63}if(u0<65536){str+=String.fromCharCode(u0)}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023)}}return str};var FS_stdin_getChar_buffer=[];var lengthBytesUTF8=str=>{var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++}else if(c<=2047){len+=2}else if(c>=55296&&c<=57343){len+=4;++i}else{len+=3}}return len};var stringToUTF8Array=(str,heap,outIdx,maxBytesToWrite)=>{outIdx>>>=0;if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.codePointAt(i);if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++>>>0]=u}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++>>>0]=192|u>>6;heap[outIdx++>>>0]=128|u&63}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++>>>0]=224|u>>12;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63}else{if(outIdx+3>=endIdx)break;heap[outIdx++>>>0]=240|u>>18;heap[outIdx++>>>0]=128|u>>12&63;heap[outIdx++>>>0]=128|u>>6&63;heap[outIdx++>>>0]=128|u&63;i++}}heap[outIdx>>>0]=0;return outIdx-startIdx};var intArrayFromString=(stringy,dontAddNull,length)=>{var len=length>0?length:lengthBytesUTF8(stringy)+1;var u8array=new Array(len);var numBytesWritten=stringToUTF8Array(stringy,u8array,0,u8array.length);if(dontAddNull)u8array.length=numBytesWritten;return u8array};var FS_stdin_getChar=()=>{if(!FS_stdin_getChar_buffer.length){var result=null;if(ENVIRONMENT_IS_NODE){var BUFSIZE=256;var buf=Buffer.alloc(BUFSIZE);var bytesRead=0;var fd=process.stdin.fd;try{bytesRead=fs.readSync(fd,buf,0,BUFSIZE)}catch(e){if(e.toString().includes("EOF"))bytesRead=0;else throw e}if(bytesRead>0){result=buf.slice(0,bytesRead).toString("utf-8")}}else if(globalThis.window?.prompt){result=window.prompt("Input: ");if(result!==null){result+="\\n"}}else{}if(!result){return null}FS_stdin_getChar_buffer=intArrayFromString(result,true)}return FS_stdin_getChar_buffer.shift()};var TTY={ttys:[],init(){},shutdown(){},register(dev,ops){TTY.ttys[dev]={input:[],output:[],ops};FS.registerDevice(dev,TTY.stream_ops)},stream_ops:{open(stream){var tty=TTY.ttys[stream.node.rdev];if(!tty){throw new FS.ErrnoError(43)}stream.tty=tty;stream.seekable=false},close(stream){stream.tty.ops.fsync(stream.tty)},fsync(stream){stream.tty.ops.fsync(stream.tty)},read(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.get_char){throw new FS.ErrnoError(60)}var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=stream.tty.ops.get_char(stream.tty)}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){if(!stream.tty||!stream.tty.ops.put_char){throw new FS.ErrnoError(60)}try{for(var i=0;i<length;i++){stream.tty.ops.put_char(stream.tty,buffer[offset+i])}}catch(e){throw new FS.ErrnoError(29)}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}},default_tty_ops:{get_char(tty){return FS_stdin_getChar()},put_char(tty,val){if(val===null||val===10){out(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){out(UTF8ArrayToString(tty.output));tty.output=[]}},ioctl_tcgets(tty){return{c_iflag:25856,c_oflag:5,c_cflag:191,c_lflag:35387,c_cc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},ioctl_tcsets(tty,optional_actions,data){return 0},ioctl_tiocgwinsz(tty){return[24,80]}},default_tty1_ops:{put_char(tty,val){if(val===null||val===10){err(UTF8ArrayToString(tty.output));tty.output=[]}else{if(val!=0)tty.output.push(val)}},fsync(tty){if(tty.output?.length>0){err(UTF8ArrayToString(tty.output));tty.output=[]}}}};var zeroMemory=(ptr,size)=>HEAPU8.fill(0,ptr,ptr+size);var alignMemory=(size,alignment)=>Math.ceil(size/alignment)*alignment;var mmapAlloc=size=>{size=alignMemory(size,65536);var ptr=_emscripten_builtin_memalign(65536,size);if(ptr)zeroMemory(ptr,size);return ptr};var MEMFS={ops_table:null,mount(mount){return MEMFS.createNode(null,"/",16895,0)},createNode(parent,name,mode,dev){if(FS.isBlkdev(mode)||FS.isFIFO(mode)){throw new FS.ErrnoError(63)}MEMFS.ops_table||={dir:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,lookup:MEMFS.node_ops.lookup,mknod:MEMFS.node_ops.mknod,rename:MEMFS.node_ops.rename,unlink:MEMFS.node_ops.unlink,rmdir:MEMFS.node_ops.rmdir,readdir:MEMFS.node_ops.readdir,symlink:MEMFS.node_ops.symlink},stream:{llseek:MEMFS.stream_ops.llseek}},file:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:{llseek:MEMFS.stream_ops.llseek,read:MEMFS.stream_ops.read,write:MEMFS.stream_ops.write,mmap:MEMFS.stream_ops.mmap,msync:MEMFS.stream_ops.msync}},link:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr,readlink:MEMFS.node_ops.readlink},stream:{}},chrdev:{node:{getattr:MEMFS.node_ops.getattr,setattr:MEMFS.node_ops.setattr},stream:FS.chrdev_stream_ops}};var node=FS.createNode(parent,name,mode,dev);if(FS.isDir(node.mode)){node.node_ops=MEMFS.ops_table.dir.node;node.stream_ops=MEMFS.ops_table.dir.stream;node.contents={}}else if(FS.isFile(node.mode)){node.node_ops=MEMFS.ops_table.file.node;node.stream_ops=MEMFS.ops_table.file.stream;node.usedBytes=0;node.contents=null}else if(FS.isLink(node.mode)){node.node_ops=MEMFS.ops_table.link.node;node.stream_ops=MEMFS.ops_table.link.stream}else if(FS.isChrdev(node.mode)){node.node_ops=MEMFS.ops_table.chrdev.node;node.stream_ops=MEMFS.ops_table.chrdev.stream}node.atime=node.mtime=node.ctime=Date.now();if(parent){parent.contents[name]=node;parent.atime=parent.mtime=parent.ctime=node.atime}return node},getFileDataAsTypedArray(node){if(!node.contents)return new Uint8Array(0);if(node.contents.subarray)return node.contents.subarray(0,node.usedBytes);return new Uint8Array(node.contents)},expandFileStorage(node,newCapacity){var prevCapacity=node.contents?node.contents.length:0;if(prevCapacity>=newCapacity)return;var CAPACITY_DOUBLING_MAX=1024*1024;newCapacity=Math.max(newCapacity,prevCapacity*(prevCapacity<CAPACITY_DOUBLING_MAX?2:1.125)>>>0);if(prevCapacity!=0)newCapacity=Math.max(newCapacity,256);var oldContents=node.contents;node.contents=new Uint8Array(newCapacity);if(node.usedBytes>0)node.contents.set(oldContents.subarray(0,node.usedBytes),0)},resizeFileStorage(node,newSize){if(node.usedBytes==newSize)return;if(newSize==0){node.contents=null;node.usedBytes=0}else{var oldContents=node.contents;node.contents=new Uint8Array(newSize);if(oldContents){node.contents.set(oldContents.subarray(0,Math.min(newSize,node.usedBytes)))}node.usedBytes=newSize}},node_ops:{getattr(node){var attr={};attr.dev=FS.isChrdev(node.mode)?node.id:1;attr.ino=node.id;attr.mode=node.mode;attr.nlink=1;attr.uid=0;attr.gid=0;attr.rdev=node.rdev;if(FS.isDir(node.mode)){attr.size=4096}else if(FS.isFile(node.mode)){attr.size=node.usedBytes}else if(FS.isLink(node.mode)){attr.size=node.link.length}else{attr.size=0}attr.atime=new Date(node.atime);attr.mtime=new Date(node.mtime);attr.ctime=new Date(node.ctime);attr.blksize=4096;attr.blocks=Math.ceil(attr.size/attr.blksize);return attr},setattr(node,attr){for(const key of["mode","atime","mtime","ctime"]){if(attr[key]!=null){node[key]=attr[key]}}if(attr.size!==undefined){MEMFS.resizeFileStorage(node,attr.size)}},lookup(parent,name){if(!MEMFS.doesNotExistError){MEMFS.doesNotExistError=new FS.ErrnoError(44);MEMFS.doesNotExistError.stack="<generic error, no stack>"}throw MEMFS.doesNotExistError},mknod(parent,name,mode,dev){return MEMFS.createNode(parent,name,mode,dev)},rename(old_node,new_dir,new_name){var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(new_node){if(FS.isDir(old_node.mode)){for(var i in new_node.contents){throw new FS.ErrnoError(55)}}FS.hashRemoveNode(new_node)}delete old_node.parent.contents[old_node.name];new_dir.contents[new_name]=old_node;old_node.name=new_name;new_dir.ctime=new_dir.mtime=old_node.parent.ctime=old_node.parent.mtime=Date.now()},unlink(parent,name){delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},rmdir(parent,name){var node=FS.lookupNode(parent,name);for(var i in node.contents){throw new FS.ErrnoError(55)}delete parent.contents[name];parent.ctime=parent.mtime=Date.now()},readdir(node){return[".","..",...Object.keys(node.contents)]},symlink(parent,newname,oldpath){var node=MEMFS.createNode(parent,newname,511|40960,0);node.link=oldpath;return node},readlink(node){if(!FS.isLink(node.mode)){throw new FS.ErrnoError(28)}return node.link}},stream_ops:{read(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=stream.node.usedBytes)return 0;var size=Math.min(stream.node.usedBytes-position,length);if(size>8&&contents.subarray){buffer.set(contents.subarray(position,position+size),offset)}else{for(var i=0;i<size;i++)buffer[offset+i]=contents[position+i]}return size},write(stream,buffer,offset,length,position,canOwn){if(buffer.buffer===HEAP8.buffer){canOwn=false}if(!length)return 0;var node=stream.node;node.mtime=node.ctime=Date.now();if(buffer.subarray&&(!node.contents||node.contents.subarray)){if(canOwn){node.contents=buffer.subarray(offset,offset+length);node.usedBytes=length;return length}else if(node.usedBytes===0&&position===0){node.contents=buffer.slice(offset,offset+length);node.usedBytes=length;return length}else if(position+length<=node.usedBytes){node.contents.set(buffer.subarray(offset,offset+length),position);return length}}MEMFS.expandFileStorage(node,position+length);if(node.contents.subarray&&buffer.subarray){node.contents.set(buffer.subarray(offset,offset+length),position)}else{for(var i=0;i<length;i++){node.contents[position+i]=buffer[offset+i]}}node.usedBytes=Math.max(node.usedBytes,position+length);return length},llseek(stream,offset,whence){var position=offset;if(whence===1){position+=stream.position}else if(whence===2){if(FS.isFile(stream.node.mode)){position+=stream.node.usedBytes}}if(position<0){throw new FS.ErrnoError(28)}return position},mmap(stream,length,position,prot,flags){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}var ptr;var allocated;var contents=stream.node.contents;if(!(flags&2)&&contents&&contents.buffer===HEAP8.buffer){allocated=false;ptr=contents.byteOffset}else{allocated=true;ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}if(contents){if(position>0||position+length<contents.length){if(contents.subarray){contents=contents.subarray(position,position+length)}else{contents=Array.prototype.slice.call(contents,position,position+length)}}HEAP8.set(contents,ptr>>>0)}}return{ptr,allocated}},msync(stream,buffer,offset,length,mmapFlags){MEMFS.stream_ops.write(stream,buffer,0,length,offset,false);return 0}}};var FS_modeStringToFlags=str=>{var flagModes={r:0,"r+":2,w:512|64|1,"w+":512|64|2,a:1024|64|1,"a+":1024|64|2};var flags=flagModes[str];if(typeof flags=="undefined"){throw new Error(`Unknown file open mode: ${str}`)}return flags};var FS_getMode=(canRead,canWrite)=>{var mode=0;if(canRead)mode|=292|73;if(canWrite)mode|=146;return mode};var asyncLoad=async url=>{var arrayBuffer=await readAsync(url);return new Uint8Array(arrayBuffer)};var FS_createDataFile=(...args)=>FS.createDataFile(...args);var getUniqueRunDependency=id=>id;var preloadPlugins=[];var FS_handledByPreloadPlugin=async(byteArray,fullname)=>{if(typeof Browser!="undefined")Browser.init();for(var plugin of preloadPlugins){if(plugin["canHandle"](fullname)){return plugin["handle"](byteArray,fullname)}}return byteArray};var FS_preloadFile=async(parent,name,url,canRead,canWrite,dontCreateFile,canOwn,preFinish)=>{var fullname=name?PATH_FS.resolve(PATH.join2(parent,name)):parent;var dep=getUniqueRunDependency(`cp ${fullname}`);addRunDependency(dep);try{var byteArray=url;if(typeof url=="string"){byteArray=await asyncLoad(url)}byteArray=await FS_handledByPreloadPlugin(byteArray,fullname);preFinish?.();if(!dontCreateFile){FS_createDataFile(parent,name,byteArray,canRead,canWrite,canOwn)}}finally{removeRunDependency(dep)}};var FS_createPreloadedFile=(parent,name,url,canRead,canWrite,onload,onerror,dontCreateFile,canOwn,preFinish)=>{FS_preloadFile(parent,name,url,canRead,canWrite,dontCreateFile,canOwn,preFinish).then(onload).catch(onerror)};var FS={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:false,ignorePermissions:true,filesystems:null,syncFSRequests:0,readFiles:{},ErrnoError:class{name="ErrnoError";constructor(errno){this.errno=errno}},FSStream:class{shared={};get object(){return this.node}set object(val){this.node=val}get isRead(){return(this.flags&2097155)!==1}get isWrite(){return(this.flags&2097155)!==0}get isAppend(){return this.flags&1024}get flags(){return this.shared.flags}set flags(val){this.shared.flags=val}get position(){return this.shared.position}set position(val){this.shared.position=val}},FSNode:class{node_ops={};stream_ops={};readMode=292|73;writeMode=146;mounted=null;constructor(parent,name,mode,rdev){if(!parent){parent=this}this.parent=parent;this.mount=parent.mount;this.id=FS.nextInode++;this.name=name;this.mode=mode;this.rdev=rdev;this.atime=this.mtime=this.ctime=Date.now()}get read(){return(this.mode&this.readMode)===this.readMode}set read(val){val?this.mode|=this.readMode:this.mode&=~this.readMode}get write(){return(this.mode&this.writeMode)===this.writeMode}set write(val){val?this.mode|=this.writeMode:this.mode&=~this.writeMode}get isFolder(){return FS.isDir(this.mode)}get isDevice(){return FS.isChrdev(this.mode)}},lookupPath(path,opts={}){if(!path){throw new FS.ErrnoError(44)}opts.follow_mount??=true;if(!PATH.isAbs(path)){path=FS.cwd()+"/"+path}linkloop:for(var nlinks=0;nlinks<40;nlinks++){var parts=path.split("/").filter(p=>!!p);var current=FS.root;var current_path="/";for(var i=0;i<parts.length;i++){var islast=i===parts.length-1;if(islast&&opts.parent){break}if(parts[i]==="."){continue}if(parts[i]===".."){current_path=PATH.dirname(current_path);if(FS.isRoot(current)){path=current_path+"/"+parts.slice(i+1).join("/");nlinks--;continue linkloop}else{current=current.parent}continue}current_path=PATH.join2(current_path,parts[i]);try{current=FS.lookupNode(current,parts[i])}catch(e){if(e?.errno===44&&islast&&opts.noent_okay){return{path:current_path}}throw e}if(FS.isMountpoint(current)&&(!islast||opts.follow_mount)){current=current.mounted.root}if(FS.isLink(current.mode)&&(!islast||opts.follow)){if(!current.node_ops.readlink){throw new FS.ErrnoError(52)}var link=current.node_ops.readlink(current);if(!PATH.isAbs(link)){link=PATH.dirname(current_path)+"/"+link}path=link+"/"+parts.slice(i+1).join("/");continue linkloop}}return{path:current_path,node:current}}throw new FS.ErrnoError(32)},getPath(node){var path;while(true){if(FS.isRoot(node)){var mount=node.mount.mountpoint;if(!path)return mount;return mount[mount.length-1]!=="/"?`${mount}/${path}`:mount+path}path=path?`${node.name}/${path}`:node.name;node=node.parent}},hashName(parentid,name){var hash=0;for(var i=0;i<name.length;i++){hash=(hash<<5)-hash+name.charCodeAt(i)|0}return(parentid+hash>>>0)%FS.nameTable.length},hashAddNode(node){var hash=FS.hashName(node.parent.id,node.name);node.name_next=FS.nameTable[hash];FS.nameTable[hash]=node},hashRemoveNode(node){var hash=FS.hashName(node.parent.id,node.name);if(FS.nameTable[hash]===node){FS.nameTable[hash]=node.name_next}else{var current=FS.nameTable[hash];while(current){if(current.name_next===node){current.name_next=node.name_next;break}current=current.name_next}}},lookupNode(parent,name){var errCode=FS.mayLookup(parent);if(errCode){throw new FS.ErrnoError(errCode)}var hash=FS.hashName(parent.id,name);for(var node=FS.nameTable[hash];node;node=node.name_next){var nodeName=node.name;if(node.parent.id===parent.id&&nodeName===name){return node}}return FS.lookup(parent,name)},createNode(parent,name,mode,rdev){var node=new FS.FSNode(parent,name,mode,rdev);FS.hashAddNode(node);return node},destroyNode(node){FS.hashRemoveNode(node)},isRoot(node){return node===node.parent},isMountpoint(node){return!!node.mounted},isFile(mode){return(mode&61440)===32768},isDir(mode){return(mode&61440)===16384},isLink(mode){return(mode&61440)===40960},isChrdev(mode){return(mode&61440)===8192},isBlkdev(mode){return(mode&61440)===24576},isFIFO(mode){return(mode&61440)===4096},isSocket(mode){return(mode&49152)===49152},flagsToPermissionString(flag){var perms=["r","w","rw"][flag&3];if(flag&512){perms+="w"}return perms},nodePermissions(node,perms){if(FS.ignorePermissions){return 0}if(perms.includes("r")&&!(node.mode&292)){return 2}else if(perms.includes("w")&&!(node.mode&146)){return 2}else if(perms.includes("x")&&!(node.mode&73)){return 2}return 0},mayLookup(dir){if(!FS.isDir(dir.mode))return 54;var errCode=FS.nodePermissions(dir,"x");if(errCode)return errCode;if(!dir.node_ops.lookup)return 2;return 0},mayCreate(dir,name){if(!FS.isDir(dir.mode)){return 54}try{var node=FS.lookupNode(dir,name);return 20}catch(e){}return FS.nodePermissions(dir,"wx")},mayDelete(dir,name,isdir){var node;try{node=FS.lookupNode(dir,name)}catch(e){return e.errno}var errCode=FS.nodePermissions(dir,"wx");if(errCode){return errCode}if(isdir){if(!FS.isDir(node.mode)){return 54}if(FS.isRoot(node)||FS.getPath(node)===FS.cwd()){return 10}}else{if(FS.isDir(node.mode)){return 31}}return 0},mayOpen(node,flags){if(!node){return 44}if(FS.isLink(node.mode)){return 32}else if(FS.isDir(node.mode)){if(FS.flagsToPermissionString(flags)!=="r"||flags&(512|64)){return 31}}return FS.nodePermissions(node,FS.flagsToPermissionString(flags))},checkOpExists(op,err){if(!op){throw new FS.ErrnoError(err)}return op},MAX_OPEN_FDS:4096,nextfd(){for(var fd=0;fd<=FS.MAX_OPEN_FDS;fd++){if(!FS.streams[fd]){return fd}}throw new FS.ErrnoError(33)},getStreamChecked(fd){var stream=FS.getStream(fd);if(!stream){throw new FS.ErrnoError(8)}return stream},getStream:fd=>FS.streams[fd],createStream(stream,fd=-1){stream=Object.assign(new FS.FSStream,stream);if(fd==-1){fd=FS.nextfd()}stream.fd=fd;FS.streams[fd]=stream;return stream},closeStream(fd){FS.streams[fd]=null},dupStream(origStream,fd=-1){var stream=FS.createStream(origStream,fd);stream.stream_ops?.dup?.(stream);return stream},doSetAttr(stream,node,attr){var setattr=stream?.stream_ops.setattr;var arg=setattr?stream:node;setattr??=node.node_ops.setattr;FS.checkOpExists(setattr,63);setattr(arg,attr)},chrdev_stream_ops:{open(stream){var device=FS.getDevice(stream.node.rdev);stream.stream_ops=device.stream_ops;stream.stream_ops.open?.(stream)},llseek(){throw new FS.ErrnoError(70)}},major:dev=>dev>>8,minor:dev=>dev&255,makedev:(ma,mi)=>ma<<8|mi,registerDevice(dev,ops){FS.devices[dev]={stream_ops:ops}},getDevice:dev=>FS.devices[dev],getMounts(mount){var mounts=[];var check=[mount];while(check.length){var m=check.pop();mounts.push(m);check.push(...m.mounts)}return mounts},syncfs(populate,callback){if(typeof populate=="function"){callback=populate;populate=false}FS.syncFSRequests++;if(FS.syncFSRequests>1){err(`warning: ${FS.syncFSRequests} FS.syncfs operations in flight at once, probably just doing extra work`)}var mounts=FS.getMounts(FS.root.mount);var completed=0;function doCallback(errCode){FS.syncFSRequests--;return callback(errCode)}function done(errCode){if(errCode){if(!done.errored){done.errored=true;return doCallback(errCode)}return}if(++completed>=mounts.length){doCallback(null)}}for(var mount of mounts){if(mount.type.syncfs){mount.type.syncfs(mount,populate,done)}else{done(null)}}},mount(type,opts,mountpoint){var root=mountpoint==="/";var pseudo=!mountpoint;var node;if(root&&FS.root){throw new FS.ErrnoError(10)}else if(!root&&!pseudo){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});mountpoint=lookup.path;node=lookup.node;if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}if(!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}}var mount={type,opts,mountpoint,mounts:[]};var mountRoot=type.mount(mount);mountRoot.mount=mount;mount.root=mountRoot;if(root){FS.root=mountRoot}else if(node){node.mounted=mount;if(node.mount){node.mount.mounts.push(mount)}}return mountRoot},unmount(mountpoint){var lookup=FS.lookupPath(mountpoint,{follow_mount:false});if(!FS.isMountpoint(lookup.node)){throw new FS.ErrnoError(28)}var node=lookup.node;var mount=node.mounted;var mounts=FS.getMounts(mount);for(var[hash,current]of Object.entries(FS.nameTable)){while(current){var next=current.name_next;if(mounts.includes(current.mount)){FS.destroyNode(current)}current=next}}node.mounted=null;var idx=node.mount.mounts.indexOf(mount);node.mount.mounts.splice(idx,1)},lookup(parent,name){return parent.node_ops.lookup(parent,name)},mknod(path,mode,dev){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);if(!name){throw new FS.ErrnoError(28)}if(name==="."||name===".."){throw new FS.ErrnoError(20)}var errCode=FS.mayCreate(parent,name);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.mknod){throw new FS.ErrnoError(63)}return parent.node_ops.mknod(parent,name,mode,dev)},statfs(path){return FS.statfsNode(FS.lookupPath(path,{follow:true}).node)},statfsStream(stream){return FS.statfsNode(stream.node)},statfsNode(node){var rtn={bsize:4096,frsize:4096,blocks:1e6,bfree:5e5,bavail:5e5,files:FS.nextInode,ffree:FS.nextInode-1,fsid:42,flags:2,namelen:255};if(node.node_ops.statfs){Object.assign(rtn,node.node_ops.statfs(node.mount.opts.root))}return rtn},create(path,mode=438){mode&=4095;mode|=32768;return FS.mknod(path,mode,0)},mkdir(path,mode=511){mode&=511|512;mode|=16384;return FS.mknod(path,mode,0)},mkdirTree(path,mode){var dirs=path.split("/");var d="";for(var dir of dirs){if(!dir)continue;if(d||PATH.isAbs(path))d+="/";d+=dir;try{FS.mkdir(d,mode)}catch(e){if(e.errno!=20)throw e}}},mkdev(path,mode,dev){if(typeof dev=="undefined"){dev=mode;mode=438}mode|=8192;return FS.mknod(path,mode,dev)},symlink(oldpath,newpath){if(!PATH_FS.resolve(oldpath)){throw new FS.ErrnoError(44)}var lookup=FS.lookupPath(newpath,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var newname=PATH.basename(newpath);var errCode=FS.mayCreate(parent,newname);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.symlink){throw new FS.ErrnoError(63)}return parent.node_ops.symlink(parent,newname,oldpath)},rename(old_path,new_path){var old_dirname=PATH.dirname(old_path);var new_dirname=PATH.dirname(new_path);var old_name=PATH.basename(old_path);var new_name=PATH.basename(new_path);var lookup,old_dir,new_dir;lookup=FS.lookupPath(old_path,{parent:true});old_dir=lookup.node;lookup=FS.lookupPath(new_path,{parent:true});new_dir=lookup.node;if(!old_dir||!new_dir)throw new FS.ErrnoError(44);if(old_dir.mount!==new_dir.mount){throw new FS.ErrnoError(75)}var old_node=FS.lookupNode(old_dir,old_name);var relative=PATH_FS.relative(old_path,new_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(28)}relative=PATH_FS.relative(new_path,old_dirname);if(relative.charAt(0)!=="."){throw new FS.ErrnoError(55)}var new_node;try{new_node=FS.lookupNode(new_dir,new_name)}catch(e){}if(old_node===new_node){return}var isdir=FS.isDir(old_node.mode);var errCode=FS.mayDelete(old_dir,old_name,isdir);if(errCode){throw new FS.ErrnoError(errCode)}errCode=new_node?FS.mayDelete(new_dir,new_name,isdir):FS.mayCreate(new_dir,new_name);if(errCode){throw new FS.ErrnoError(errCode)}if(!old_dir.node_ops.rename){throw new FS.ErrnoError(63)}if(FS.isMountpoint(old_node)||new_node&&FS.isMountpoint(new_node)){throw new FS.ErrnoError(10)}if(new_dir!==old_dir){errCode=FS.nodePermissions(old_dir,"w");if(errCode){throw new FS.ErrnoError(errCode)}}FS.hashRemoveNode(old_node);try{old_dir.node_ops.rename(old_node,new_dir,new_name);old_node.parent=new_dir}catch(e){throw e}finally{FS.hashAddNode(old_node)}},rmdir(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,true);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.rmdir){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.rmdir(parent,name);FS.destroyNode(node)},readdir(path){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var readdir=FS.checkOpExists(node.node_ops.readdir,54);return readdir(node)},unlink(path){var lookup=FS.lookupPath(path,{parent:true});var parent=lookup.node;if(!parent){throw new FS.ErrnoError(44)}var name=PATH.basename(path);var node=FS.lookupNode(parent,name);var errCode=FS.mayDelete(parent,name,false);if(errCode){throw new FS.ErrnoError(errCode)}if(!parent.node_ops.unlink){throw new FS.ErrnoError(63)}if(FS.isMountpoint(node)){throw new FS.ErrnoError(10)}parent.node_ops.unlink(parent,name);FS.destroyNode(node)},readlink(path){var lookup=FS.lookupPath(path);var link=lookup.node;if(!link){throw new FS.ErrnoError(44)}if(!link.node_ops.readlink){throw new FS.ErrnoError(28)}return link.node_ops.readlink(link)},stat(path,dontFollow){var lookup=FS.lookupPath(path,{follow:!dontFollow});var node=lookup.node;var getattr=FS.checkOpExists(node.node_ops.getattr,63);return getattr(node)},fstat(fd){var stream=FS.getStreamChecked(fd);var node=stream.node;var getattr=stream.stream_ops.getattr;var arg=getattr?stream:node;getattr??=node.node_ops.getattr;FS.checkOpExists(getattr,63);return getattr(arg)},lstat(path){return FS.stat(path,true)},doChmod(stream,node,mode,dontFollow){FS.doSetAttr(stream,node,{mode:mode&4095|node.mode&~4095,ctime:Date.now(),dontFollow})},chmod(path,mode,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChmod(null,node,mode,dontFollow)},lchmod(path,mode){FS.chmod(path,mode,true)},fchmod(fd,mode){var stream=FS.getStreamChecked(fd);FS.doChmod(stream,stream.node,mode,false)},doChown(stream,node,dontFollow){FS.doSetAttr(stream,node,{timestamp:Date.now(),dontFollow})},chown(path,uid,gid,dontFollow){var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:!dontFollow});node=lookup.node}else{node=path}FS.doChown(null,node,dontFollow)},lchown(path,uid,gid){FS.chown(path,uid,gid,true)},fchown(fd,uid,gid){var stream=FS.getStreamChecked(fd);FS.doChown(stream,stream.node,false)},doTruncate(stream,node,len){if(FS.isDir(node.mode)){throw new FS.ErrnoError(31)}if(!FS.isFile(node.mode)){throw new FS.ErrnoError(28)}var errCode=FS.nodePermissions(node,"w");if(errCode){throw new FS.ErrnoError(errCode)}FS.doSetAttr(stream,node,{size:len,timestamp:Date.now()})},truncate(path,len){if(len<0){throw new FS.ErrnoError(28)}var node;if(typeof path=="string"){var lookup=FS.lookupPath(path,{follow:true});node=lookup.node}else{node=path}FS.doTruncate(null,node,len)},ftruncate(fd,len){var stream=FS.getStreamChecked(fd);if(len<0||(stream.flags&2097155)===0){throw new FS.ErrnoError(28)}FS.doTruncate(stream,stream.node,len)},utime(path,atime,mtime){var lookup=FS.lookupPath(path,{follow:true});var node=lookup.node;var setattr=FS.checkOpExists(node.node_ops.setattr,63);setattr(node,{atime,mtime})},open(path,flags,mode=438){if(path===""){throw new FS.ErrnoError(44)}flags=typeof flags=="string"?FS_modeStringToFlags(flags):flags;if(flags&64){mode=mode&4095|32768}else{mode=0}var node;var isDirPath;if(typeof path=="object"){node=path}else{isDirPath=path.endsWith("/");var lookup=FS.lookupPath(path,{follow:!(flags&131072),noent_okay:true});node=lookup.node;path=lookup.path}var created=false;if(flags&64){if(node){if(flags&128){throw new FS.ErrnoError(20)}}else if(isDirPath){throw new FS.ErrnoError(31)}else{node=FS.mknod(path,mode|511,0);created=true}}if(!node){throw new FS.ErrnoError(44)}if(FS.isChrdev(node.mode)){flags&=~512}if(flags&65536&&!FS.isDir(node.mode)){throw new FS.ErrnoError(54)}if(!created){var errCode=FS.mayOpen(node,flags);if(errCode){throw new FS.ErrnoError(errCode)}}if(flags&512&&!created){FS.truncate(node,0)}flags&=~(128|512|131072);var stream=FS.createStream({node,path:FS.getPath(node),flags,seekable:true,position:0,stream_ops:node.stream_ops,ungotten:[],error:false});if(stream.stream_ops.open){stream.stream_ops.open(stream)}if(created){FS.chmod(node,mode&511)}if(Module["logReadFiles"]&&!(flags&1)){if(!(path in FS.readFiles)){FS.readFiles[path]=1}}return stream},close(stream){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(stream.getdents)stream.getdents=null;try{if(stream.stream_ops.close){stream.stream_ops.close(stream)}}catch(e){throw e}finally{FS.closeStream(stream.fd)}stream.fd=null},isClosed(stream){return stream.fd===null},llseek(stream,offset,whence){if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if(!stream.seekable||!stream.stream_ops.llseek){throw new FS.ErrnoError(70)}if(whence!=0&&whence!=1&&whence!=2){throw new FS.ErrnoError(28)}stream.position=stream.stream_ops.llseek(stream,offset,whence);stream.ungotten=[];return stream.position},read(stream,buffer,offset,length,position){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.read){throw new FS.ErrnoError(28)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesRead=stream.stream_ops.read(stream,buffer,offset,length,position);if(!seeking)stream.position+=bytesRead;return bytesRead},write(stream,buffer,offset,length,position,canOwn){if(length<0||position<0){throw new FS.ErrnoError(28)}if(FS.isClosed(stream)){throw new FS.ErrnoError(8)}if((stream.flags&2097155)===0){throw new FS.ErrnoError(8)}if(FS.isDir(stream.node.mode)){throw new FS.ErrnoError(31)}if(!stream.stream_ops.write){throw new FS.ErrnoError(28)}if(stream.seekable&&stream.flags&1024){FS.llseek(stream,0,2)}var seeking=typeof position!="undefined";if(!seeking){position=stream.position}else if(!stream.seekable){throw new FS.ErrnoError(70)}var bytesWritten=stream.stream_ops.write(stream,buffer,offset,length,position,canOwn);if(!seeking)stream.position+=bytesWritten;return bytesWritten},mmap(stream,length,position,prot,flags){if((prot&2)!==0&&(flags&2)===0&&(stream.flags&2097155)!==2){throw new FS.ErrnoError(2)}if((stream.flags&2097155)===1){throw new FS.ErrnoError(2)}if(!stream.stream_ops.mmap){throw new FS.ErrnoError(43)}if(!length){throw new FS.ErrnoError(28)}return stream.stream_ops.mmap(stream,length,position,prot,flags)},msync(stream,buffer,offset,length,mmapFlags){if(!stream.stream_ops.msync){return 0}return stream.stream_ops.msync(stream,buffer,offset,length,mmapFlags)},ioctl(stream,cmd,arg){if(!stream.stream_ops.ioctl){throw new FS.ErrnoError(59)}return stream.stream_ops.ioctl(stream,cmd,arg)},readFile(path,opts={}){opts.flags=opts.flags||0;opts.encoding=opts.encoding||"binary";if(opts.encoding!=="utf8"&&opts.encoding!=="binary"){abort(`Invalid encoding type "${opts.encoding}"`)}var stream=FS.open(path,opts.flags);var stat=FS.stat(path);var length=stat.size;var buf=new Uint8Array(length);FS.read(stream,buf,0,length,0);if(opts.encoding==="utf8"){buf=UTF8ArrayToString(buf)}FS.close(stream);return buf},writeFile(path,data,opts={}){opts.flags=opts.flags||577;var stream=FS.open(path,opts.flags,opts.mode);if(typeof data=="string"){data=new Uint8Array(intArrayFromString(data,true))}if(ArrayBuffer.isView(data)){FS.write(stream,data,0,data.byteLength,undefined,opts.canOwn)}else{abort("Unsupported data type")}FS.close(stream)},cwd:()=>FS.currentPath,chdir(path){var lookup=FS.lookupPath(path,{follow:true});if(lookup.node===null){throw new FS.ErrnoError(44)}if(!FS.isDir(lookup.node.mode)){throw new FS.ErrnoError(54)}var errCode=FS.nodePermissions(lookup.node,"x");if(errCode){throw new FS.ErrnoError(errCode)}FS.currentPath=lookup.path},createDefaultDirectories(){FS.mkdir("/tmp");FS.mkdir("/home");FS.mkdir("/home/web_user")},createDefaultDevices(){FS.mkdir("/dev");FS.registerDevice(FS.makedev(1,3),{read:()=>0,write:(stream,buffer,offset,length,pos)=>length,llseek:()=>0});FS.mkdev("/dev/null",FS.makedev(1,3));TTY.register(FS.makedev(5,0),TTY.default_tty_ops);TTY.register(FS.makedev(6,0),TTY.default_tty1_ops);FS.mkdev("/dev/tty",FS.makedev(5,0));FS.mkdev("/dev/tty1",FS.makedev(6,0));var randomBuffer=new Uint8Array(1024),randomLeft=0;var randomByte=()=>{if(randomLeft===0){randomFill(randomBuffer);randomLeft=randomBuffer.byteLength}return randomBuffer[--randomLeft]};FS.createDevice("/dev","random",randomByte);FS.createDevice("/dev","urandom",randomByte);FS.mkdir("/dev/shm");FS.mkdir("/dev/shm/tmp")},createSpecialDirectories(){FS.mkdir("/proc");var proc_self=FS.mkdir("/proc/self");FS.mkdir("/proc/self/fd");FS.mount({mount(){var node=FS.createNode(proc_self,"fd",16895,73);node.stream_ops={llseek:MEMFS.stream_ops.llseek};node.node_ops={lookup(parent,name){var fd=+name;var stream=FS.getStreamChecked(fd);var ret={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:()=>stream.path},id:fd+1};ret.parent=ret;return ret},readdir(){return Array.from(FS.streams.entries()).filter(([k,v])=>v).map(([k,v])=>k.toString())}};return node}},{},"/proc/self/fd")},createStandardStreams(input,output,error){if(input){FS.createDevice("/dev","stdin",input)}else{FS.symlink("/dev/tty","/dev/stdin")}if(output){FS.createDevice("/dev","stdout",null,output)}else{FS.symlink("/dev/tty","/dev/stdout")}if(error){FS.createDevice("/dev","stderr",null,error)}else{FS.symlink("/dev/tty1","/dev/stderr")}var stdin=FS.open("/dev/stdin",0);var stdout=FS.open("/dev/stdout",1);var stderr=FS.open("/dev/stderr",1)},staticInit(){FS.nameTable=new Array(4096);FS.mount(MEMFS,{},"/");FS.createDefaultDirectories();FS.createDefaultDevices();FS.createSpecialDirectories();FS.filesystems={MEMFS}},init(input,output,error){FS.initialized=true;input??=Module["stdin"];output??=Module["stdout"];error??=Module["stderr"];FS.createStandardStreams(input,output,error)},quit(){FS.initialized=false;for(var stream of FS.streams){if(stream){FS.close(stream)}}},findObject(path,dontResolveLastLink){var ret=FS.analyzePath(path,dontResolveLastLink);if(!ret.exists){return null}return ret.object},analyzePath(path,dontResolveLastLink){try{var lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});path=lookup.path}catch(e){}var ret={isRoot:false,exists:false,error:0,name:null,path:null,object:null,parentExists:false,parentPath:null,parentObject:null};try{var lookup=FS.lookupPath(path,{parent:true});ret.parentExists=true;ret.parentPath=lookup.path;ret.parentObject=lookup.node;ret.name=PATH.basename(path);lookup=FS.lookupPath(path,{follow:!dontResolveLastLink});ret.exists=true;ret.path=lookup.path;ret.object=lookup.node;ret.name=lookup.node.name;ret.isRoot=lookup.path==="/"}catch(e){ret.error=e.errno}return ret},createPath(parent,path,canRead,canWrite){parent=typeof parent=="string"?parent:FS.getPath(parent);var parts=path.split("/").reverse();while(parts.length){var part=parts.pop();if(!part)continue;var current=PATH.join2(parent,part);try{FS.mkdir(current)}catch(e){if(e.errno!=20)throw e}parent=current}return current},createFile(parent,name,properties,canRead,canWrite){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(canRead,canWrite);return FS.create(path,mode)},createDataFile(parent,name,data,canRead,canWrite,canOwn){var path=name;if(parent){parent=typeof parent=="string"?parent:FS.getPath(parent);path=name?PATH.join2(parent,name):parent}var mode=FS_getMode(canRead,canWrite);var node=FS.create(path,mode);if(data){if(typeof data=="string"){var arr=new Array(data.length);for(var i=0,len=data.length;i<len;++i)arr[i]=data.charCodeAt(i);data=arr}FS.chmod(node,mode|146);var stream=FS.open(node,577);FS.write(stream,data,0,data.length,0,canOwn);FS.close(stream);FS.chmod(node,mode)}},createDevice(parent,name,input,output){var path=PATH.join2(typeof parent=="string"?parent:FS.getPath(parent),name);var mode=FS_getMode(!!input,!!output);FS.createDevice.major??=64;var dev=FS.makedev(FS.createDevice.major++,0);FS.registerDevice(dev,{open(stream){stream.seekable=false},close(stream){if(output?.buffer?.length){output(10)}},read(stream,buffer,offset,length,pos){var bytesRead=0;for(var i=0;i<length;i++){var result;try{result=input()}catch(e){throw new FS.ErrnoError(29)}if(result===undefined&&bytesRead===0){throw new FS.ErrnoError(6)}if(result===null||result===undefined)break;bytesRead++;buffer[offset+i]=result}if(bytesRead){stream.node.atime=Date.now()}return bytesRead},write(stream,buffer,offset,length,pos){for(var i=0;i<length;i++){try{output(buffer[offset+i])}catch(e){throw new FS.ErrnoError(29)}}if(length){stream.node.mtime=stream.node.ctime=Date.now()}return i}});return FS.mkdev(path,mode,dev)},forceLoadFile(obj){if(obj.isDevice||obj.isFolder||obj.link||obj.contents)return true;if(globalThis.XMLHttpRequest){abort("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.")}else{try{obj.contents=readBinary(obj.url)}catch(e){throw new FS.ErrnoError(29)}}},createLazyFile(parent,name,url,canRead,canWrite){class LazyUint8Array{lengthKnown=false;chunks=[];get(idx){if(idx>this.length-1||idx<0){return undefined}var chunkOffset=idx%this.chunkSize;var chunkNum=idx/this.chunkSize|0;return this.getter(chunkNum)[chunkOffset]}setDataGetter(getter){this.getter=getter}cacheLength(){var xhr=new XMLHttpRequest;xhr.open("HEAD",url,false);xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))abort("Couldn\'t load "+url+". Status: "+xhr.status);var datalength=Number(xhr.getResponseHeader("Content-length"));var header;var hasByteServing=(header=xhr.getResponseHeader("Accept-Ranges"))&&header==="bytes";var usesGzip=(header=xhr.getResponseHeader("Content-Encoding"))&&header==="gzip";var chunkSize=1024*1024;if(!hasByteServing)chunkSize=datalength;var doXHR=(from,to)=>{if(from>to)abort("invalid range ("+from+", "+to+") or no bytes requested!");if(to>datalength-1)abort("only "+datalength+" bytes available! programmer error!");var xhr=new XMLHttpRequest;xhr.open("GET",url,false);if(datalength!==chunkSize)xhr.setRequestHeader("Range","bytes="+from+"-"+to);xhr.responseType="arraybuffer";if(xhr.overrideMimeType){xhr.overrideMimeType("text/plain; charset=x-user-defined")}xhr.send(null);if(!(xhr.status>=200&&xhr.status<300||xhr.status===304))abort("Couldn\'t load "+url+". Status: "+xhr.status);if(xhr.response!==undefined){return new Uint8Array(xhr.response||[])}return intArrayFromString(xhr.responseText||"",true)};var lazyArray=this;lazyArray.setDataGetter(chunkNum=>{var start=chunkNum*chunkSize;var end=(chunkNum+1)*chunkSize-1;end=Math.min(end,datalength-1);if(typeof lazyArray.chunks[chunkNum]=="undefined"){lazyArray.chunks[chunkNum]=doXHR(start,end)}if(typeof lazyArray.chunks[chunkNum]=="undefined")abort("doXHR failed!");return lazyArray.chunks[chunkNum]});if(usesGzip||!datalength){chunkSize=datalength=1;datalength=this.getter(0).length;chunkSize=datalength;out("LazyFiles on gzip forces download of the whole file when length is accessed")}this._length=datalength;this._chunkSize=chunkSize;this.lengthKnown=true}get length(){if(!this.lengthKnown){this.cacheLength()}return this._length}get chunkSize(){if(!this.lengthKnown){this.cacheLength()}return this._chunkSize}}if(globalThis.XMLHttpRequest){if(!ENVIRONMENT_IS_WORKER)abort("Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc");var lazyArray=new LazyUint8Array;var properties={isDevice:false,contents:lazyArray}}else{var properties={isDevice:false,url}}var node=FS.createFile(parent,name,properties,canRead,canWrite);if(properties.contents){node.contents=properties.contents}else if(properties.url){node.contents=null;node.url=properties.url}Object.defineProperties(node,{usedBytes:{get:function(){return this.contents.length}}});var stream_ops={};for(const[key,fn]of Object.entries(node.stream_ops)){stream_ops[key]=(...args)=>{FS.forceLoadFile(node);return fn(...args)}}function writeChunks(stream,buffer,offset,length,position){var contents=stream.node.contents;if(position>=contents.length)return 0;var size=Math.min(contents.length-position,length);if(contents.slice){for(var i=0;i<size;i++){buffer[offset+i]=contents[position+i]}}else{for(var i=0;i<size;i++){buffer[offset+i]=contents.get(position+i)}}return size}stream_ops.read=(stream,buffer,offset,length,position)=>{FS.forceLoadFile(node);return writeChunks(stream,buffer,offset,length,position)};stream_ops.mmap=(stream,length,position,prot,flags)=>{FS.forceLoadFile(node);var ptr=mmapAlloc(length);if(!ptr){throw new FS.ErrnoError(48)}writeChunks(stream,HEAP8,ptr,length,position);return{ptr,allocated:true}};node.stream_ops=stream_ops;return node}};var UTF8ToString=(ptr,maxBytesToRead,ignoreNul)=>{ptr>>>=0;return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead,ignoreNul):""};var SYSCALLS={DEFAULT_POLLMASK:5,calculateAt(dirfd,path,allowEmpty){if(PATH.isAbs(path)){return path}var dir;if(dirfd===-100){dir=FS.cwd()}else{var dirstream=SYSCALLS.getStreamFromFD(dirfd);dir=dirstream.path}if(path.length==0){if(!allowEmpty){throw new FS.ErrnoError(44)}return dir}return dir+"/"+path},writeStat(buf,stat){HEAPU32[buf>>>2>>>0]=stat.dev;HEAPU32[buf+4>>>2>>>0]=stat.mode;HEAPU32[buf+8>>>2>>>0]=stat.nlink;HEAPU32[buf+12>>>2>>>0]=stat.uid;HEAPU32[buf+16>>>2>>>0]=stat.gid;HEAPU32[buf+20>>>2>>>0]=stat.rdev;HEAP64[buf+24>>>3>>>0]=BigInt(stat.size);HEAP32[buf+32>>>2>>>0]=4096;HEAP32[buf+36>>>2>>>0]=stat.blocks;var atime=stat.atime.getTime();var mtime=stat.mtime.getTime();var ctime=stat.ctime.getTime();HEAP64[buf+40>>>3>>>0]=BigInt(Math.floor(atime/1e3));HEAPU32[buf+48>>>2>>>0]=atime%1e3*1e3*1e3;HEAP64[buf+56>>>3>>>0]=BigInt(Math.floor(mtime/1e3));HEAPU32[buf+64>>>2>>>0]=mtime%1e3*1e3*1e3;HEAP64[buf+72>>>3>>>0]=BigInt(Math.floor(ctime/1e3));HEAPU32[buf+80>>>2>>>0]=ctime%1e3*1e3*1e3;HEAP64[buf+88>>>3>>>0]=BigInt(stat.ino);return 0},writeStatFs(buf,stats){HEAPU32[buf+4>>>2>>>0]=stats.bsize;HEAPU32[buf+60>>>2>>>0]=stats.bsize;HEAP64[buf+8>>>3>>>0]=BigInt(stats.blocks);HEAP64[buf+16>>>3>>>0]=BigInt(stats.bfree);HEAP64[buf+24>>>3>>>0]=BigInt(stats.bavail);HEAP64[buf+32>>>3>>>0]=BigInt(stats.files);HEAP64[buf+40>>>3>>>0]=BigInt(stats.ffree);HEAPU32[buf+48>>>2>>>0]=stats.fsid;HEAPU32[buf+64>>>2>>>0]=stats.flags;HEAPU32[buf+56>>>2>>>0]=stats.namelen},doMsync(addr,stream,len,flags,offset){if(!FS.isFile(stream.node.mode)){throw new FS.ErrnoError(43)}if(flags&2){return 0}var buffer=HEAPU8.slice(addr,addr+len);FS.msync(stream,buffer,offset,len,flags)},getStreamFromFD(fd){var stream=FS.getStreamChecked(fd);return stream},varargs:undefined,getStr(ptr){var ret=UTF8ToString(ptr);return ret}};var INT53_MAX=9007199254740992;var INT53_MIN=-9007199254740992;var bigintToI53Checked=num=>num<INT53_MIN||num>INT53_MAX?NaN:Number(num);function ___syscall_fcntl64(fd,cmd,varargs){varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(cmd){case 0:{var arg=syscallGetVarargI();if(arg<0){return-28}while(FS.streams[arg]){arg++}var newStream;newStream=FS.dupStream(stream,arg);return newStream.fd}case 1:case 2:return 0;case 3:return stream.flags;case 4:{var arg=syscallGetVarargI();stream.flags|=arg;return 0}case 12:{var arg=syscallGetVarargP();var offset=0;HEAP16[arg+offset>>>1>>>0]=2;return 0}case 13:case 14:return 0}return-28}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_ioctl(fd,op,varargs){varargs>>>=0;SYSCALLS.varargs=varargs;try{var stream=SYSCALLS.getStreamFromFD(fd);switch(op){case 21509:{if(!stream.tty)return-59;return 0}case 21505:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcgets){var termios=stream.tty.ops.ioctl_tcgets(stream);var argp=syscallGetVarargP();HEAP32[argp>>>2>>>0]=termios.c_iflag||0;HEAP32[argp+4>>>2>>>0]=termios.c_oflag||0;HEAP32[argp+8>>>2>>>0]=termios.c_cflag||0;HEAP32[argp+12>>>2>>>0]=termios.c_lflag||0;for(var i=0;i<32;i++){HEAP8[argp+i+17>>>0]=termios.c_cc[i]||0}return 0}return 0}case 21510:case 21511:case 21512:{if(!stream.tty)return-59;return 0}case 21506:case 21507:case 21508:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tcsets){var argp=syscallGetVarargP();var c_iflag=HEAP32[argp>>>2>>>0];var c_oflag=HEAP32[argp+4>>>2>>>0];var c_cflag=HEAP32[argp+8>>>2>>>0];var c_lflag=HEAP32[argp+12>>>2>>>0];var c_cc=[];for(var i=0;i<32;i++){c_cc.push(HEAP8[argp+i+17>>>0])}return stream.tty.ops.ioctl_tcsets(stream.tty,op,{c_iflag,c_oflag,c_cflag,c_lflag,c_cc})}return 0}case 21519:{if(!stream.tty)return-59;var argp=syscallGetVarargP();HEAP32[argp>>>2>>>0]=0;return 0}case 21520:{if(!stream.tty)return-59;return-28}case 21537:case 21531:{var argp=syscallGetVarargP();return FS.ioctl(stream,op,argp)}case 21523:{if(!stream.tty)return-59;if(stream.tty.ops.ioctl_tiocgwinsz){var winsize=stream.tty.ops.ioctl_tiocgwinsz(stream.tty);var argp=syscallGetVarargP();HEAP16[argp>>>1>>>0]=winsize[0];HEAP16[argp+2>>>1>>>0]=winsize[1]}return 0}case 21524:{if(!stream.tty)return-59;return 0}case 21515:{if(!stream.tty)return-59;return 0}default:return-28}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function ___syscall_openat(dirfd,path,flags,varargs){path>>>=0;varargs>>>=0;SYSCALLS.varargs=varargs;try{path=SYSCALLS.getStr(path);path=SYSCALLS.calculateAt(dirfd,path);var mode=varargs?syscallGetVarargI():0;return FS.open(path,flags,mode).fd}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var __abort_js=()=>abort("");var runtimeKeepaliveCounter=0;var __emscripten_runtime_keepalive_clear=()=>{noExitRuntime=false;runtimeKeepaliveCounter=0};function __mmap_js(len,prot,flags,fd,offset,allocated,addr){len>>>=0;offset=bigintToI53Checked(offset);allocated>>>=0;addr>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var res=FS.mmap(stream,len,offset,prot,flags);var ptr=res.ptr;HEAP32[allocated>>>2>>>0]=res.allocated;HEAPU32[addr>>>2>>>0]=ptr;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}function __munmap_js(addr,len,prot,flags,fd,offset){addr>>>=0;len>>>=0;offset=bigintToI53Checked(offset);try{var stream=SYSCALLS.getStreamFromFD(fd);if(prot&2){SYSCALLS.doMsync(addr,stream,len,flags,offset)}}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return-e.errno}}var timers={};var handleException=e=>{if(e instanceof ExitStatus||e=="unwind"){return EXITSTATUS}quit_(1,e)};var keepRuntimeAlive=()=>noExitRuntime||runtimeKeepaliveCounter>0;var _proc_exit=code=>{EXITSTATUS=code;if(!keepRuntimeAlive()){Module["onExit"]?.(code);ABORT=true}quit_(code,new ExitStatus(code))};var exitJS=(status,implicit)=>{EXITSTATUS=status;_proc_exit(status)};var _exit=exitJS;var maybeExit=()=>{if(!keepRuntimeAlive()){try{_exit(EXITSTATUS)}catch(e){handleException(e)}}};var callUserCallback=func=>{if(ABORT){return}try{func();maybeExit()}catch(e){handleException(e)}};var _emscripten_get_now=()=>performance.now();var __setitimer_js=(which,timeout_ms)=>{if(timers[which]){clearTimeout(timers[which].id);delete timers[which]}if(!timeout_ms)return 0;var id=setTimeout(()=>{delete timers[which];callUserCallback(()=>__emscripten_timeout(which,_emscripten_get_now()))},timeout_ms);timers[which]={id,timeout_ms};return 0};var stringToUTF8=(str,outPtr,maxBytesToWrite)=>stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);var __tzset_js=function(timezone,daylight,std_name,dst_name){timezone>>>=0;daylight>>>=0;std_name>>>=0;dst_name>>>=0;var currentYear=(new Date).getFullYear();var winter=new Date(currentYear,0,1);var summer=new Date(currentYear,6,1);var winterOffset=winter.getTimezoneOffset();var summerOffset=summer.getTimezoneOffset();var stdTimezoneOffset=Math.max(winterOffset,summerOffset);HEAPU32[timezone>>>2>>>0]=stdTimezoneOffset*60;HEAP32[daylight>>>2>>>0]=Number(winterOffset!=summerOffset);var extractZone=timezoneOffset=>{var sign=timezoneOffset>=0?"-":"+";var absOffset=Math.abs(timezoneOffset);var hours=String(Math.floor(absOffset/60)).padStart(2,"0");var minutes=String(absOffset%60).padStart(2,"0");return`UTC${sign}${hours}${minutes}`};var winterName=extractZone(winterOffset);var summerName=extractZone(summerOffset);if(summerOffset<winterOffset){stringToUTF8(winterName,std_name,17);stringToUTF8(summerName,dst_name,17)}else{stringToUTF8(winterName,dst_name,17);stringToUTF8(summerName,std_name,17)}};var _emscripten_date_now=()=>Date.now();var nowIsMonotonic=1;var checkWasiClock=clock_id=>clock_id>=0&&clock_id<=3;function _clock_time_get(clk_id,ignored_precision,ptime){ignored_precision=bigintToI53Checked(ignored_precision);ptime>>>=0;if(!checkWasiClock(clk_id)){return 28}var now;if(clk_id===0){now=_emscripten_date_now()}else if(nowIsMonotonic){now=_emscripten_get_now()}else{return 52}var nsec=Math.round(now*1e3*1e3);HEAP64[ptime>>>3>>>0]=BigInt(nsec);return 0}var getHeapMax=()=>4294901760;function _emscripten_get_heap_max(){return getHeapMax()}var _emscripten_has_asyncify=()=>2;var growMemory=size=>{var oldHeapSize=wasmMemory.buffer.byteLength;var pages=(size-oldHeapSize+65535)/65536|0;try{wasmMemory.grow(pages);updateMemoryViews();return 1}catch(e){}};function _emscripten_resize_heap(requestedSize){requestedSize>>>=0;var oldSize=HEAPU8.length;var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){return false}for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignMemory(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true}}return false}var stackSave=()=>_emscripten_stack_get_current();var stackRestore=val=>__emscripten_stack_restore(val);var stackAlloc=sz=>__emscripten_stack_alloc(sz);var stringToUTF8OnStack=str=>{var size=lengthBytesUTF8(str)+1;var ret=stackAlloc(size);stringToUTF8(str,ret,size);return ret};var stringToNewUTF8=str=>{var size=lengthBytesUTF8(str)+1;var ret=_malloc(size);if(ret)stringToUTF8(str,ret,size);return ret};var wasmTableMirror=[];var getWasmTableEntry=funcPtr=>{var func=wasmTableMirror[funcPtr];if(!func){wasmTableMirror[funcPtr]=func=wasmTable.get(funcPtr);if(Asyncify.isAsyncExport(func)){wasmTableMirror[funcPtr]=func=Asyncify.makeAsyncFunction(func)}}return func};var WebGPU={Internals:{jsObjects:[],jsObjectInsert:(ptr,jsObject)=>{ptr>>>=0;WebGPU.Internals.jsObjects[ptr]=jsObject},bufferOnUnmaps:[],futures:[],futureInsert:(futureId,promise)=>{WebGPU.Internals.futures[futureId]=new Promise(resolve=>promise.finally(()=>resolve(futureId)))}},getJsObject:ptr=>{if(!ptr)return undefined;ptr>>>=0;return WebGPU.Internals.jsObjects[ptr]},importJsAdapter:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateAdapter(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsBindGroup:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateBindGroup(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsBindGroupLayout:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateBindGroupLayout(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsBuffer:(buffer,parentPtr=0)=>{assert(buffer.mapState!="pending");var mapState=buffer.mapState=="mapped"?3:1;var bufferPtr=_emwgpuCreateBuffer(parentPtr,mapState);WebGPU.Internals.jsObjectInsert(bufferPtr,buffer);if(buffer.mapState=="mapped"){WebGPU.Internals.bufferOnUnmaps[bufferPtr]=[]}return bufferPtr},importJsCommandBuffer:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateCommandBuffer(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsCommandEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateCommandEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsComputePassEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateComputePassEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsComputePipeline:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateComputePipeline(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsDevice:(device,parentPtr=0)=>{var queuePtr=_emwgpuCreateQueue(parentPtr);var devicePtr=_emwgpuCreateDevice(parentPtr,queuePtr);WebGPU.Internals.jsObjectInsert(queuePtr,device.queue);WebGPU.Internals.jsObjectInsert(devicePtr,device);return devicePtr},importJsPipelineLayout:(obj,parentPtr=0)=>{var ptr=_emwgpuCreatePipelineLayout(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsQuerySet:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateQuerySet(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsQueue:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateQueue(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderBundle:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderBundle(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderBundleEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderBundleEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderPassEncoder:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderPassEncoder(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsRenderPipeline:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateRenderPipeline(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsSampler:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateSampler(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsShaderModule:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateShaderModule(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsSurface:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateSurface(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsTexture:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateTexture(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},importJsTextureView:(obj,parentPtr=0)=>{var ptr=_emwgpuCreateTextureView(parentPtr);WebGPU.Internals.jsObjects[ptr]=obj;return ptr},errorCallback:(callback,type,message,userdata)=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(message);getWasmTableEntry(callback)(type,messagePtr,userdata);stackRestore(sp)},setStringView:(ptr,data,length)=>{HEAPU32[ptr>>>2>>>0]=data;HEAPU32[ptr+4>>>2>>>0]=length},makeStringFromStringView:stringViewPtr=>{var ptr=HEAPU32[stringViewPtr>>>2>>>0];var length=HEAPU32[stringViewPtr+4>>>2>>>0];return UTF8ToString(ptr,length)},makeStringFromOptionalStringView:stringViewPtr=>{var ptr=HEAPU32[stringViewPtr>>>2>>>0];var length=HEAPU32[stringViewPtr+4>>>2>>>0];if(!ptr){if(length===0){return""}return undefined}return UTF8ToString(ptr,length)},makeColor:ptr=>({r:HEAPF64[ptr>>>3>>>0],g:HEAPF64[ptr+8>>>3>>>0],b:HEAPF64[ptr+16>>>3>>>0],a:HEAPF64[ptr+24>>>3>>>0]}),makeExtent3D:ptr=>({width:HEAPU32[ptr>>>2>>>0],height:HEAPU32[ptr+4>>>2>>>0],depthOrArrayLayers:HEAPU32[ptr+8>>>2>>>0]}),makeOrigin3D:ptr=>({x:HEAPU32[ptr>>>2>>>0],y:HEAPU32[ptr+4>>>2>>>0],z:HEAPU32[ptr+8>>>2>>>0]}),makeTexelCopyTextureInfo:ptr=>({texture:WebGPU.getJsObject(HEAPU32[ptr>>>2>>>0]),mipLevel:HEAPU32[ptr+4>>>2>>>0],origin:WebGPU.makeOrigin3D(ptr+8),aspect:WebGPU.TextureAspect[HEAPU32[ptr+20>>>2>>>0]]}),makeTexelCopyBufferLayout:ptr=>{var bytesPerRow=HEAPU32[ptr+8>>>2>>>0];var rowsPerImage=HEAPU32[ptr+12>>>2>>>0];return{offset:HEAPU32[ptr+4>>>2>>>0]*4294967296+HEAPU32[ptr>>>2>>>0],bytesPerRow:bytesPerRow===4294967295?undefined:bytesPerRow,rowsPerImage:rowsPerImage===4294967295?undefined:rowsPerImage}},makeTexelCopyBufferInfo:ptr=>{var layoutPtr=ptr+0;var bufferCopyView=WebGPU.makeTexelCopyBufferLayout(layoutPtr);bufferCopyView["buffer"]=WebGPU.getJsObject(HEAPU32[ptr+16>>>2>>>0]);return bufferCopyView},makePassTimestampWrites:ptr=>{if(ptr===0)return undefined;return{querySet:WebGPU.getJsObject(HEAPU32[ptr+4>>>2>>>0]),beginningOfPassWriteIndex:HEAPU32[ptr+8>>>2>>>0],endOfPassWriteIndex:HEAPU32[ptr+12>>>2>>>0]}},makePipelineConstants:(constantCount,constantsPtr)=>{if(!constantCount)return;var constants={};for(var i=0;i<constantCount;++i){var entryPtr=constantsPtr+24*i;var key=WebGPU.makeStringFromStringView(entryPtr+4);constants[key]=HEAPF64[entryPtr+16>>>3>>>0]}return constants},makePipelineLayout:layoutPtr=>{if(!layoutPtr)return"auto";return WebGPU.getJsObject(layoutPtr)},makeComputeState:ptr=>{if(!ptr)return undefined;var desc={module:WebGPU.getJsObject(HEAPU32[ptr+4>>>2>>>0]),constants:WebGPU.makePipelineConstants(HEAPU32[ptr+16>>>2>>>0],HEAPU32[ptr+20>>>2>>>0]),entryPoint:WebGPU.makeStringFromOptionalStringView(ptr+8)};return desc},makeComputePipelineDesc:descriptor=>{var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),layout:WebGPU.makePipelineLayout(HEAPU32[descriptor+12>>>2>>>0]),compute:WebGPU.makeComputeState(descriptor+16)};return desc},makeRenderPipelineDesc:descriptor=>{function makePrimitiveState(psPtr){if(!psPtr)return undefined;return{topology:WebGPU.PrimitiveTopology[HEAPU32[psPtr+4>>>2>>>0]],stripIndexFormat:WebGPU.IndexFormat[HEAPU32[psPtr+8>>>2>>>0]],frontFace:WebGPU.FrontFace[HEAPU32[psPtr+12>>>2>>>0]],cullMode:WebGPU.CullMode[HEAPU32[psPtr+16>>>2>>>0]],unclippedDepth:!!HEAPU32[psPtr+20>>>2>>>0]}}function makeBlendComponent(bdPtr){if(!bdPtr)return undefined;return{operation:WebGPU.BlendOperation[HEAPU32[bdPtr>>>2>>>0]],srcFactor:WebGPU.BlendFactor[HEAPU32[bdPtr+4>>>2>>>0]],dstFactor:WebGPU.BlendFactor[HEAPU32[bdPtr+8>>>2>>>0]]}}function makeBlendState(bsPtr){if(!bsPtr)return undefined;return{alpha:makeBlendComponent(bsPtr+12),color:makeBlendComponent(bsPtr+0)}}function makeColorState(csPtr){var formatInt=HEAPU32[csPtr+4>>>2>>>0];return formatInt===0?undefined:{format:WebGPU.TextureFormat[formatInt],blend:makeBlendState(HEAPU32[csPtr+8>>>2>>>0]),writeMask:HEAPU32[csPtr+16>>>2>>>0]}}function makeColorStates(count,csArrayPtr){var states=[];for(var i=0;i<count;++i){states.push(makeColorState(csArrayPtr+24*i))}return states}function makeStencilStateFace(ssfPtr){return{compare:WebGPU.CompareFunction[HEAPU32[ssfPtr>>>2>>>0]],failOp:WebGPU.StencilOperation[HEAPU32[ssfPtr+4>>>2>>>0]],depthFailOp:WebGPU.StencilOperation[HEAPU32[ssfPtr+8>>>2>>>0]],passOp:WebGPU.StencilOperation[HEAPU32[ssfPtr+12>>>2>>>0]]}}function makeDepthStencilState(dssPtr){if(!dssPtr)return undefined;return{format:WebGPU.TextureFormat[HEAPU32[dssPtr+4>>>2>>>0]],depthWriteEnabled:!!HEAPU32[dssPtr+8>>>2>>>0],depthCompare:WebGPU.CompareFunction[HEAPU32[dssPtr+12>>>2>>>0]],stencilFront:makeStencilStateFace(dssPtr+16),stencilBack:makeStencilStateFace(dssPtr+32),stencilReadMask:HEAPU32[dssPtr+48>>>2>>>0],stencilWriteMask:HEAPU32[dssPtr+52>>>2>>>0],depthBias:HEAP32[dssPtr+56>>>2>>>0],depthBiasSlopeScale:HEAPF32[dssPtr+60>>>2>>>0],depthBiasClamp:HEAPF32[dssPtr+64>>>2>>>0]}}function makeVertexAttribute(vaPtr){return{format:WebGPU.VertexFormat[HEAPU32[vaPtr+4>>>2>>>0]],offset:HEAPU32[vaPtr+4+8>>>2>>>0]*4294967296+HEAPU32[vaPtr+8>>>2>>>0],shaderLocation:HEAPU32[vaPtr+16>>>2>>>0]}}function makeVertexAttributes(count,vaArrayPtr){var vas=[];for(var i=0;i<count;++i){vas.push(makeVertexAttribute(vaArrayPtr+i*24))}return vas}function makeVertexBuffer(vbPtr){if(!vbPtr)return undefined;var stepModeInt=HEAPU32[vbPtr+4>>>2>>>0];var attributeCountInt=HEAPU32[vbPtr+16>>>2>>>0];if(stepModeInt===0&&attributeCountInt===0){return null}return{arrayStride:HEAPU32[vbPtr+4+8>>>2>>>0]*4294967296+HEAPU32[vbPtr+8>>>2>>>0],stepMode:WebGPU.VertexStepMode[stepModeInt],attributes:makeVertexAttributes(attributeCountInt,HEAPU32[vbPtr+20>>>2>>>0])}}function makeVertexBuffers(count,vbArrayPtr){if(!count)return undefined;var vbs=[];for(var i=0;i<count;++i){vbs.push(makeVertexBuffer(vbArrayPtr+i*24))}return vbs}function makeVertexState(viPtr){if(!viPtr)return undefined;var desc={module:WebGPU.getJsObject(HEAPU32[viPtr+4>>>2>>>0]),constants:WebGPU.makePipelineConstants(HEAPU32[viPtr+16>>>2>>>0],HEAPU32[viPtr+20>>>2>>>0]),buffers:makeVertexBuffers(HEAPU32[viPtr+24>>>2>>>0],HEAPU32[viPtr+28>>>2>>>0]),entryPoint:WebGPU.makeStringFromOptionalStringView(viPtr+8)};return desc}function makeMultisampleState(msPtr){if(!msPtr)return undefined;return{count:HEAPU32[msPtr+4>>>2>>>0],mask:HEAPU32[msPtr+8>>>2>>>0],alphaToCoverageEnabled:!!HEAPU32[msPtr+12>>>2>>>0]}}function makeFragmentState(fsPtr){if(!fsPtr)return undefined;var desc={module:WebGPU.getJsObject(HEAPU32[fsPtr+4>>>2>>>0]),constants:WebGPU.makePipelineConstants(HEAPU32[fsPtr+16>>>2>>>0],HEAPU32[fsPtr+20>>>2>>>0]),targets:makeColorStates(HEAPU32[fsPtr+24>>>2>>>0],HEAPU32[fsPtr+28>>>2>>>0]),entryPoint:WebGPU.makeStringFromOptionalStringView(fsPtr+8)};return desc}var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),layout:WebGPU.makePipelineLayout(HEAPU32[descriptor+12>>>2>>>0]),vertex:makeVertexState(descriptor+16),primitive:makePrimitiveState(descriptor+48),depthStencil:makeDepthStencilState(HEAPU32[descriptor+72>>>2>>>0]),multisample:makeMultisampleState(descriptor+76),fragment:makeFragmentState(HEAPU32[descriptor+92>>>2>>>0])};return desc},fillLimitStruct:(limits,limitsOutPtr)=>{function setLimitValueU32(name,limitOffset){var limitValue=limits[name];HEAP32[limitsOutPtr+limitOffset>>>2>>>0]=limitValue}function setLimitValueU64(name,limitOffset){var limitValue=limits[name];HEAP64[limitsOutPtr+limitOffset>>>3>>>0]=BigInt(limitValue)}setLimitValueU32("maxTextureDimension1D",4);setLimitValueU32("maxTextureDimension2D",8);setLimitValueU32("maxTextureDimension3D",12);setLimitValueU32("maxTextureArrayLayers",16);setLimitValueU32("maxBindGroups",20);setLimitValueU32("maxBindGroupsPlusVertexBuffers",24);setLimitValueU32("maxBindingsPerBindGroup",28);setLimitValueU32("maxDynamicUniformBuffersPerPipelineLayout",32);setLimitValueU32("maxDynamicStorageBuffersPerPipelineLayout",36);setLimitValueU32("maxSampledTexturesPerShaderStage",40);setLimitValueU32("maxSamplersPerShaderStage",44);setLimitValueU32("maxStorageBuffersPerShaderStage",48);setLimitValueU32("maxStorageTexturesPerShaderStage",52);setLimitValueU32("maxUniformBuffersPerShaderStage",56);setLimitValueU32("minUniformBufferOffsetAlignment",80);setLimitValueU32("minStorageBufferOffsetAlignment",84);setLimitValueU64("maxUniformBufferBindingSize",64);setLimitValueU64("maxStorageBufferBindingSize",72);setLimitValueU32("maxVertexBuffers",88);setLimitValueU64("maxBufferSize",96);setLimitValueU32("maxVertexAttributes",104);setLimitValueU32("maxVertexBufferArrayStride",108);setLimitValueU32("maxInterStageShaderVariables",112);setLimitValueU32("maxColorAttachments",116);setLimitValueU32("maxColorAttachmentBytesPerSample",120);setLimitValueU32("maxComputeWorkgroupStorageSize",124);setLimitValueU32("maxComputeInvocationsPerWorkgroup",128);setLimitValueU32("maxComputeWorkgroupSizeX",132);setLimitValueU32("maxComputeWorkgroupSizeY",136);setLimitValueU32("maxComputeWorkgroupSizeZ",140);setLimitValueU32("maxComputeWorkgroupsPerDimension",144);if(limits.maxImmediateSize!==undefined){setLimitValueU32("maxImmediateSize",148)}},fillAdapterInfoStruct:(info,infoStruct)=>{HEAP32[infoStruct+52>>>2>>>0]=info.subgroupMinSize;HEAP32[infoStruct+56>>>2>>>0]=info.subgroupMaxSize;var strs=info.vendor+info.architecture+info.device+info.description;var strPtr=stringToNewUTF8(strs);var vendorLen=lengthBytesUTF8(info.vendor);WebGPU.setStringView(infoStruct+4,strPtr,vendorLen);strPtr+=vendorLen;var architectureLen=lengthBytesUTF8(info.architecture);WebGPU.setStringView(infoStruct+12,strPtr,architectureLen);strPtr+=architectureLen;var deviceLen=lengthBytesUTF8(info.device);WebGPU.setStringView(infoStruct+20,strPtr,deviceLen);strPtr+=deviceLen;var descriptionLen=lengthBytesUTF8(info.description);WebGPU.setStringView(infoStruct+28,strPtr,descriptionLen);strPtr+=descriptionLen;HEAP32[infoStruct+36>>>2>>>0]=2;var adapterType=info.isFallbackAdapter?3:4;HEAP32[infoStruct+40>>>2>>>0]=adapterType;HEAP32[infoStruct+44>>>2>>>0]=0;HEAP32[infoStruct+48>>>2>>>0]=0},AddressMode:[,"clamp-to-edge","repeat","mirror-repeat"],BlendFactor:[,"zero","one","src","one-minus-src","src-alpha","one-minus-src-alpha","dst","one-minus-dst","dst-alpha","one-minus-dst-alpha","src-alpha-saturated","constant","one-minus-constant","src1","one-minus-src1","src1alpha","one-minus-src1alpha"],BlendOperation:[,"add","subtract","reverse-subtract","min","max"],BufferBindingType:["binding-not-used",,"uniform","storage","read-only-storage"],BufferMapState:[,"unmapped","pending","mapped"],CompareFunction:[,"never","less","equal","less-equal","greater","not-equal","greater-equal","always"],CompilationInfoRequestStatus:[,"success","callback-cancelled"],CompositeAlphaMode:[,"opaque","premultiplied","unpremultiplied","inherit"],CullMode:[,"none","front","back"],ErrorFilter:[,"validation","out-of-memory","internal"],FeatureLevel:[,"compatibility","core"],FeatureName:{1:"core-features-and-limits",2:"depth-clip-control",3:"depth32float-stencil8",4:"texture-compression-bc",5:"texture-compression-bc-sliced-3d",6:"texture-compression-etc2",7:"texture-compression-astc",8:"texture-compression-astc-sliced-3d",9:"timestamp-query",10:"indirect-first-instance",11:"shader-f16",12:"rg11b10ufloat-renderable",13:"bgra8unorm-storage",14:"float32-filterable",15:"float32-blendable",16:"clip-distances",17:"dual-source-blending",18:"subgroups",19:"texture-formats-tier1",20:"texture-formats-tier2",21:"primitive-index",327692:"chromium-experimental-unorm16-texture-formats",327693:"chromium-experimental-snorm16-texture-formats",327732:"chromium-experimental-multi-draw-indirect"},FilterMode:[,"nearest","linear"],FrontFace:[,"ccw","cw"],IndexFormat:[,"uint16","uint32"],InstanceFeatureName:[,"timed-wait-any","shader-source-spirv","multiple-devices-per-adapter"],LoadOp:[,"load","clear"],MipmapFilterMode:[,"nearest","linear"],OptionalBool:["false","true"],PowerPreference:[,"low-power","high-performance"],PredefinedColorSpace:[,"srgb","display-p3"],PrimitiveTopology:[,"point-list","line-list","line-strip","triangle-list","triangle-strip"],QueryType:[,"occlusion","timestamp"],SamplerBindingType:["binding-not-used",,"filtering","non-filtering","comparison"],Status:[,"success","error"],StencilOperation:[,"keep","zero","replace","invert","increment-clamp","decrement-clamp","increment-wrap","decrement-wrap"],StorageTextureAccess:["binding-not-used",,"write-only","read-only","read-write"],StoreOp:[,"store","discard"],SurfaceGetCurrentTextureStatus:[,"success-optimal","success-suboptimal","timeout","outdated","lost","error"],TextureAspect:[,"all","stencil-only","depth-only"],TextureDimension:[,"1d","2d","3d"],TextureFormat:[,"r8unorm","r8snorm","r8uint","r8sint","r16unorm","r16snorm","r16uint","r16sint","r16float","rg8unorm","rg8snorm","rg8uint","rg8sint","r32float","r32uint","r32sint","rg16unorm","rg16snorm","rg16uint","rg16sint","rg16float","rgba8unorm","rgba8unorm-srgb","rgba8snorm","rgba8uint","rgba8sint","bgra8unorm","bgra8unorm-srgb","rgb10a2uint","rgb10a2unorm","rg11b10ufloat","rgb9e5ufloat","rg32float","rg32uint","rg32sint","rgba16unorm","rgba16snorm","rgba16uint","rgba16sint","rgba16float","rgba32float","rgba32uint","rgba32sint","stencil8","depth16unorm","depth24plus","depth24plus-stencil8","depth32float","depth32float-stencil8","bc1-rgba-unorm","bc1-rgba-unorm-srgb","bc2-rgba-unorm","bc2-rgba-unorm-srgb","bc3-rgba-unorm","bc3-rgba-unorm-srgb","bc4-r-unorm","bc4-r-snorm","bc5-rg-unorm","bc5-rg-snorm","bc6h-rgb-ufloat","bc6h-rgb-float","bc7-rgba-unorm","bc7-rgba-unorm-srgb","etc2-rgb8unorm","etc2-rgb8unorm-srgb","etc2-rgb8a1unorm","etc2-rgb8a1unorm-srgb","etc2-rgba8unorm","etc2-rgba8unorm-srgb","eac-r11unorm","eac-r11snorm","eac-rg11unorm","eac-rg11snorm","astc-4x4-unorm","astc-4x4-unorm-srgb","astc-5x4-unorm","astc-5x4-unorm-srgb","astc-5x5-unorm","astc-5x5-unorm-srgb","astc-6x5-unorm","astc-6x5-unorm-srgb","astc-6x6-unorm","astc-6x6-unorm-srgb","astc-8x5-unorm","astc-8x5-unorm-srgb","astc-8x6-unorm","astc-8x6-unorm-srgb","astc-8x8-unorm","astc-8x8-unorm-srgb","astc-10x5-unorm","astc-10x5-unorm-srgb","astc-10x6-unorm","astc-10x6-unorm-srgb","astc-10x8-unorm","astc-10x8-unorm-srgb","astc-10x10-unorm","astc-10x10-unorm-srgb","astc-12x10-unorm","astc-12x10-unorm-srgb","astc-12x12-unorm","astc-12x12-unorm-srgb"],TextureSampleType:["binding-not-used",,"float","unfilterable-float","depth","sint","uint"],TextureViewDimension:[,"1d","2d","2d-array","cube","cube-array","3d"],ToneMappingMode:[,"standard","extended"],VertexFormat:[,"uint8","uint8x2","uint8x4","sint8","sint8x2","sint8x4","unorm8","unorm8x2","unorm8x4","snorm8","snorm8x2","snorm8x4","uint16","uint16x2","uint16x4","sint16","sint16x2","sint16x4","unorm16","unorm16x2","unorm16x4","snorm16","snorm16x2","snorm16x4","float16","float16x2","float16x4","float32","float32x2","float32x3","float32x4","uint32","uint32x2","uint32x3","uint32x4","sint32","sint32x2","sint32x3","sint32x4","unorm10-10-10-2","unorm8x4-bgra"],VertexStepMode:[,"vertex","instance"],WGSLLanguageFeatureName:[,"readonly_and_readwrite_storage_textures","packed_4x8_integer_dot_product","unrestricted_pointer_parameters","pointer_composite_access"]};var emwgpuStringToInt_DeviceLostReason={undefined:1,unknown:1,destroyed:2};function _emwgpuAdapterRequestDevice(adapterPtr,futureId,deviceLostFutureId,devicePtr,queuePtr,descriptor){adapterPtr>>>=0;futureId=bigintToI53Checked(futureId);deviceLostFutureId=bigintToI53Checked(deviceLostFutureId);devicePtr>>>=0;queuePtr>>>=0;descriptor>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);var desc={};if(descriptor){var requiredFeatureCount=HEAPU32[descriptor+12>>>2>>>0];if(requiredFeatureCount){var requiredFeaturesPtr=HEAPU32[descriptor+16>>>2>>>0];desc["requiredFeatures"]=Array.from(HEAPU32.subarray(requiredFeaturesPtr>>>2>>>0,requiredFeaturesPtr+requiredFeatureCount*4>>>2>>>0),feature=>WebGPU.FeatureName[feature])}var limitsPtr=HEAPU32[descriptor+20>>>2>>>0];if(limitsPtr){var requiredLimits={};function setLimitU32IfDefined(name,limitOffset,ignoreIfZero=false){var ptr=limitsPtr+limitOffset;var value=HEAPU32[ptr>>>2>>>0];if(value!=4294967295&&(!ignoreIfZero||value!=0)){requiredLimits[name]=value}}function setLimitU64IfDefined(name,limitOffset){var ptr=limitsPtr+limitOffset;var limitPart1=HEAPU32[ptr>>>2>>>0];var limitPart2=HEAPU32[ptr+4>>>2>>>0];if(limitPart1!=4294967295||limitPart2!=4294967295){requiredLimits[name]=HEAPU32[ptr+4>>>2>>>0]*4294967296+HEAPU32[ptr>>>2>>>0]}}setLimitU32IfDefined("maxTextureDimension1D",4);setLimitU32IfDefined("maxTextureDimension2D",8);setLimitU32IfDefined("maxTextureDimension3D",12);setLimitU32IfDefined("maxTextureArrayLayers",16);setLimitU32IfDefined("maxBindGroups",20);setLimitU32IfDefined("maxBindGroupsPlusVertexBuffers",24);setLimitU32IfDefined("maxDynamicUniformBuffersPerPipelineLayout",32);setLimitU32IfDefined("maxDynamicStorageBuffersPerPipelineLayout",36);setLimitU32IfDefined("maxSampledTexturesPerShaderStage",40);setLimitU32IfDefined("maxSamplersPerShaderStage",44);setLimitU32IfDefined("maxStorageBuffersPerShaderStage",48);setLimitU32IfDefined("maxStorageTexturesPerShaderStage",52);setLimitU32IfDefined("maxUniformBuffersPerShaderStage",56);setLimitU32IfDefined("minUniformBufferOffsetAlignment",80);setLimitU32IfDefined("minStorageBufferOffsetAlignment",84);setLimitU64IfDefined("maxUniformBufferBindingSize",64);setLimitU64IfDefined("maxStorageBufferBindingSize",72);setLimitU32IfDefined("maxVertexBuffers",88);setLimitU64IfDefined("maxBufferSize",96);setLimitU32IfDefined("maxVertexAttributes",104);setLimitU32IfDefined("maxVertexBufferArrayStride",108);setLimitU32IfDefined("maxInterStageShaderVariables",112);setLimitU32IfDefined("maxColorAttachments",116);setLimitU32IfDefined("maxColorAttachmentBytesPerSample",120);setLimitU32IfDefined("maxComputeWorkgroupStorageSize",124);setLimitU32IfDefined("maxComputeInvocationsPerWorkgroup",128);setLimitU32IfDefined("maxComputeWorkgroupSizeX",132);setLimitU32IfDefined("maxComputeWorkgroupSizeY",136);setLimitU32IfDefined("maxComputeWorkgroupSizeZ",140);setLimitU32IfDefined("maxComputeWorkgroupsPerDimension",144);setLimitU32IfDefined("maxImmediateSize",148,true);desc["requiredLimits"]=requiredLimits}var defaultQueuePtr=HEAPU32[descriptor+24>>>2>>>0];if(defaultQueuePtr){var defaultQueueDesc={label:WebGPU.makeStringFromOptionalStringView(defaultQueuePtr+4)};desc["defaultQueue"]=defaultQueueDesc}desc["label"]=WebGPU.makeStringFromOptionalStringView(descriptor+4)}WebGPU.Internals.futureInsert(futureId,adapter.requestDevice(desc).then(device=>{callUserCallback(()=>{WebGPU.Internals.jsObjectInsert(queuePtr,device.queue);WebGPU.Internals.jsObjectInsert(devicePtr,device);WebGPU.Internals.futureInsert(deviceLostFutureId,device.lost.then(info=>{callUserCallback(()=>{device.onuncapturederror=ev=>{};var sp=stackSave();var messagePtr=stringToUTF8OnStack(info.message);_emwgpuOnDeviceLostCompleted(deviceLostFutureId,emwgpuStringToInt_DeviceLostReason[info.reason],messagePtr);stackRestore(sp)})}));device.onuncapturederror=ev=>{var type=5;if(ev.error instanceof GPUValidationError)type=2;else if(ev.error instanceof GPUOutOfMemoryError)type=3;else if(ev.error instanceof GPUInternalError)type=4;var sp=stackSave();var messagePtr=stringToUTF8OnStack(ev.error.message);_emwgpuOnUncapturedError(devicePtr,type,messagePtr);stackRestore(sp)};_emwgpuOnRequestDeviceCompleted(futureId,1,devicePtr,0)})},ex=>{callUserCallback(()=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(ex.message);_emwgpuOnRequestDeviceCompleted(futureId,3,devicePtr,messagePtr);if(deviceLostFutureId){_emwgpuOnDeviceLostCompleted(deviceLostFutureId,4,messagePtr)}stackRestore(sp)})}))}function _emwgpuBufferDestroy(bufferPtr){bufferPtr>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);var onUnmap=WebGPU.Internals.bufferOnUnmaps[bufferPtr];if(onUnmap){for(var i=0;i<onUnmap.length;++i){onUnmap[i]()}delete WebGPU.Internals.bufferOnUnmaps[bufferPtr]}buffer.destroy()}var warnOnce=text=>{warnOnce.shown||={};if(!warnOnce.shown[text]){warnOnce.shown[text]=1;if(ENVIRONMENT_IS_NODE)text="warning: "+text;err(text)}};function _emwgpuBufferGetConstMappedRange(bufferPtr,offset,size){bufferPtr>>>=0;offset>>>=0;size>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);if(size===0)warnOnce("getMappedRange size=0 no longer means WGPU_WHOLE_MAP_SIZE");if(size==4294967295)size=undefined;var mapped;try{mapped=buffer.getMappedRange(offset,size)}catch(ex){return 0}var data=_memalign(16,mapped.byteLength);HEAPU8.set(new Uint8Array(mapped),data>>>0);WebGPU.Internals.bufferOnUnmaps[bufferPtr].push(()=>_free(data));return data}function _emwgpuBufferGetMappedRange(bufferPtr,offset,size){bufferPtr>>>=0;offset>>>=0;size>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);if(size===0)warnOnce("getMappedRange size=0 no longer means WGPU_WHOLE_MAP_SIZE");if(size==4294967295)size=undefined;var mapped;try{mapped=buffer.getMappedRange(offset,size)}catch(ex){return 0}var data=_memalign(16,mapped.byteLength);HEAPU8.fill(0,data,mapped.byteLength);WebGPU.Internals.bufferOnUnmaps[bufferPtr].push(()=>{new Uint8Array(mapped).set(HEAPU8.subarray(data>>>0,data+mapped.byteLength>>>0));_free(data)});return data}var _emwgpuBufferMapAsync=function(bufferPtr,futureId,mode,offset,size){bufferPtr>>>=0;futureId=bigintToI53Checked(futureId);mode=bigintToI53Checked(mode);offset>>>=0;size>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);WebGPU.Internals.bufferOnUnmaps[bufferPtr]=[];if(size==4294967295)size=undefined;WebGPU.Internals.futureInsert(futureId,buffer.mapAsync(mode,offset,size).then(()=>{callUserCallback(()=>{_emwgpuOnMapAsyncCompleted(futureId,1,0)})},ex=>{callUserCallback(()=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(ex.message);var status=ex.name==="AbortError"?4:ex.name==="OperationError"?3:0;_emwgpuOnMapAsyncCompleted(futureId,status,messagePtr);delete WebGPU.Internals.bufferOnUnmaps[bufferPtr]})}))};function _emwgpuBufferUnmap(bufferPtr){bufferPtr>>>=0;var buffer=WebGPU.getJsObject(bufferPtr);var onUnmap=WebGPU.Internals.bufferOnUnmaps[bufferPtr];if(!onUnmap){return}for(var i=0;i<onUnmap.length;++i){onUnmap[i]()}delete WebGPU.Internals.bufferOnUnmaps[bufferPtr];buffer.unmap()}function _emwgpuDelete(ptr){ptr>>>=0;delete WebGPU.Internals.jsObjects[ptr]}function _emwgpuDeviceCreateBuffer(devicePtr,descriptor,bufferPtr){devicePtr>>>=0;descriptor>>>=0;bufferPtr>>>=0;var mappedAtCreation=!!HEAPU32[descriptor+32>>>2>>>0];var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),usage:HEAPU32[descriptor+16>>>2>>>0],size:HEAPU32[descriptor+4+24>>>2>>>0]*4294967296+HEAPU32[descriptor+24>>>2>>>0],mappedAtCreation};var device=WebGPU.getJsObject(devicePtr);var buffer;try{buffer=device.createBuffer(desc)}catch(ex){return false}WebGPU.Internals.jsObjectInsert(bufferPtr,buffer);if(mappedAtCreation){WebGPU.Internals.bufferOnUnmaps[bufferPtr]=[]}return true}function _emwgpuDeviceCreateShaderModule(devicePtr,descriptor,shaderModulePtr){devicePtr>>>=0;descriptor>>>=0;shaderModulePtr>>>=0;var nextInChainPtr=HEAPU32[descriptor>>>2>>>0];var sType=HEAPU32[nextInChainPtr+4>>>2>>>0];var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),code:""};switch(sType){case 2:{desc["code"]=WebGPU.makeStringFromStringView(nextInChainPtr+8);break}}var device=WebGPU.getJsObject(devicePtr);WebGPU.Internals.jsObjectInsert(shaderModulePtr,device.createShaderModule(desc))}var _emwgpuDeviceDestroy=devicePtr=>{const device=WebGPU.getJsObject(devicePtr);device.onuncapturederror=null;device.destroy()};function _emwgpuInstanceRequestAdapter(instancePtr,futureId,options,adapterPtr){instancePtr>>>=0;futureId=bigintToI53Checked(futureId);options>>>=0;adapterPtr>>>=0;var opts;if(options){var featureLevel=HEAPU32[options+4>>>2>>>0];opts={featureLevel:WebGPU.FeatureLevel[featureLevel],powerPreference:WebGPU.PowerPreference[HEAPU32[options+8>>>2>>>0]],forceFallbackAdapter:!!HEAPU32[options+12>>>2>>>0]};var nextInChainPtr=HEAPU32[options>>>2>>>0];if(nextInChainPtr!==0){var sType=HEAPU32[nextInChainPtr+4>>>2>>>0];var webxrOptions=nextInChainPtr;opts.xrCompatible=!!HEAPU32[webxrOptions+8>>>2>>>0]}}if(!("gpu"in navigator)){var sp=stackSave();var messagePtr=stringToUTF8OnStack("WebGPU not available on this browser (navigator.gpu is not available)");_emwgpuOnRequestAdapterCompleted(futureId,3,adapterPtr,messagePtr);stackRestore(sp);return}WebGPU.Internals.futureInsert(futureId,navigator.gpu.requestAdapter(opts).then(adapter=>{callUserCallback(()=>{if(adapter){WebGPU.Internals.jsObjectInsert(adapterPtr,adapter);_emwgpuOnRequestAdapterCompleted(futureId,1,adapterPtr,0)}else{var sp=stackSave();var messagePtr=stringToUTF8OnStack("WebGPU not available on this browser (requestAdapter returned null)");_emwgpuOnRequestAdapterCompleted(futureId,3,adapterPtr,messagePtr);stackRestore(sp)}})},ex=>{callUserCallback(()=>{var sp=stackSave();var messagePtr=stringToUTF8OnStack(ex.message);_emwgpuOnRequestAdapterCompleted(futureId,4,adapterPtr,messagePtr);stackRestore(sp)})}))}var _emwgpuQueueOnSubmittedWorkDone=function(queuePtr,futureId){queuePtr>>>=0;futureId=bigintToI53Checked(futureId);var queue=WebGPU.getJsObject(queuePtr);WebGPU.Internals.futureInsert(futureId,queue.onSubmittedWorkDone().then(()=>{callUserCallback(()=>{_emwgpuOnWorkDoneCompleted(futureId,1)})}))};var _emwgpuWaitAny=function(futurePtr,futureCount,timeoutMSPtr){futurePtr>>>=0;futureCount>>>=0;timeoutMSPtr>>>=0;return Asyncify.handleAsync(async()=>{var promises=[];if(timeoutMSPtr){var timeoutMS=HEAP32[timeoutMSPtr>>>2>>>0];promises.length=futureCount+1;promises[futureCount]=new Promise(resolve=>setTimeout(resolve,timeoutMS,0))}else{promises.length=futureCount}for(var i=0;i<futureCount;++i){var futureId=HEAPU32[futurePtr+i*8+4>>>2>>>0]*4294967296+HEAPU32[futurePtr+i*8>>>2>>>0];if(!(futureId in WebGPU.Internals.futures)){return futureId}promises[i]=WebGPU.Internals.futures[futureId]}const firstResolvedFuture=await Promise.race(promises);delete WebGPU.Internals.futures[firstResolvedFuture];return firstResolvedFuture})};_emwgpuWaitAny.isAsync=true;var ENV={};var getExecutableName=()=>thisProgram||"./this.program";var getEnvStrings=()=>{if(!getEnvStrings.strings){var lang=(typeof navigator=="object"&&navigator.language||"C").replace("-","_")+".UTF-8";var env={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:lang,_:getExecutableName()};for(var x in ENV){if(ENV[x]===undefined)delete env[x];else env[x]=ENV[x]}var strings=[];for(var x in env){strings.push(`${x}=${env[x]}`)}getEnvStrings.strings=strings}return getEnvStrings.strings};function _environ_get(__environ,environ_buf){__environ>>>=0;environ_buf>>>=0;var bufSize=0;var envp=0;for(var string of getEnvStrings()){var ptr=environ_buf+bufSize;HEAPU32[__environ+envp>>>2>>>0]=ptr;bufSize+=stringToUTF8(string,ptr,Infinity)+1;envp+=4}return 0}function _environ_sizes_get(penviron_count,penviron_buf_size){penviron_count>>>=0;penviron_buf_size>>>=0;var strings=getEnvStrings();HEAPU32[penviron_count>>>2>>>0]=strings.length;var bufSize=0;for(var string of strings){bufSize+=lengthBytesUTF8(string)+1}HEAPU32[penviron_buf_size>>>2>>>0]=bufSize;return 0}function _fd_close(fd){try{var stream=SYSCALLS.getStreamFromFD(fd);FS.close(stream);return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var doReadv=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>>2>>>0];var len=HEAPU32[iov+4>>>2>>>0];iov+=8;var curr=FS.read(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len)break;if(typeof offset!="undefined"){offset+=curr}}return ret};function _fd_read(fd,iov,iovcnt,pnum){iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doReadv(stream,iov,iovcnt);HEAPU32[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}function _fd_seek(fd,offset,whence,newOffset){offset=bigintToI53Checked(offset);newOffset>>>=0;try{if(isNaN(offset))return 61;var stream=SYSCALLS.getStreamFromFD(fd);FS.llseek(stream,offset,whence);HEAP64[newOffset>>>3>>>0]=BigInt(stream.position);if(stream.getdents&&offset===0&&whence===0)stream.getdents=null;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var doWritev=(stream,iov,iovcnt,offset)=>{var ret=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>>2>>>0];var len=HEAPU32[iov+4>>>2>>>0];iov+=8;var curr=FS.write(stream,HEAP8,ptr,len,offset);if(curr<0)return-1;ret+=curr;if(curr<len){break}if(typeof offset!="undefined"){offset+=curr}}return ret};function _fd_write(fd,iov,iovcnt,pnum){iov>>>=0;iovcnt>>>=0;pnum>>>=0;try{var stream=SYSCALLS.getStreamFromFD(fd);var num=doWritev(stream,iov,iovcnt);HEAPU32[pnum>>>2>>>0]=num;return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}function _random_get(buffer,size){buffer>>>=0;size>>>=0;try{randomFill(HEAPU8.subarray(buffer>>>0,buffer+size>>>0));return 0}catch(e){if(typeof FS=="undefined"||!(e.name==="ErrnoError"))throw e;return e.errno}}var emwgpuStringToInt_FeatureName={"core-features-and-limits":1,"depth-clip-control":2,"depth32float-stencil8":3,"texture-compression-bc":4,"texture-compression-bc-sliced-3d":5,"texture-compression-etc2":6,"texture-compression-astc":7,"texture-compression-astc-sliced-3d":8,"timestamp-query":9,"indirect-first-instance":10,"shader-f16":11,"rg11b10ufloat-renderable":12,"bgra8unorm-storage":13,"float32-filterable":14,"float32-blendable":15,"clip-distances":16,"dual-source-blending":17,subgroups:18,"texture-formats-tier1":19,"texture-formats-tier2":20,"primitive-index":21,"chromium-experimental-unorm16-texture-formats":327692,"chromium-experimental-snorm16-texture-formats":327693,"chromium-experimental-multi-draw-indirect":327732};function _wgpuAdapterGetFeatures(adapterPtr,supportedFeatures){adapterPtr>>>=0;supportedFeatures>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);var featuresPtr=_malloc(adapter.features.size*4);var offset=0;var numFeatures=0;for(const feature of adapter.features){var featureEnumValue=emwgpuStringToInt_FeatureName[feature];if(featureEnumValue>=0){HEAP32[featuresPtr+offset>>>2>>>0]=featureEnumValue;offset+=4;numFeatures++}}HEAPU32[supportedFeatures+4>>>2>>>0]=featuresPtr;HEAPU32[supportedFeatures>>>2>>>0]=numFeatures}function _wgpuAdapterGetInfo(adapterPtr,info){adapterPtr>>>=0;info>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);WebGPU.fillAdapterInfoStruct(adapter.info,info);return 1}function _wgpuAdapterGetLimits(adapterPtr,limitsOutPtr){adapterPtr>>>=0;limitsOutPtr>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);WebGPU.fillLimitStruct(adapter.limits,limitsOutPtr);return 1}function _wgpuAdapterHasFeature(adapterPtr,featureEnumValue){adapterPtr>>>=0;var adapter=WebGPU.getJsObject(adapterPtr);return adapter.features.has(WebGPU.FeatureName[featureEnumValue])}var _wgpuBufferGetSize=function(bufferPtr){bufferPtr>>>=0;var ret=(()=>{var buffer=WebGPU.getJsObject(bufferPtr);return buffer.size})();return BigInt(ret)};function _wgpuCommandEncoderBeginComputePass(encoderPtr,descriptor){encoderPtr>>>=0;descriptor>>>=0;var desc;if(descriptor){desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),timestampWrites:WebGPU.makePassTimestampWrites(HEAPU32[descriptor+12>>>2>>>0])}}var commandEncoder=WebGPU.getJsObject(encoderPtr);var ptr=_emwgpuCreateComputePassEncoder(0);WebGPU.Internals.jsObjectInsert(ptr,commandEncoder.beginComputePass(desc));return ptr}function _wgpuCommandEncoderCopyBufferToBuffer(encoderPtr,srcPtr,srcOffset,dstPtr,dstOffset,size){encoderPtr>>>=0;srcPtr>>>=0;srcOffset=bigintToI53Checked(srcOffset);dstPtr>>>=0;dstOffset=bigintToI53Checked(dstOffset);size=bigintToI53Checked(size);var commandEncoder=WebGPU.getJsObject(encoderPtr);var src=WebGPU.getJsObject(srcPtr);var dst=WebGPU.getJsObject(dstPtr);commandEncoder.copyBufferToBuffer(src,srcOffset,dst,dstOffset,size)}function _wgpuCommandEncoderFinish(encoderPtr,descriptor){encoderPtr>>>=0;descriptor>>>=0;var commandEncoder=WebGPU.getJsObject(encoderPtr);var ptr=_emwgpuCreateCommandBuffer(0);WebGPU.Internals.jsObjectInsert(ptr,commandEncoder.finish());return ptr}function _wgpuComputePassEncoderDispatchWorkgroups(passPtr,x,y,z){passPtr>>>=0;var pass=WebGPU.getJsObject(passPtr);pass.dispatchWorkgroups(x,y,z)}function _wgpuComputePassEncoderEnd(passPtr){passPtr>>>=0;var pass=WebGPU.getJsObject(passPtr);pass.end()}function _wgpuComputePassEncoderSetBindGroup(passPtr,groupIndex,groupPtr,dynamicOffsetCount,dynamicOffsetsPtr){passPtr>>>=0;groupPtr>>>=0;dynamicOffsetCount>>>=0;dynamicOffsetsPtr>>>=0;var pass=WebGPU.getJsObject(passPtr);var group=WebGPU.getJsObject(groupPtr);if(dynamicOffsetCount==0){pass.setBindGroup(groupIndex,group)}else{pass.setBindGroup(groupIndex,group,HEAPU32,dynamicOffsetsPtr>>>2,dynamicOffsetCount)}}function _wgpuComputePassEncoderSetPipeline(passPtr,pipelinePtr){passPtr>>>=0;pipelinePtr>>>=0;var pass=WebGPU.getJsObject(passPtr);var pipeline=WebGPU.getJsObject(pipelinePtr);pass.setPipeline(pipeline)}function _wgpuComputePipelineGetBindGroupLayout(pipelinePtr,groupIndex){pipelinePtr>>>=0;var pipeline=WebGPU.getJsObject(pipelinePtr);var ptr=_emwgpuCreateBindGroupLayout(0);WebGPU.Internals.jsObjectInsert(ptr,pipeline.getBindGroupLayout(groupIndex));return ptr}var readI53FromI64=ptr=>HEAPU32[ptr>>>2>>>0]+HEAP32[ptr+4>>>2>>>0]*4294967296;function _wgpuDeviceCreateBindGroup(devicePtr,descriptor){devicePtr>>>=0;descriptor>>>=0;function makeEntry(entryPtr){var bufferPtr=HEAPU32[entryPtr+8>>>2>>>0];var samplerPtr=HEAPU32[entryPtr+32>>>2>>>0];var textureViewPtr=HEAPU32[entryPtr+36>>>2>>>0];var binding=HEAPU32[entryPtr+4>>>2>>>0];if(bufferPtr){var size=readI53FromI64(entryPtr+24);if(size==-1)size=undefined;return{binding,resource:{buffer:WebGPU.getJsObject(bufferPtr),offset:HEAPU32[entryPtr+4+16>>>2>>>0]*4294967296+HEAPU32[entryPtr+16>>>2>>>0],size}}}else if(samplerPtr){return{binding,resource:WebGPU.getJsObject(samplerPtr)}}else{return{binding,resource:WebGPU.getJsObject(textureViewPtr)}}}function makeEntries(count,entriesPtrs){var entries=[];for(var i=0;i<count;++i){entries.push(makeEntry(entriesPtrs+40*i))}return entries}var desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4),layout:WebGPU.getJsObject(HEAPU32[descriptor+12>>>2>>>0]),entries:makeEntries(HEAPU32[descriptor+16>>>2>>>0],HEAPU32[descriptor+20>>>2>>>0])};var device=WebGPU.getJsObject(devicePtr);var ptr=_emwgpuCreateBindGroup(0);WebGPU.Internals.jsObjectInsert(ptr,device.createBindGroup(desc));return ptr}function _wgpuDeviceCreateCommandEncoder(devicePtr,descriptor){devicePtr>>>=0;descriptor>>>=0;var desc;if(descriptor){desc={label:WebGPU.makeStringFromOptionalStringView(descriptor+4)}}var device=WebGPU.getJsObject(devicePtr);var ptr=_emwgpuCreateCommandEncoder(0);WebGPU.Internals.jsObjectInsert(ptr,device.createCommandEncoder(desc));return ptr}function _wgpuDeviceCreateComputePipeline(devicePtr,descriptor){devicePtr>>>=0;descriptor>>>=0;var desc=WebGPU.makeComputePipelineDesc(descriptor);var device=WebGPU.getJsObject(devicePtr);var ptr=_emwgpuCreateComputePipeline(0);WebGPU.Internals.jsObjectInsert(ptr,device.createComputePipeline(desc));return ptr}var _wgpuQueueSubmit=function(queuePtr,commandCount,commands){queuePtr>>>=0;commandCount>>>=0;commands>>>=0;var queue=WebGPU.getJsObject(queuePtr);var cmds=Array.from(HEAP32.subarray(commands>>>2>>>0,commands+commandCount*4>>>2>>>0),id=>WebGPU.getJsObject(id));queue.submit(cmds)};function _wgpuQueueWriteBuffer(queuePtr,bufferPtr,bufferOffset,data,size){queuePtr>>>=0;bufferPtr>>>=0;bufferOffset=bigintToI53Checked(bufferOffset);data>>>=0;size>>>=0;var queue=WebGPU.getJsObject(queuePtr);var buffer=WebGPU.getJsObject(bufferPtr);var subarray=HEAPU8.subarray(data>>>0,data+size>>>0);queue.writeBuffer(buffer,bufferOffset,subarray,0,size)}var runAndAbortIfError=func=>{try{return func()}catch(e){abort(e)}};var runtimeKeepalivePush=()=>{runtimeKeepaliveCounter+=1};var runtimeKeepalivePop=()=>{runtimeKeepaliveCounter-=1};var Asyncify={instrumentWasmImports(imports){var importPattern=/^(invoke_.*|__asyncjs__.*)$/;for(let[x,original]of Object.entries(imports)){if(typeof original=="function"){let isAsyncifyImport=original.isAsync||importPattern.test(x);if(isAsyncifyImport){imports[x]=original=new WebAssembly.Suspending(original)}}}},instrumentFunction(original){var wrapper=(...args)=>original(...args);return wrapper},instrumentWasmExports(exports){var exportPattern=/^(wllama_start|wllama_action|main|__main_argc_argv)$/;Asyncify.asyncExports=new Set;var ret={};for(let[x,original]of Object.entries(exports)){if(typeof original=="function"){let isAsyncifyExport=exportPattern.test(x);if(isAsyncifyExport){Asyncify.asyncExports.add(original);original=Asyncify.makeAsyncFunction(original)}var wrapper=Asyncify.instrumentFunction(original);ret[x]=wrapper}else{ret[x]=original}}return ret},asyncExports:null,isAsyncExport(func){return Asyncify.asyncExports?.has(func)},handleAsync:async startAsync=>{try{return await startAsync()}finally{}},handleSleep:startAsync=>Asyncify.handleAsync(()=>new Promise(startAsync)),makeAsyncFunction(original){return WebAssembly.promising(original)}};var getCFunc=ident=>{var func=Module["_"+ident];return func};var writeArrayToMemory=(array,buffer)=>{HEAP8.set(array,buffer>>>0)};var ccall=(ident,returnType,argTypes,args,opts)=>{var toC={string:str=>{var ret=0;if(str!==null&&str!==undefined&&str!==0){ret=stringToUTF8OnStack(str)}return ret},array:arr=>{var ret=stackAlloc(arr.length);writeArrayToMemory(arr,ret);return ret}};function convertReturnValue(ret){if(returnType==="string"){return UTF8ToString(ret)}if(returnType==="pointer")return ret>>>0;if(returnType==="boolean")return Boolean(ret);return ret}var func=getCFunc(ident);var cArgs=[];var stack=0;if(args){for(var i=0;i<args.length;i++){var converter=toC[argTypes[i]];if(converter){if(stack===0)stack=stackSave();cArgs[i]=converter(args[i])}else{cArgs[i]=args[i]}}}var ret=func(...cArgs);function onDone(ret){if(stack!==0)stackRestore(stack);return convertReturnValue(ret)}var asyncMode=opts?.async;if(asyncMode)return ret.then(onDone);ret=onDone(ret);return ret};var cwrap=(ident,returnType,argTypes,opts)=>{var numericArgs=!argTypes||argTypes.every(type=>type==="number"||type==="boolean");var numericRet=returnType!=="string";if(numericRet&&numericArgs&&!opts){return getCFunc(ident)}return(...args)=>ccall(ident,returnType,argTypes,args,opts)};var FS_createPath=(...args)=>FS.createPath(...args);var FS_unlink=(...args)=>FS.unlink(...args);var FS_createLazyFile=(...args)=>FS.createLazyFile(...args);var FS_createDevice=(...args)=>FS.createDevice(...args);FS.createPreloadedFile=FS_createPreloadedFile;FS.preloadFile=FS_preloadFile;FS.staticInit();{if(Module["noExitRuntime"])noExitRuntime=Module["noExitRuntime"];if(Module["preloadPlugins"])preloadPlugins=Module["preloadPlugins"];if(Module["print"])out=Module["print"];if(Module["printErr"])err=Module["printErr"];if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];if(Module["arguments"])arguments_=Module["arguments"];if(Module["thisProgram"])thisProgram=Module["thisProgram"];if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].shift()()}}}Module["addRunDependency"]=addRunDependency;Module["removeRunDependency"]=removeRunDependency;Module["ccall"]=ccall;Module["cwrap"]=cwrap;Module["FS_preloadFile"]=FS_preloadFile;Module["FS_unlink"]=FS_unlink;Module["FS_createPath"]=FS_createPath;Module["FS_createDevice"]=FS_createDevice;Module["FS_createDataFile"]=FS_createDataFile;Module["FS_createLazyFile"]=FS_createLazyFile;Module["ExitStatus"]=ExitStatus;Module["addOnPostRun"]=addOnPostRun;Module["onPostRuns"]=onPostRuns;Module["callRuntimeCallbacks"]=callRuntimeCallbacks;Module["addOnPreRun"]=addOnPreRun;Module["onPreRuns"]=onPreRuns;Module["addRunDependency"]=addRunDependency;Module["runDependencies"]=runDependencies;Module["removeRunDependency"]=removeRunDependency;Module["dependenciesFulfilled"]=dependenciesFulfilled;Module["getValue"]=getValue;Module["noExitRuntime"]=noExitRuntime;Module["setValue"]=setValue;Module["___syscall_fcntl64"]=___syscall_fcntl64;Module["syscallGetVarargP"]=syscallGetVarargP;Module["syscallGetVarargI"]=syscallGetVarargI;Module["SYSCALLS"]=SYSCALLS;Module["PATH"]=PATH;Module["FS"]=FS;Module["randomFill"]=randomFill;Module["initRandomFill"]=initRandomFill;Module["PATH_FS"]=PATH_FS;Module["TTY"]=TTY;Module["UTF8ArrayToString"]=UTF8ArrayToString;Module["UTF8Decoder"]=UTF8Decoder;Module["findStringEnd"]=findStringEnd;Module["FS_stdin_getChar"]=FS_stdin_getChar;Module["FS_stdin_getChar_buffer"]=FS_stdin_getChar_buffer;Module["intArrayFromString"]=intArrayFromString;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["stringToUTF8Array"]=stringToUTF8Array;Module["MEMFS"]=MEMFS;Module["mmapAlloc"]=mmapAlloc;Module["zeroMemory"]=zeroMemory;Module["alignMemory"]=alignMemory;Module["FS_modeStringToFlags"]=FS_modeStringToFlags;Module["FS_getMode"]=FS_getMode;Module["FS_createPreloadedFile"]=FS_createPreloadedFile;Module["FS_preloadFile"]=FS_preloadFile;Module["asyncLoad"]=asyncLoad;Module["FS_createDataFile"]=FS_createDataFile;Module["getUniqueRunDependency"]=getUniqueRunDependency;Module["FS_handledByPreloadPlugin"]=FS_handledByPreloadPlugin;Module["preloadPlugins"]=preloadPlugins;Module["UTF8ToString"]=UTF8ToString;Module["bigintToI53Checked"]=bigintToI53Checked;Module["INT53_MAX"]=INT53_MAX;Module["INT53_MIN"]=INT53_MIN;Module["___syscall_ioctl"]=___syscall_ioctl;Module["___syscall_openat"]=___syscall_openat;Module["__abort_js"]=__abort_js;Module["__emscripten_runtime_keepalive_clear"]=__emscripten_runtime_keepalive_clear;Module["runtimeKeepaliveCounter"]=runtimeKeepaliveCounter;Module["__mmap_js"]=__mmap_js;Module["__munmap_js"]=__munmap_js;Module["__setitimer_js"]=__setitimer_js;Module["timers"]=timers;Module["callUserCallback"]=callUserCallback;Module["handleException"]=handleException;Module["maybeExit"]=maybeExit;Module["_exit"]=_exit;Module["exitJS"]=exitJS;Module["_proc_exit"]=_proc_exit;Module["keepRuntimeAlive"]=keepRuntimeAlive;Module["_emscripten_get_now"]=_emscripten_get_now;Module["__tzset_js"]=__tzset_js;Module["stringToUTF8"]=stringToUTF8;Module["_clock_time_get"]=_clock_time_get;Module["_emscripten_date_now"]=_emscripten_date_now;Module["nowIsMonotonic"]=nowIsMonotonic;Module["checkWasiClock"]=checkWasiClock;Module["_emscripten_get_heap_max"]=_emscripten_get_heap_max;Module["getHeapMax"]=getHeapMax;Module["_emscripten_has_asyncify"]=_emscripten_has_asyncify;Module["_emscripten_resize_heap"]=_emscripten_resize_heap;Module["growMemory"]=growMemory;Module["_emwgpuAdapterRequestDevice"]=_emwgpuAdapterRequestDevice;Module["emwgpuStringToInt_DeviceLostReason"]=emwgpuStringToInt_DeviceLostReason;Module["WebGPU"]=WebGPU;Module["stackSave"]=stackSave;Module["stackRestore"]=stackRestore;Module["stringToUTF8OnStack"]=stringToUTF8OnStack;Module["stackAlloc"]=stackAlloc;Module["stringToNewUTF8"]=stringToNewUTF8;Module["getWasmTableEntry"]=getWasmTableEntry;Module["wasmTableMirror"]=wasmTableMirror;Module["_emwgpuBufferDestroy"]=_emwgpuBufferDestroy;Module["_emwgpuBufferGetConstMappedRange"]=_emwgpuBufferGetConstMappedRange;Module["warnOnce"]=warnOnce;Module["_emwgpuBufferGetMappedRange"]=_emwgpuBufferGetMappedRange;Module["_emwgpuBufferMapAsync"]=_emwgpuBufferMapAsync;Module["_emwgpuBufferUnmap"]=_emwgpuBufferUnmap;Module["_emwgpuDelete"]=_emwgpuDelete;Module["_emwgpuDeviceCreateBuffer"]=_emwgpuDeviceCreateBuffer;Module["_emwgpuDeviceCreateShaderModule"]=_emwgpuDeviceCreateShaderModule;Module["_emwgpuDeviceDestroy"]=_emwgpuDeviceDestroy;Module["_emwgpuInstanceRequestAdapter"]=_emwgpuInstanceRequestAdapter;Module["_emwgpuQueueOnSubmittedWorkDone"]=_emwgpuQueueOnSubmittedWorkDone;Module["_emwgpuWaitAny"]=_emwgpuWaitAny;Module["_environ_get"]=_environ_get;Module["getEnvStrings"]=getEnvStrings;Module["ENV"]=ENV;Module["getExecutableName"]=getExecutableName;Module["_environ_sizes_get"]=_environ_sizes_get;Module["_fd_close"]=_fd_close;Module["_fd_read"]=_fd_read;Module["doReadv"]=doReadv;Module["_fd_seek"]=_fd_seek;Module["_fd_write"]=_fd_write;Module["doWritev"]=doWritev;Module["_random_get"]=_random_get;Module["_wgpuAdapterGetFeatures"]=_wgpuAdapterGetFeatures;Module["emwgpuStringToInt_FeatureName"]=emwgpuStringToInt_FeatureName;Module["_wgpuAdapterGetInfo"]=_wgpuAdapterGetInfo;Module["_wgpuAdapterGetLimits"]=_wgpuAdapterGetLimits;Module["_wgpuAdapterHasFeature"]=_wgpuAdapterHasFeature;Module["_wgpuBufferGetSize"]=_wgpuBufferGetSize;Module["_wgpuCommandEncoderBeginComputePass"]=_wgpuCommandEncoderBeginComputePass;Module["_wgpuCommandEncoderCopyBufferToBuffer"]=_wgpuCommandEncoderCopyBufferToBuffer;Module["_wgpuCommandEncoderFinish"]=_wgpuCommandEncoderFinish;Module["_wgpuComputePassEncoderDispatchWorkgroups"]=_wgpuComputePassEncoderDispatchWorkgroups;Module["_wgpuComputePassEncoderEnd"]=_wgpuComputePassEncoderEnd;Module["_wgpuComputePassEncoderSetBindGroup"]=_wgpuComputePassEncoderSetBindGroup;Module["_wgpuComputePassEncoderSetPipeline"]=_wgpuComputePassEncoderSetPipeline;Module["_wgpuComputePipelineGetBindGroupLayout"]=_wgpuComputePipelineGetBindGroupLayout;Module["_wgpuDeviceCreateBindGroup"]=_wgpuDeviceCreateBindGroup;Module["readI53FromI64"]=readI53FromI64;Module["_wgpuDeviceCreateCommandEncoder"]=_wgpuDeviceCreateCommandEncoder;Module["_wgpuDeviceCreateComputePipeline"]=_wgpuDeviceCreateComputePipeline;Module["_wgpuQueueSubmit"]=_wgpuQueueSubmit;Module["_wgpuQueueWriteBuffer"]=_wgpuQueueWriteBuffer;Module["Asyncify"]=Asyncify;Module["runAndAbortIfError"]=runAndAbortIfError;Module["runtimeKeepalivePush"]=runtimeKeepalivePush;Module["runtimeKeepalivePop"]=runtimeKeepalivePop;Module["ccall"]=ccall;Module["getCFunc"]=getCFunc;Module["writeArrayToMemory"]=writeArrayToMemory;Module["cwrap"]=cwrap;Module["FS_createPath"]=FS_createPath;Module["FS_unlink"]=FS_unlink;Module["FS_createLazyFile"]=FS_createLazyFile;Module["FS_createDevice"]=FS_createDevice;var _wllama_malloc,_wllama_start,_wllama_action,_wllama_exit,_wllama_debug,_main,_malloc,_free,_emwgpuCreateBindGroup,_emwgpuCreateBindGroupLayout,_emwgpuCreateCommandBuffer,_emwgpuCreateCommandEncoder,_emwgpuCreateComputePassEncoder,_emwgpuCreateComputePipeline,_emwgpuCreatePipelineLayout,_emwgpuCreateQuerySet,_emwgpuCreateRenderBundle,_emwgpuCreateRenderBundleEncoder,_emwgpuCreateRenderPassEncoder,_emwgpuCreateRenderPipeline,_emwgpuCreateSampler,_emwgpuCreateSurface,_emwgpuCreateTexture,_emwgpuCreateTextureView,_emwgpuCreateAdapter,_emwgpuCreateBuffer,_emwgpuCreateDevice,_emwgpuCreateQueue,_emwgpuCreateShaderModule,_emwgpuOnCompilationInfoCompleted,_emwgpuOnCreateComputePipelineCompleted,_emwgpuOnCreateRenderPipelineCompleted,_emwgpuOnDeviceLostCompleted,_emwgpuOnMapAsyncCompleted,_emwgpuOnPopErrorScopeCompleted,_emwgpuOnRequestAdapterCompleted,_emwgpuOnRequestDeviceCompleted,_emwgpuOnWorkDoneCompleted,_emwgpuOnUncapturedError,_emscripten_builtin_memalign,__emscripten_timeout,_memalign,___trap,__emscripten_stack_restore,__emscripten_stack_alloc,_emscripten_stack_get_current,memory,__indirect_function_table,wasmMemory,wasmTable;function assignWasmExports(wasmExports){_wllama_malloc=Module["_wllama_malloc"]=wasmExports["wllama_malloc"];_wllama_start=Module["_wllama_start"]=wasmExports["wllama_start"];_wllama_action=Module["_wllama_action"]=wasmExports["wllama_action"];_wllama_exit=Module["_wllama_exit"]=wasmExports["wllama_exit"];_wllama_debug=Module["_wllama_debug"]=wasmExports["wllama_debug"];_main=Module["_main"]=wasmExports["main"];_malloc=Module["_malloc"]=wasmExports["malloc"];_free=Module["_free"]=wasmExports["free"];_emwgpuCreateBindGroup=Module["_emwgpuCreateBindGroup"]=wasmExports["emwgpuCreateBindGroup"];_emwgpuCreateBindGroupLayout=Module["_emwgpuCreateBindGroupLayout"]=wasmExports["emwgpuCreateBindGroupLayout"];_emwgpuCreateCommandBuffer=Module["_emwgpuCreateCommandBuffer"]=wasmExports["emwgpuCreateCommandBuffer"];_emwgpuCreateCommandEncoder=Module["_emwgpuCreateCommandEncoder"]=wasmExports["emwgpuCreateCommandEncoder"];_emwgpuCreateComputePassEncoder=Module["_emwgpuCreateComputePassEncoder"]=wasmExports["emwgpuCreateComputePassEncoder"];_emwgpuCreateComputePipeline=Module["_emwgpuCreateComputePipeline"]=wasmExports["emwgpuCreateComputePipeline"];_emwgpuCreatePipelineLayout=Module["_emwgpuCreatePipelineLayout"]=wasmExports["emwgpuCreatePipelineLayout"];_emwgpuCreateQuerySet=Module["_emwgpuCreateQuerySet"]=wasmExports["emwgpuCreateQuerySet"];_emwgpuCreateRenderBundle=Module["_emwgpuCreateRenderBundle"]=wasmExports["emwgpuCreateRenderBundle"];_emwgpuCreateRenderBundleEncoder=Module["_emwgpuCreateRenderBundleEncoder"]=wasmExports["emwgpuCreateRenderBundleEncoder"];_emwgpuCreateRenderPassEncoder=Module["_emwgpuCreateRenderPassEncoder"]=wasmExports["emwgpuCreateRenderPassEncoder"];_emwgpuCreateRenderPipeline=Module["_emwgpuCreateRenderPipeline"]=wasmExports["emwgpuCreateRenderPipeline"];_emwgpuCreateSampler=Module["_emwgpuCreateSampler"]=wasmExports["emwgpuCreateSampler"];_emwgpuCreateSurface=Module["_emwgpuCreateSurface"]=wasmExports["emwgpuCreateSurface"];_emwgpuCreateTexture=Module["_emwgpuCreateTexture"]=wasmExports["emwgpuCreateTexture"];_emwgpuCreateTextureView=Module["_emwgpuCreateTextureView"]=wasmExports["emwgpuCreateTextureView"];_emwgpuCreateAdapter=Module["_emwgpuCreateAdapter"]=wasmExports["emwgpuCreateAdapter"];_emwgpuCreateBuffer=Module["_emwgpuCreateBuffer"]=wasmExports["emwgpuCreateBuffer"];_emwgpuCreateDevice=Module["_emwgpuCreateDevice"]=wasmExports["emwgpuCreateDevice"];_emwgpuCreateQueue=Module["_emwgpuCreateQueue"]=wasmExports["emwgpuCreateQueue"];_emwgpuCreateShaderModule=Module["_emwgpuCreateShaderModule"]=wasmExports["emwgpuCreateShaderModule"];_emwgpuOnCompilationInfoCompleted=Module["_emwgpuOnCompilationInfoCompleted"]=wasmExports["emwgpuOnCompilationInfoCompleted"];_emwgpuOnCreateComputePipelineCompleted=Module["_emwgpuOnCreateComputePipelineCompleted"]=wasmExports["emwgpuOnCreateComputePipelineCompleted"];_emwgpuOnCreateRenderPipelineCompleted=Module["_emwgpuOnCreateRenderPipelineCompleted"]=wasmExports["emwgpuOnCreateRenderPipelineCompleted"];_emwgpuOnDeviceLostCompleted=Module["_emwgpuOnDeviceLostCompleted"]=wasmExports["emwgpuOnDeviceLostCompleted"];_emwgpuOnMapAsyncCompleted=Module["_emwgpuOnMapAsyncCompleted"]=wasmExports["emwgpuOnMapAsyncCompleted"];_emwgpuOnPopErrorScopeCompleted=Module["_emwgpuOnPopErrorScopeCompleted"]=wasmExports["emwgpuOnPopErrorScopeCompleted"];_emwgpuOnRequestAdapterCompleted=Module["_emwgpuOnRequestAdapterCompleted"]=wasmExports["emwgpuOnRequestAdapterCompleted"];_emwgpuOnRequestDeviceCompleted=Module["_emwgpuOnRequestDeviceCompleted"]=wasmExports["emwgpuOnRequestDeviceCompleted"];_emwgpuOnWorkDoneCompleted=Module["_emwgpuOnWorkDoneCompleted"]=wasmExports["emwgpuOnWorkDoneCompleted"];_emwgpuOnUncapturedError=Module["_emwgpuOnUncapturedError"]=wasmExports["emwgpuOnUncapturedError"];_emscripten_builtin_memalign=Module["_emscripten_builtin_memalign"]=wasmExports["emscripten_builtin_memalign"];__emscripten_timeout=Module["__emscripten_timeout"]=wasmExports["_emscripten_timeout"];_memalign=Module["_memalign"]=wasmExports["memalign"];___trap=Module["___trap"]=wasmExports["__trap"];__emscripten_stack_restore=Module["__emscripten_stack_restore"]=wasmExports["_emscripten_stack_restore"];__emscripten_stack_alloc=Module["__emscripten_stack_alloc"]=wasmExports["_emscripten_stack_alloc"];_emscripten_stack_get_current=Module["_emscripten_stack_get_current"]=wasmExports["emscripten_stack_get_current"];memory=Module["memory"]=wasmMemory=wasmExports["memory"];__indirect_function_table=Module["__indirect_function_table"]=wasmTable=wasmExports["__indirect_function_table"]}var wasmImports={__syscall_fcntl64:___syscall_fcntl64,__syscall_ioctl:___syscall_ioctl,__syscall_openat:___syscall_openat,_abort_js:__abort_js,_emscripten_runtime_keepalive_clear:__emscripten_runtime_keepalive_clear,_mmap_js:__mmap_js,_munmap_js:__munmap_js,_setitimer_js:__setitimer_js,_tzset_js:__tzset_js,clock_time_get:_clock_time_get,emscripten_date_now:_emscripten_date_now,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_has_asyncify:_emscripten_has_asyncify,emscripten_resize_heap:_emscripten_resize_heap,emwgpuAdapterRequestDevice:_emwgpuAdapterRequestDevice,emwgpuBufferDestroy:_emwgpuBufferDestroy,emwgpuBufferGetConstMappedRange:_emwgpuBufferGetConstMappedRange,emwgpuBufferGetMappedRange:_emwgpuBufferGetMappedRange,emwgpuBufferMapAsync:_emwgpuBufferMapAsync,emwgpuBufferUnmap:_emwgpuBufferUnmap,emwgpuDelete:_emwgpuDelete,emwgpuDeviceCreateBuffer:_emwgpuDeviceCreateBuffer,emwgpuDeviceCreateShaderModule:_emwgpuDeviceCreateShaderModule,emwgpuDeviceDestroy:_emwgpuDeviceDestroy,emwgpuInstanceRequestAdapter:_emwgpuInstanceRequestAdapter,emwgpuQueueOnSubmittedWorkDone:_emwgpuQueueOnSubmittedWorkDone,emwgpuWaitAny:_emwgpuWaitAny,environ_get:_environ_get,environ_sizes_get:_environ_sizes_get,fd_close:_fd_close,fd_read:_fd_read,fd_seek:_fd_seek,fd_write:_fd_write,proc_exit:_proc_exit,random_get:_random_get,wgpuAdapterGetFeatures:_wgpuAdapterGetFeatures,wgpuAdapterGetInfo:_wgpuAdapterGetInfo,wgpuAdapterGetLimits:_wgpuAdapterGetLimits,wgpuAdapterHasFeature:_wgpuAdapterHasFeature,wgpuBufferGetSize:_wgpuBufferGetSize,wgpuCommandEncoderBeginComputePass:_wgpuCommandEncoderBeginComputePass,wgpuCommandEncoderCopyBufferToBuffer:_wgpuCommandEncoderCopyBufferToBuffer,wgpuCommandEncoderFinish:_wgpuCommandEncoderFinish,wgpuComputePassEncoderDispatchWorkgroups:_wgpuComputePassEncoderDispatchWorkgroups,wgpuComputePassEncoderEnd:_wgpuComputePassEncoderEnd,wgpuComputePassEncoderSetBindGroup:_wgpuComputePassEncoderSetBindGroup,wgpuComputePassEncoderSetPipeline:_wgpuComputePassEncoderSetPipeline,wgpuComputePipelineGetBindGroupLayout:_wgpuComputePipelineGetBindGroupLayout,wgpuDeviceCreateBindGroup:_wgpuDeviceCreateBindGroup,wgpuDeviceCreateCommandEncoder:_wgpuDeviceCreateCommandEncoder,wgpuDeviceCreateComputePipeline:_wgpuDeviceCreateComputePipeline,wgpuQueueSubmit:_wgpuQueueSubmit,wgpuQueueWriteBuffer:_wgpuQueueWriteBuffer};function applySignatureConversions(wasmExports){wasmExports=Object.assign({},wasmExports);var makeWrapper_pp=f=>a0=>f(a0)>>>0;var makeWrapper_ppp=f=>(a0,a1)=>f(a0,a1)>>>0;var makeWrapper_p=f=>()=>f()>>>0;wasmExports["malloc"]=makeWrapper_pp(wasmExports["malloc"]);wasmExports["emscripten_builtin_memalign"]=makeWrapper_ppp(wasmExports["emscripten_builtin_memalign"]);wasmExports["memalign"]=makeWrapper_ppp(wasmExports["memalign"]);wasmExports["_emscripten_stack_alloc"]=makeWrapper_pp(wasmExports["_emscripten_stack_alloc"]);wasmExports["emscripten_stack_get_current"]=makeWrapper_p(wasmExports["emscripten_stack_get_current"]);return wasmExports}async function callMain(){var entryFunction=_main;var argc=0;var argv=0;try{var ret=entryFunction(argc,argv);ret=await ret;exitJS(ret,true);return ret}catch(e){return handleException(e)}}function run(){if(runDependencies>0){dependenciesFulfilled=run;return}preRun();if(runDependencies>0){dependenciesFulfilled=run;return}async function doRun(){Module["calledRun"]=true;if(ABORT)return;initRuntime();preMain();Module["onRuntimeInitialized"]?.();var noInitialRun=Module["noInitialRun"]||false;if(!noInitialRun)await callMain();postRun()}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(()=>{setTimeout(()=>Module["setStatus"](""),1);doRun()},1)}else{doRun()}}var wasmExports;createWasm();run();\n';class S1{constructor(t,r=1,n,a){this.taskQueue=[],this.taskId=1,this.resultQueue=[],this.busy=!1,this.pathConfig=t,this.nbThread=r,this.multiThread=r>1,this.logger=a,this.suppressNativeLog=n}async moduleInit(t){if(!this.pathConfig["wllama.wasm"])throw new Error('"single-thread/wllama.wasm" is missing from pathConfig');let r=this.multiThread?_1:b1,n=r.replace("var Module","var ___Module");const a={pathConfig:this.pathConfig,nbThread:this.nbThread},i=[`const RUN_OPTIONS = ${JSON.stringify(a)};`,`function wModuleInit() { ${n}; return Module; }`,v1].join(`;

`);this.worker=Qc(i),this.worker.onmessage=this.onRecvMsg.bind(this),this.worker.onerror=this.logger.error;const o=await this.pushTask({verb:"module.init",args:[new Blob([r],{type:"text/javascript"})],callbackId:this.taskId++}),s=[];for(const l of t){const u=await this.fileAlloc(l.name,l.blob.size);s.push({id:u,...l})}return await Promise.all(s.map(l=>this.fileWrite(l.id,l.blob))),o}async wllamaStart(){const t=await this.pushTask({verb:"wllama.start",args:[],callbackId:this.taskId++});return this.parseResult(t)}async wllamaAction(t,r){const n=l1(r),a=await this.pushTask({verb:"wllama.action",args:[t,n],callbackId:this.taskId++});return s1(a)}async wllamaExit(){if(this.worker){const t=await this.pushTask({verb:"wllama.exit",args:[],callbackId:this.taskId++});this.parseResult(t),this.worker.terminate()}}async wllamaDebug(){const t=await this.pushTask({verb:"wllama.debug",args:[],callbackId:this.taskId++});return JSON.parse(t)}async fileAlloc(t,r){return(await this.pushTask({verb:"fs.alloc",args:[t,r],callbackId:this.taskId++})).fileId}async fileWrite(t,r){const n=r.stream().getReader();let a=0;for(;;){const{done:i,value:o}=await n.read();if(i)break;const s=o.byteLength;await this.pushTask({verb:"fs.write",args:[t,o,a],callbackId:this.taskId++},[o.buffer]),a+=s}}parseResult(t){const r=JSON.parse(t);if(r&&r.error)throw new Error("Unknown error, please see console.log");return r}pushTask(t,r){return new Promise((n,a)=>{this.taskQueue.push({resolve:n,reject:a,param:t,buffers:r}),this.runTaskLoop()})}async runTaskLoop(){if(!this.busy){for(this.busy=!0;;){const t=this.taskQueue.shift();if(!t)break;this.resultQueue.push(t),this.worker.postMessage(t.param,Qg()?void 0:{transfer:t.buffers??[]})}this.busy=!1}}onRecvMsg(t){if(!t.data)return;const{verb:r,args:n}=t.data;if(r&&r.startsWith("console.")){if(this.suppressNativeLog)return;r.endsWith("debug")&&this.logger.debug(...n),r.endsWith("log")&&this.logger.log(...n),r.endsWith("warn")&&this.logger.warn(...n),r.endsWith("error")&&this.logger.error(...n);return}else r==="signal.abort"&&this.abort(n[0]);const{callbackId:a,result:i,err:o}=t.data;if(a){const s=this.resultQueue.findIndex(l=>l.param.callbackId===a);if(s!==-1){const l=this.resultQueue.splice(s,1)[0];o?l.reject(o):l.resolve(i)}else this.logger.error(`Cannot find waiting task with callbackId = ${a}`)}}abort(t){for(;this.resultQueue.length>0;){const r=this.resultQueue.pop();if(!r)break;r.reject(new Error(`Received abort signal from llama.cpp; Message: ${t||"(empty)"}`))}}}const An="__metadata__",k1="polyfill_for_older_version";class Jg{async getNameFromURL(t){return await Zn(t,"")}async write(t,r,n){return this.writeMetadata(t,n),await Zd(t,r)}async download(t,r={}){const n=Qc(Yg);let a=!1;r.signal&&(a=r.signal.aborted,r.signal.addEventListener("abort",()=>{a=!0,n.postMessage({action:"download-abort"})}),delete r.signal);const i=await Zn(t,An),o=await Zn(t,"");return await new Promise((s,l)=>{n.postMessage({action:"download",url:t,filename:o,metadataFileName:i,options:{headers:r.headers,aborted:a}}),n.onmessage=u=>{var f;if(u.data.ok)n.terminate(),s();else if(u.data.err)n.terminate(),l(u.data.err);else if(u.data.progress){const c=u.data.progress;(f=r.progressCallback)==null||f.call(r,c)}else l(new Error("Unknown message from worker")),console.error("Unknown message from worker",u.data)}})}async open(t){return await ep(t)}async getSize(t){return await x1(t)}async getMetadata(t){const r=await ep(t,An),n=await this.getSize(t);if(!r)return n>0?{etag:k1,originalSize:n,originalURL:""}:null;try{return await new Response(r).json()}catch{return null}}async list(){const t=await Go(),r=[],n={};for await(let[a,i]of t.entries())if(i.kind==="file"&&a.startsWith(An)){const o=(await i.getFile()).stream(),s=await new Response(o).json().catch(l=>null);n[a.replace(An,"")]=s}for await(let[a,i]of t.entries())i.kind==="file"&&!a.startsWith(An)&&r.push({name:a,size:await i.getFile().then(o=>o.size),metadata:n[a]||{originalSize:(await i.getFile()).size,originalURL:"",etag:""}});return r}async clear(){await this.deleteMany(()=>!0)}async delete(t){const r=await this.getNameFromURL(t);await this.deleteMany(n=>n.name===t||n.name===r)}async deleteMany(t){const r=await Go(),n=await this.list();for(const a of n)t(a)&&r.removeEntry(a.name)}async writeMetadata(t,r){const n=new Blob([JSON.stringify(r)],{type:"text/plain"});await Zd(t,n.stream(),An)}}async function Zd(e,t,r=""){try{const n=await Zn(e,r),a=await P1(n);await a.truncate(0);const i=t.getReader();for(;;){const{done:o,value:s}=await i.read();if(o)break;await a.write(s)}await a.close()}catch(n){console.error("opfsWrite",n)}}async function ep(e,t=""){const r=async i=>{try{return await(await(await Go()).getFileHandle(i)).getFile()}catch{return null}};let n=await r(e);if(n)return n;const a=await Zn(e,t);return n=await r(a),n}async function x1(e,t=""){try{const r=await Go(),n=await Zn(e,t);return(await(await r.getFileHandle(n)).getFile()).size}catch{return-1}}async function Zn(e,t){const r=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(e)),a=Array.from(new Uint8Array(r)).map(i=>i.toString(16).padStart(2,"0")).join("");return`${t}${a}_${e.split("/").pop()}`}async function Go(){return await(await navigator.storage.getDirectory()).getDirectoryHandle("cache",{create:!0})}async function P1(e){const t=Qc(Yg);let r,n;t.onmessage=i=>{i.data.ok?r(null):i.data.err&&n(i.data.err)};const a=i=>new Promise((o,s)=>{r=o,n=s,t.postMessage(i,Qg()?void 0:{transfer:i.value?[i.value.buffer]:[]})});return await a({open:e}),{truncate:async()=>{},write:i=>a({value:i}),close:async()=>{await a({done:!0}),t.terminate()}}}const E1=3;class _u{constructor(t,r,n){this.modelManager=t,this.url=r,n?(this.files=this.getAllFiles(n),this.size=rl(this.files.map(a=>a.metadata.originalSize))):(this.files=[],this.size=0)}async open(){if(this.size===-1)throw new ue("Model is deleted from the cache; Call ModelManager.downloadModel to re-download the model","load_error");const t=[];for(const r of this.files){const n=await this.modelManager.cacheManager.open(r.name);if(!n)throw new Error(`Failed to open file ${r.name}; Hint: the model may be invalid, please refresh it`);t.push(n)}return t}validate(){const t=fn.parseModelUrl(this.url).length;if(this.size===-1)return"deleted";if(this.size<16||this.files.length!==t)return"invalid";for(const r of this.files)if(!r.metadata||r.metadata.originalSize!==r.size)return"invalid";return"valid"}async refresh(t={}){const r=fn.parseModelUrl(this.url),n=r.map((u,f)=>({url:u,index:f}));this.modelManager.logger.debug("Downloading model files:",r);const a=this.modelManager.params.parallelDownloads??E1,i=await this.getTotalDownloadSize(r),o=[],s=async()=>{for(;n.length>0;){const u=n.shift();if(!u)break;await this.modelManager.cacheManager.download(u.url,{...t,progressCallback:({loaded:f})=>{var c;o[u.index]=f,(c=t.progressCallback)==null||c.call(t,{loaded:rl(o),total:i})}})}},l=[];for(let u=0;u<a;u++)l.push(s()),o.push(0);await Promise.all(l),this.files=this.getAllFiles(await this.modelManager.cacheManager.list()),this.size=this.files.reduce((u,f)=>u+f.metadata.originalSize,0)}async remove(){this.files=this.getAllFiles(await this.modelManager.cacheManager.list()),await this.modelManager.cacheManager.deleteMany(t=>!!this.files.find(r=>r.name===t.name)),this.size=-1}getAllFiles(t){const r=new Set(fn.parseModelUrl(this.url)),n=[];for(const a of r){const i=t.find(o=>o.metadata.originalURL===a);if(!i)throw new Error(`Model file not found: ${a}`);n.push(i)}return n.sort((a,i)=>a.metadata.originalURL.localeCompare(i.metadata.originalURL)),n}async getTotalDownloadSize(t){const n=(await Promise.all(t.map(a=>fetch(a,{method:"HEAD"})))).map(a=>Number(a.headers.get("content-length")||"0"));return rl(n)}}class fn{constructor(t={}){this.cacheManager=t.cacheManager||new Jg,this.params=t,this.logger=t.logger||console}static parseModelUrl(t){if(Array.isArray(t))return t;const r=/-(\d{5})-of-(\d{5})\.gguf(?:\?.*)?$/,n=t.match(/\.gguf(\?.*)?$/),a=(n==null?void 0:n[1])??"",i=t.match(r);if(!i)return[t];const o=t.replace(r,""),s=i[2];return Array.from({length:Number(s)},(u,f)=>(f+1).toString().padStart(5,"0")).map(u=>`${o}-${u}-of-${s}.gguf${a}`)}async getModels(t={}){const r=await this.cacheManager.list();let n=[];for(const a of r){const i=fn.parseModelUrl(a.metadata.originalURL);(i.length===1||i[0]===a.metadata.originalURL)&&n.push(new _u(this,a.metadata.originalURL,r))}return t.includeInvalid||(n=n.filter(a=>a.validate()==="valid")),n}async downloadModel(t,r={}){if(!qc(t))throw new ue(`Invalid model URL: ${t}; URL must ends with ".gguf"`,"download_error");const n=new _u(this,t,void 0);return n.validate()!=="valid"&&await n.refresh(r),n}async getModelOrDownload(t,r={}){var i;const a=(await this.getModels()).find(o=>o.url===t);return a?((i=r.progressCallback)==null||i.call(r,{loaded:a.size,total:a.size}),a):this.downloadModel(t,r)}async clear(){await this.cacheManager.clear()}}const F1=/^([a-zA-Z0-9_\-\.]+)\/([a-zA-Z0-9_\-\.]+)$/,C1="Hugging Face model ID is incorrect. Only regular alphanumeric characters, '-', '.' and '_' supported";class ue extends Error{constructor(t,r="unknown_error"){super(t),this.type=r}}class tp extends Error{constructor(){super("Operation aborted"),this.name="AbortError"}}class Yc{constructor(t,r={}){if(this.proxy=null,this.useMultiThread=!1,this.useWebGPU=!1,this.nbThreads=1,this.useEmbeddings=!1,this.loadedContextInfo=null,this.bosToken=-1,this.eosToken=-1,this.eotToken=-1,this.eogTokens=new Set,this.addBosToken=!1,this.addEosToken=!1,this.samplingConfig={},this.hasEncoder=!1,this.decoderStartToken=-1,this.nCachedTokens=0,h1(),!t)throw new ue("AssetsPathConfig is required");this.pathConfig=t,this.config=r,this.cacheManager=r.cacheManager??new Jg,this.modelManager=r.modelManager??new fn({cacheManager:this.cacheManager,logger:r.logger??console,parallelDownloads:r.parallelDownloads,allowOffline:r.allowOffline})}logger(){return this.config.logger??console}checkModelLoaded(){if(!this.isModelLoaded())throw new ue("loadModel() is not yet called","model_not_loaded")}static getLibllamaVersion(){return y1}isModelLoaded(){return!!this.proxy&&!!this.metadata}getBOS(){return this.bosToken}getEOS(){return this.eosToken}getEOT(){return this.eotToken}isTokenEOG(t){return t===this.eosToken||t===this.eotToken||this.eogTokens.has(t)}getDecoderStartToken(){return this.decoderStartToken}getModelMetadata(){return this.checkModelLoaded(),this.metadata}isMultithread(){return this.checkModelLoaded(),this.useMultiThread}getNumThreads(){return this.checkModelLoaded(),this.nbThreads}usingWebGPU(){return this.checkModelLoaded(),this.useWebGPU}isEncoderDecoderArchitecture(){return this.checkModelLoaded(),this.hasEncoder}mustAddBosToken(){return this.checkModelLoaded(),this.addBosToken}mustAddEosToken(){return this.checkModelLoaded(),this.addEosToken}getChatTemplate(){return this.checkModelLoaded(),this.chatTemplate??null}async loadModelFromUrl(t,r={}){const n=qg(t)?t:t[0],o=await(r.useCache??!0?await this.modelManager.getModelOrDownload(n,r):await this.modelManager.downloadModel(n,r)).open();return await this.loadModel(o,r)}async loadModelFromHF(t,r,n={}){if(!t.match(F1))throw new ue(C1,"download_error");if(!qc(r))throw new ue("Only GGUF file is supported","download_error");return await this.loadModelFromUrl(`https://huggingface.co/${t}/resolve/main/${r}`,n)}async loadModel(t,r={}){const n=t instanceof _u?await t.open():[...t];if(n.some(u=>u.size===0))throw new ue("Input model (or splits) must be non-empty Blob or File","load_error");if(f1(n),this.proxy)throw new ue("Module is already initialized","load_error");if(this.config.preferWebGPU&&(navigator.gpu?this.useWebGPU=!0:this.logger().warn("WebGPU backend requested but WebGPU is not available, falling back to CPU")),await d1())if(this.pathConfig["multi-thread/wllama.wasm"]){const u=Math.floor((navigator.hardwareConcurrency||1)/2);this.nbThreads=r.n_threads??u,this.nbThreads>1?this.useMultiThread=!0:this.logger().warn("Falling back single-thread due to n_threads configuration or limited hardware concurrency")}else this.logger().warn('Missing paths to "multi-thread/wllama.wasm", falling back to single-thread');else this.logger().warn("Multi-threads are not supported in this environment, falling back to single-thread");this.useWebGPU&&(this.logger().warn("Disabling multi-threading when using WebGPU backend"),this.useMultiThread=!1,this.nbThreads=1);const a=this.useMultiThread?{"wllama.wasm":Xd(this.pathConfig["multi-thread/wllama.wasm"])}:{"wllama.wasm":Xd(this.pathConfig["single-thread/wllama.wasm"])};this.proxy=new S1(a,this.nbThreads,this.config.suppressNativeLog??!1,this.logger());const i=n.map((u,f)=>({name:`model-${f}.gguf`,blob:u}));await this.proxy.moduleInit(i);const o=await this.proxy.wllamaStart();if(!o.success)throw new ue(`Error while calling start function, result = ${o}`);const s=await this.proxy.wllamaAction("load",{_name:"load_req",use_mmap:!0,use_mlock:!0,use_webgpu:this.useWebGPU,n_gpu_layers:this.useWebGPU?999:0,no_perf:this.config.noPerf??!1,seed:r.seed||Math.floor(Math.random()*1e5),n_ctx:r.n_ctx||1024,n_threads:this.nbThreads,n_ctx_auto:!1,model_paths:i.map(u=>`models/${u.name}`),embeddings:r.embeddings,offload_kqv:r.offload_kqv,n_batch:r.n_batch,pooling_type:r.pooling_type,rope_scaling_type:r.rope_scaling_type,rope_freq_base:r.rope_freq_base,rope_freq_scale:r.rope_freq_scale,yarn_ext_factor:r.yarn_ext_factor,yarn_attn_factor:r.yarn_attn_factor,yarn_beta_fast:r.yarn_beta_fast,yarn_beta_slow:r.yarn_beta_slow,yarn_orig_ctx:r.yarn_orig_ctx,cache_type_k:r.cache_type_k,cache_type_v:r.cache_type_v,n_seq_max:1,flash_attn:r.flash_attn,swa_full:!0}),l={...s,metadata:{}};for(let u=0;u<s.metadata_key.length;u++)l.metadata[s.metadata_key[u]]=s.metadata_val[u];this.bosToken=l.token_bos,this.eosToken=l.token_eos,this.eotToken=l.token_eot,this.useEmbeddings=!!r.embeddings,this.metadata={hparams:{nVocab:l.n_vocab,nCtxTrain:l.n_ctx_train,nEmbd:l.n_embd,nLayer:l.n_layer},meta:l.metadata},this.hasEncoder=!!l.has_encoder,this.decoderStartToken=l.token_decoder_start,this.addBosToken=l.add_bos_token,this.addEosToken=l.add_eos_token,this.chatTemplate=l.metadata["tokenizer.chat_template"],this.loadedContextInfo=l,this.eogTokens=new Set(l.list_tokens_eog),this.logger().debug({loadedCtxInfo:l})}getLoadedContextInfo(){if(this.checkModelLoaded(),!this.loadedContextInfo)throw new ue("Loaded context info is not available");return{...this.loadedContextInfo}}async createEmbedding(t,r={}){this.checkModelLoaded();const n={skipBOS:!1,skipEOS:!1,...r};await this.samplingInit(this.samplingConfig),await this.kvClear();const a=await this.tokenize(t);return this.bosToken&&!n.skipBOS&&a.unshift(this.bosToken),this.eosToken&&!n.skipEOS&&a.push(this.eosToken),await this.embeddings(a)}async createChatCompletion(t,r){const n=await this.formatChat(t,!0);return r.stream?await this.createCompletionGenerator(n,r):await this.createCompletion(n,{...r,stream:!1})}async createCompletion(t,r){return r.stream?await this.createCompletionGenerator(t,r):await this.createCompletionImpl(t,{...r,stream:!1})}async createCompletionImpl(t,r){var l;this.checkModelLoaded(),this.samplingConfig=r.sampling??{},await this.samplingInit(this.samplingConfig);const n=new Set(r.stopTokens??[]);let a=await this.tokenize(t,!0);this.addBosToken&&a[0]!==this.bosToken&&a.unshift(this.bosToken),r.useCache?a=await this.computeNonCachedTokens(a):await this.kvClear(),await this.samplingAccept(a),this.isEncoderDecoderArchitecture()?(await this.encode(a),await this.decode([this.getDecoderStartToken()],{})):await this.decode(a,{});let i=new Uint8Array,o=!1;const s=()=>{o=!0};for(let u=0;u<(r.nPredict??1/0);u++){const f=await this.samplingSample();if(this.isTokenEOG(f.token)||n.has(f.token)||(i=u1([i,f.piece]),r.onNewToken&&r.onNewToken(f.token,f.piece,tl(i),{abortSignal:s}),o||(l=r.abortSignal)!=null&&l.aborted))break;await this.samplingAccept([f.token]),await this.decode([f.token],{})}return tl(i)}createCompletionGenerator(t,r){return new Promise((n,a)=>{const i=w1(o=>{this.createCompletionImpl(t,{...r,onNewToken:(s,l,u)=>{o({token:s,piece:l,currentText:u},!1)}}).catch(a).then(()=>{o(void 0,!0)})});n(i())})}async samplingInit(t,r=[]){this.checkModelLoaded(),this.samplingConfig=t;const n=t.logit_bias??[],a=n.map(s=>s.token),i=n.map(s=>s.bias);if(!(await this.proxy.wllamaAction("sampling_init",{_name:"sint_req",...t,logit_bias_toks:a,logit_bias_vals:i,tokens:r})).success)throw new ue("Failed to initialize sampling")}async getVocab(){return this.checkModelLoaded(),(await this.proxy.wllamaAction("get_vocab",{_name:"gvoc_req"})).vocab}async lookupToken(t){this.checkModelLoaded();const r=await this.proxy.wllamaAction("lookup_token",{_name:"lkup_req",piece:t});return r.success?r.token:-1}async tokenize(t,r=!0){return this.checkModelLoaded(),(await this.proxy.wllamaAction("tokenize",{_name:"tokn_req",text:t,special:!!r})).tokens}async detokenize(t,r=!1){this.checkModelLoaded();const n=await this.proxy.wllamaAction("detokenize",{_name:"dtkn_req",tokens:t});return r?tl(n.buffer):n.buffer}async decode(t,r){var i;if(this.checkModelLoaded(),this.useEmbeddings)throw new ue("embeddings is enabled. Use wllama.setOptions({ embeddings: false }) to disable it.");if(t.length===0)return{nPast:this.nCachedTokens};if(this.nCachedTokens+t.length>this.loadedContextInfo.n_ctx)throw new ue("Running out of context cache. Please increase n_ctx when loading the model","kv_cache_full");const n=this.breakTokensIntoBatches(t,this.loadedContextInfo.n_batch);let a;for(let o=0;o<n.length;o++){if((i=r==null?void 0:r.abortSignal)!=null&&i.aborted)throw new tp;const s=n.length>1&&o<n.length-1;if(a=await this.proxy.wllamaAction("decode",{_name:"deco_req",tokens:n[o],skip_logits:r.skipLogits||s}),a.error)throw new ue(a.error);if(!a.success)throw new ue("Cannot encode, unknown error")}return this.nCachedTokens=a.n_past,{nPast:a.n_past}}async encode(t,r){var i;if(this.checkModelLoaded(),!this.hasEncoder)throw new ue("This model does not use encoder-decoder architecture.","inference_error");if(this.useEmbeddings)throw new ue("embeddings is enabled. Use wllama.setOptions({ embeddings: false }) to disable it.","inference_error");if(t.length===0)return{nPast:this.nCachedTokens};if(this.nCachedTokens+t.length>this.loadedContextInfo.n_ctx)throw new ue("Running out of context cache. Please increase n_ctx when loading the model","kv_cache_full");const n=this.breakTokensIntoBatches(t,this.loadedContextInfo.n_batch);let a;for(let o=0;o<n.length;o++){if((i=r==null?void 0:r.abortSignal)!=null&&i.aborted)throw new tp;if(a=await this.proxy.wllamaAction("encode",{_name:"enco_req",tokens:n[o]}),a.error)throw new ue(a.error);if(!a.success)throw new ue("Cannot encode, unknown error")}return this.nCachedTokens=a.n_past,{nPast:a.n_past}}breakTokensIntoBatches(t,r){const n=[];for(let a=0;a<t.length;a+=r)n.push(t.slice(a,a+r));return n}async samplingSample(){this.checkModelLoaded();const t=await this.proxy.wllamaAction("sampling_sample",{_name:"ssam_req"});return{piece:t.piece,token:t.token}}async samplingAccept(t){if(this.checkModelLoaded(),!(await this.proxy.wllamaAction("sampling_accept",{_name:"sacc_req",tokens:t})).success)throw new ue("samplingAccept unknown error")}async getLogits(t=40){this.checkModelLoaded();const r=await this.proxy.wllamaAction("get_logits",{_name:"glog_req",top_k:t}),n=[];for(let a=0;a<r.tokens.length;a++)n.push({token:r.tokens[a],p:r.probs[a]});return n}async embeddings(t){if(this.checkModelLoaded(),!this.useEmbeddings)throw new ue("embeddings is disabled. Use wllama.setOptions({ embeddings: true }) to enable it.","inference_error");if(this.nCachedTokens>0&&this.logger().warn("Embeddings: KV cache is not empty, this may produce incorrect results"),this.nCachedTokens+t.length>this.loadedContextInfo.n_ctx)throw new ue("Running out of context cache. Please increase n_ctx when loading the model","kv_cache_full");if(t.length>this.loadedContextInfo.n_batch)throw new ue("Embedding tokens does not fit into batch. Please increase n_batch when loading the model","inference_error");if(t.length>this.loadedContextInfo.n_ubatch)throw new ue("Embedding tokens does not fit into physical batch. Please increase n_ubatch when loading the model","inference_error");const r=await this.proxy.wllamaAction("embeddings",{_name:"gemb_req",tokens:t});if(r.success)return r.embeddings;throw new ue("embeddings unknown error")}async kvRemove(t,r){if(this.checkModelLoaded(),r===0)return;if(!(await this.proxy.wllamaAction("kv_remove",{_name:"kvcr_req",n_keep:t,n_discard:r})).success)throw new ue("kvRemove unknown error");r<0?this.nCachedTokens=t:this.nCachedTokens-=r}async kvClear(){if(this.checkModelLoaded(),!(await this.proxy.wllamaAction("kv_clear",{_name:"kvcc_req"})).success)throw new ue("kvClear unknown error");this.nCachedTokens=0}async formatChat(t,r,n){this.checkModelLoaded();const a=t.map(s=>s.role),i=t.map(s=>s.content),o=await this.proxy.wllamaAction("chat_format",{_name:"cfmt_req",roles:a,contents:i,tmpl:n,add_ass:r});if(!o.success)throw new ue("formatChat unknown error");return o.formatted_chat}async setOptions(t){this.checkModelLoaded(),await this.proxy.wllamaAction("set_options",{_name:"opti_req",...t}),this.useEmbeddings=t.embeddings}async exit(){var t;await((t=this.proxy)==null?void 0:t.wllamaExit()),this.proxy=null}async _getDebugInfo(){return this.checkModelLoaded(),await this.proxy.wllamaDebug()}async getPerfContext(){return this.checkModelLoaded(),await this.proxy.wllamaAction("perf_context",{_name:"pctx_req"})}async resetPerfContext(){return this.checkModelLoaded(),await this.proxy.wllamaAction("perf_reset",{_name:"prst_req"})}async _testBenchmark(t,r){return this.checkModelLoaded(),await this.proxy.wllamaAction("test_benchmark",{_name:"tben_req",type:t,n_samples:r})}async _testPerplexity(t){return this.checkModelLoaded(),await this.proxy.wllamaAction("test_perplexity",{_name:"tper_req",tokens:t})}async getCachedTokens(){return this.checkModelLoaded(),(await this.proxy.wllamaAction("current_status",{_name:"stat_req"})).tokens}async computeNonCachedTokens(t){const r=await this.getCachedTokens();let n=0;for(;n<Math.min(r.length,t.length)&&r[n]===t[n];n++);this.logger().debug(`Cache nKeep=${n}`);try{return await this.kvRemove(n,-1),t.slice(n,t.length)}catch{return this.logger().warn("Failed to rollback KV cache, clearing it instead"),await this.kvClear(),t}}}class ga{constructor(t,r,n,a){this.state=Ue.NOT_DOWNLOADED,this.downloadPercent=-1,this.url=t,this.size=r,this.isUserAdded=n,this.state=a?Ue.READY:Ue.NOT_DOWNLOADED,this.cachedModel=a}get hfModel(){const t=this.url.replace(/https:\/\/(huggingface.co|hf.co)\/+/,"").split("/");return`${t[0]}/${t[1]}`}get hfPath(){return this.url.replace(/https:\/\/(huggingface.co|hf.co)\/+/,"").split("/").slice(4).join("/")}clone(t){const r=new ga(this.url,this.size,this.isUserAdded,this.cachedModel);return r.state=t.state??this.state,r.downloadPercent=t.downloadPercent??this.downloadPercent,r}}function bu(e){return fr.load("custom_models",[]).map(r=>{const n=e.find(a=>a.url===r.url);return new ga(r.url,r.size,!0,n)})}function rp(e){const t=e.filter(r=>r.isUserAdded).map(r=>({url:r.url,size:r.size}));fr.save("custom_models",t)}function M1(e){return Hb.map(t=>{const r=e.find(n=>n.url===t.url);return new ga(t.url,t.size,!1,r)})}function A1(e){return[...bu(e),...M1(e)]}const T1=new Uint8Array([71,71,85,70]);async function I1(e){const t=e.replace(/\?.*/,""),r=await fetch(t,{headers:{Range:`bytes=0-${2*1024*1024}`}});if(r.ok){const n=await r.arrayBuffer();if(!O1(new Uint8Array(n.slice(0,4)),T1))throw new Error("Not a valid gguf file: not starting with GGUF magic number")}else throw new Error(`Fetch error with status code = ${r.status}`);return new ga(t,await N1(t),!0,void 0)}const O1=(e,t)=>{for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0},N1=async e=>{const t=U1(e),r=await Promise.all(t.map(async n=>{const a=await fetch(n,{method:"HEAD"});if(a.ok){const i=a.headers.get("Content-Length");return i?parseInt(i):0}else throw new Error(`Fetch error with status code = ${a.status}`)}));if(r.some(n=>n>=jg))throw new Error('GGUF file is too big (max. 2GB per file). Please split the file into smaller shards (learn more in "Guide")');return L1(r)},U1=e=>{const t=/(?<baseURL>.*)-(?<current>\d{5})-of-(?<total>\d{5})\.gguf$/,r=e.match(t);if(!r||!r.groups||Object.keys(r.groups).length!==3)return[e];const{baseURL:n,total:a}=r.groups;return Array.from({length:Number(a)},(o,s)=>(s+1).toString().padStart(5,"0")).map(o=>`${n}-${o}-of-${a}.gguf`)},L1=e=>e.reduce((t,r)=>t+r,0);window._exportModelList=function(){const t=fr.load("custom_models",[]).map(r=>(delete r.userAdded,r));console.log(JSON.stringify(t,null,2))};const Kg=Z.createContext({}),nl=new fn;let Pr=new Yc(Gc,{logger:Et,preferWebGPU:!0}),Ji=!1;const np=()=>{Pr=new Yc(Gc,{logger:Et,preferWebGPU:!0})},R1=({children:e})=>{const[t,r]=Z.useState(!1),[n,a]=Z.useState(-1),[i,o]=Z.useState($b()),[s,l]=Z.useState([]),[u,f]=Z.useState(!1),[c,p]=Z.useState(),[d,m]=Z.useState(fr.load("params",Bg)),[v,E]=Z.useState({}),[h,w]=Z.useState(),y=async()=>{l(await nl.getModels())};Gb(y);const F=Z.useMemo(()=>{const k=A1(s);for(const g of k)g.downloadPercent=v[g.url]??-1,g.downloadPercent>=0&&(g.state=Ue.DOWNLOADING),(h==null?void 0:h.url)===g.url&&(g.state=h.state);return k},[s,v,h]),C=Z.useMemo(()=>F.some(k=>k.state===Ue.DOWNLOADING),[F]),S=Z.useMemo(()=>u||(h==null?void 0:h.state)===Ue.LOADING,[h,u]),I=(k,g=-1)=>{g<0?E(z=>{const X={...z};return delete X[k],X}):E(z=>({...z,[k]:g}))},T=async k=>{if(!(C||h||S)){I(k.url,0);try{await nl.downloadModel(k.url,{progressCallback(g){I(k.url,g.loaded/g.total)}}),I(k.url,-1),await y()}catch(g){alert((g==null?void 0:g.message)||"unknown error while downloading model")}}},j=async k=>{C||h||S||k.cachedModel&&(await k.cachedModel.remove(),await y())},x=async()=>{C||h||S||(await nl.clear(),await y())},L=async k=>{if(!(C||h||S)){if(!k.cachedModel)throw new Error("Model is not in cache");w(k.clone({state:Ue.LOADING}));try{await Pr.loadModel(k.cachedModel,{n_threads:d.nThreads>0?d.nThreads:void 0,n_ctx:d.nContext,n_batch:d.nBatch}),w(k.clone({state:Ue.LOADED})),p({isMultithread:Pr.isMultithread(),usingWebGPU:Pr.usingWebGPU(),hasChatTemplate:!!Pr.getChatTemplate()})}catch(g){np(),alert(`Failed to load model: ${g.message??"Unknown error"}`),w(void 0)}}},R=async()=>{h&&(await Pr.exit(),np(),w(void 0),p(void 0))},Q=async(k,g)=>{if(C||!h||S)return;r(!0),Ji=!1;const z=await Pr.createCompletion(k,{nPredict:d.nPredict,useCache:!0,sampling:{temp:d.temperature},onNewToken(X,_,xe,ct){g(xe),Ji&&ct.abortSignal()}});g(z),Ji=!1,r(!1)},K=()=>{Ji=!0},J=(k,g)=>{o(k),a(g??-1),k===Pe.MODEL&&fr.save("welcome",!1)},be=k=>{fr.save("params",k),m(k)},le=async k=>{f(!0);try{const g=await I1(k);if(F.some(X=>X.url===g.url))throw new Error("Model with the same URL already exist");const z=bu(s);rp([...z,new ga(g.url,g.size,!0,void 0)]),await y()}catch(g){throw f(!1),g}f(!1)},P=async k=>{if(f(!0),k.isUserAdded){const z=bu(s).filter(X=>X.url!==k.url);rp(z),await y()}else throw new Error("Cannot remove non-user-added model");f(!1)};return b.jsx(Kg.Provider,{value:{models:F,isDownloading:C,isLoadingModel:S,downloadModel:T,removeCachedModel:j,removeAllCachedModels:x,loadedModel:h,loadModel:L,unloadModel:R,currParams:d,setParams:be,createCompletion:Q,stopCompletion:K,isGenerating:t,currentConvId:n,navigateTo:J,currScreen:i,getWllamaInstance:()=>Pr,addCustomModel:le,removeCustomModel:P,currRuntimeInfo:c},children:e})},Yr=()=>Z.useContext(Kg),ap=()=>{};let Jc={},Xg={},Zg=null,ew={mark:ap,measure:ap};try{typeof window<"u"&&(Jc=window),typeof document<"u"&&(Xg=document),typeof MutationObserver<"u"&&(Zg=MutationObserver),typeof performance<"u"&&(ew=performance)}catch{}const{userAgent:ip=""}=Jc.navigator||{},Wr=Jc,_e=Xg,op=Zg,Ki=ew;Wr.document;const vr=!!_e.documentElement&&!!_e.head&&typeof _e.addEventListener=="function"&&typeof _e.createElement=="function",tw=~ip.indexOf("MSIE")||~ip.indexOf("Trident/");var ke="classic",rw="duotone",wt="sharp",yt="sharp-duotone",D1=[ke,rw,wt,yt],z1={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds"}},sp={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},j1=["kit"],B1=/fa(s|r|l|t|d|b|k|kd|ss|sr|sl|st|sds)?[\-\ ]/,H1=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,W1={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}},V1={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds"}},G1={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds"}},$1={classic:["fas","far","fal","fat"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds"]},q1={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid"}},Q1={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",duotone:"fad",brands:"fab"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds"}},nw={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fad:"duotone","fa-duotone":"duotone",fab:"brands","fa-brands":"brands"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid"}},Y1=["solid","regular","light","thin","duotone","brands"],aw=[1,2,3,4,5,6,7,8,9,10],J1=aw.concat([11,12,13,14,15,16,17,18,19,20]),ja={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},K1=[...Object.keys($1),...Y1,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",ja.GROUP,ja.SWAP_OPACITY,ja.PRIMARY,ja.SECONDARY].concat(aw.map(e=>"".concat(e,"x"))).concat(J1.map(e=>"w-".concat(e))),X1={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},Z1={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},eS={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},lp={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}};const gr="___FONT_AWESOME___",Su=16,iw="fa",ow="svg-inline--fa",vn="data-fa-i2svg",ku="data-fa-pseudo-element",tS="data-fa-pseudo-element-pending",Kc="data-prefix",Xc="data-icon",up="fontawesome-i2svg",rS="async",nS=["HTML","HEAD","STYLE","SCRIPT"],sw=(()=>{try{return!0}catch{return!1}})(),lw=[ke,wt,yt];function Fi(e){return new Proxy(e,{get(t,r){return r in t?t[r]:t[ke]}})}const uw={...nw};uw[ke]={...nw[ke],...sp.kit,...sp["kit-duotone"]};const dn=Fi(uw),xu={...Q1};xu[ke]={...xu[ke],...lp.kit,...lp["kit-duotone"]};const yi=Fi(xu),Pu={...q1};Pu[ke]={...Pu[ke],...eS.kit};const pn=Fi(Pu),Eu={...G1};Eu[ke]={...Eu[ke],...Z1.kit};const aS=Fi(Eu),iS=B1,cw="fa-layers-text",oS=H1,sS={...z1};Fi(sS);const lS=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],al=ja,ua=new Set;Object.keys(yi[ke]).map(ua.add.bind(ua));Object.keys(yi[wt]).map(ua.add.bind(ua));Object.keys(yi[yt]).map(ua.add.bind(ua));const uS=[...j1,...K1],Ka=Wr.FontAwesomeConfig||{};function cS(e){var t=_e.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function fS(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}_e&&typeof _e.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[r,n]=t;const a=fS(cS(r));a!=null&&(Ka[n]=a)});const fw={styleDefault:"solid",familyDefault:"classic",cssPrefix:iw,replacementClass:ow,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};Ka.familyPrefix&&(Ka.cssPrefix=Ka.familyPrefix);const ca={...fw,...Ka};ca.autoReplaceSvg||(ca.observeMutations=!1);const H={};Object.keys(fw).forEach(e=>{Object.defineProperty(H,e,{enumerable:!0,set:function(t){ca[e]=t,Xa.forEach(r=>r(H))},get:function(){return ca[e]}})});Object.defineProperty(H,"familyPrefix",{enumerable:!0,set:function(e){ca.cssPrefix=e,Xa.forEach(t=>t(H))},get:function(){return ca.cssPrefix}});Wr.FontAwesomeConfig=H;const Xa=[];function dS(e){return Xa.push(e),()=>{Xa.splice(Xa.indexOf(e),1)}}const kr=Su,Kt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function pS(e){if(!e||!vr)return;const t=_e.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const r=_e.head.childNodes;let n=null;for(let a=r.length-1;a>-1;a--){const i=r[a],o=(i.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(n=i)}return _e.head.insertBefore(t,n),e}const mS="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function vi(){let e=12,t="";for(;e-- >0;)t+=mS[Math.random()*62|0];return t}function wa(e){const t=[];for(let r=(e||[]).length>>>0;r--;)t[r]=e[r];return t}function Zc(e){return e.classList?wa(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function dw(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hS(e){return Object.keys(e||{}).reduce((t,r)=>t+"".concat(r,'="').concat(dw(e[r]),'" '),"").trim()}function ys(e){return Object.keys(e||{}).reduce((t,r)=>t+"".concat(r,": ").concat(e[r].trim(),";"),"")}function ef(e){return e.size!==Kt.size||e.x!==Kt.x||e.y!==Kt.y||e.rotate!==Kt.rotate||e.flipX||e.flipY}function gS(e){let{transform:t,containerWidth:r,iconWidth:n}=e;const a={transform:"translate(".concat(r/2," 256)")},i="translate(".concat(t.x*32,", ").concat(t.y*32,") "),o="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),s="rotate(".concat(t.rotate," 0 0)"),l={transform:"".concat(i," ").concat(o," ").concat(s)},u={transform:"translate(".concat(n/2*-1," -256)")};return{outer:a,inner:l,path:u}}function wS(e){let{transform:t,width:r=Su,height:n=Su,startCentered:a=!1}=e,i="";return a&&tw?i+="translate(".concat(t.x/kr-r/2,"em, ").concat(t.y/kr-n/2,"em) "):a?i+="translate(calc(-50% + ".concat(t.x/kr,"em), calc(-50% + ").concat(t.y/kr,"em)) "):i+="translate(".concat(t.x/kr,"em, ").concat(t.y/kr,"em) "),i+="scale(".concat(t.size/kr*(t.flipX?-1:1),", ").concat(t.size/kr*(t.flipY?-1:1),") "),i+="rotate(".concat(t.rotate,"deg) "),i}var yS=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}

.fad.fa-inverse,
.fa-duotone.fa-inverse {
  color: var(--fa-inverse, #fff);
}`;function pw(){const e=iw,t=ow,r=H.cssPrefix,n=H.replacementClass;let a=yS;if(r!==e||n!==t){const i=new RegExp("\\.".concat(e,"\\-"),"g"),o=new RegExp("\\--".concat(e,"\\-"),"g"),s=new RegExp("\\.".concat(t),"g");a=a.replace(i,".".concat(r,"-")).replace(o,"--".concat(r,"-")).replace(s,".".concat(n))}return a}let cp=!1;function il(){H.autoAddCss&&!cp&&(pS(pw()),cp=!0)}var vS={mixout(){return{dom:{css:pw,insertCss:il}}},hooks(){return{beforeDOMElementCreation(){il()},beforeI2svg(){il()}}}};const wr=Wr||{};wr[gr]||(wr[gr]={});wr[gr].styles||(wr[gr].styles={});wr[gr].hooks||(wr[gr].hooks={});wr[gr].shims||(wr[gr].shims=[]);var Xt=wr[gr];const mw=[],hw=function(){_e.removeEventListener("DOMContentLoaded",hw),$o=1,mw.map(e=>e())};let $o=!1;vr&&($o=(_e.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(_e.readyState),$o||_e.addEventListener("DOMContentLoaded",hw));function _S(e){vr&&($o?setTimeout(e,0):mw.push(e))}function Ci(e){const{tag:t,attributes:r={},children:n=[]}=e;return typeof e=="string"?dw(e):"<".concat(t," ").concat(hS(r),">").concat(n.map(Ci).join(""),"</").concat(t,">")}function fp(e,t,r){if(e&&e[t]&&e[t][r])return{prefix:t,iconName:r,icon:e[t][r]}}var ol=function(t,r,n,a){var i=Object.keys(t),o=i.length,s=r,l,u,f;for(n===void 0?(l=1,f=t[i[0]]):(l=0,f=n);l<o;l++)u=i[l],f=s(f,t[u],u,t);return f};function bS(e){const t=[];let r=0;const n=e.length;for(;r<n;){const a=e.charCodeAt(r++);if(a>=55296&&a<=56319&&r<n){const i=e.charCodeAt(r++);(i&64512)==56320?t.push(((a&1023)<<10)+(i&1023)+65536):(t.push(a),r--)}else t.push(a)}return t}function Fu(e){const t=bS(e);return t.length===1?t[0].toString(16):null}function SS(e,t){const r=e.length;let n=e.charCodeAt(t),a;return n>=55296&&n<=56319&&r>t+1&&(a=e.charCodeAt(t+1),a>=56320&&a<=57343)?(n-55296)*1024+a-56320+65536:n}function dp(e){return Object.keys(e).reduce((t,r)=>{const n=e[r];return!!n.icon?t[n.iconName]=n.icon:t[r]=n,t},{})}function Cu(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:n=!1}=r,a=dp(t);typeof Xt.hooks.addPack=="function"&&!n?Xt.hooks.addPack(e,dp(t)):Xt.styles[e]={...Xt.styles[e]||{},...a},e==="fas"&&Cu("fa",t)}const{styles:rn,shims:kS}=Xt,xS={[ke]:Object.values(pn[ke]),[wt]:Object.values(pn[wt]),[yt]:Object.values(pn[yt])};let tf=null,gw={},ww={},yw={},vw={},_w={};const PS={[ke]:Object.keys(dn[ke]),[wt]:Object.keys(dn[wt]),[yt]:Object.keys(dn[yt])};function ES(e){return~uS.indexOf(e)}function FS(e,t){const r=t.split("-"),n=r[0],a=r.slice(1).join("-");return n===e&&a!==""&&!ES(a)?a:null}const bw=()=>{const e=n=>ol(rn,(a,i,o)=>(a[o]=ol(i,n,{}),a),{});gw=e((n,a,i)=>(a[3]&&(n[a[3]]=i),a[2]&&a[2].filter(s=>typeof s=="number").forEach(s=>{n[s.toString(16)]=i}),n)),ww=e((n,a,i)=>(n[i]=i,a[2]&&a[2].filter(s=>typeof s=="string").forEach(s=>{n[s]=i}),n)),_w=e((n,a,i)=>{const o=a[2];return n[i]=i,o.forEach(s=>{n[s]=i}),n});const t="far"in rn||H.autoFetchSvg,r=ol(kS,(n,a)=>{const i=a[0];let o=a[1];const s=a[2];return o==="far"&&!t&&(o="fas"),typeof i=="string"&&(n.names[i]={prefix:o,iconName:s}),typeof i=="number"&&(n.unicodes[i.toString(16)]={prefix:o,iconName:s}),n},{names:{},unicodes:{}});yw=r.names,vw=r.unicodes,tf=vs(H.styleDefault,{family:H.familyDefault})};dS(e=>{tf=vs(e.styleDefault,{family:H.familyDefault})});bw();function rf(e,t){return(gw[e]||{})[t]}function CS(e,t){return(ww[e]||{})[t]}function Ir(e,t){return(_w[e]||{})[t]}function Sw(e){return yw[e]||{prefix:null,iconName:null}}function MS(e){const t=vw[e],r=rf("fas",e);return t||(r?{prefix:"fas",iconName:r}:null)||{prefix:null,iconName:null}}function Vr(){return tf}const nf=()=>({prefix:null,iconName:null,rest:[]});function vs(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:r=ke}=t,n=dn[r][e],a=yi[r][e]||yi[r][n],i=e in Xt.styles?e:null;return a||i||null}const AS={[ke]:Object.keys(pn[ke]),[wt]:Object.keys(pn[wt]),[yt]:Object.keys(pn[yt])};function _s(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:r=!1}=t,n={[ke]:"".concat(H.cssPrefix,"-").concat(ke),[wt]:"".concat(H.cssPrefix,"-").concat(wt),[yt]:"".concat(H.cssPrefix,"-").concat(yt)};let a=null,i=ke;const o=D1.filter(l=>l!==rw);o.forEach(l=>{(e.includes(n[l])||e.some(u=>AS[l].includes(u)))&&(i=l)});const s=e.reduce((l,u)=>{const f=FS(H.cssPrefix,u);if(rn[u]?(u=xS[i].includes(u)?aS[i][u]:u,a=u,l.prefix=u):PS[i].indexOf(u)>-1?(a=u,l.prefix=vs(u,{family:i})):f?l.iconName=f:u!==H.replacementClass&&!o.some(c=>u===n[c])&&l.rest.push(u),!r&&l.prefix&&l.iconName){const c=a==="fa"?Sw(l.iconName):{},p=Ir(l.prefix,l.iconName);c.prefix&&(a=null),l.iconName=c.iconName||p||l.iconName,l.prefix=c.prefix||l.prefix,l.prefix==="far"&&!rn.far&&rn.fas&&!H.autoFetchSvg&&(l.prefix="fas")}return l},nf());return(e.includes("fa-brands")||e.includes("fab"))&&(s.prefix="fab"),(e.includes("fa-duotone")||e.includes("fad"))&&(s.prefix="fad"),!s.prefix&&i===wt&&(rn.fass||H.autoFetchSvg)&&(s.prefix="fass",s.iconName=Ir(s.prefix,s.iconName)||s.iconName),!s.prefix&&i===yt&&(rn.fasds||H.autoFetchSvg)&&(s.prefix="fasds",s.iconName=Ir(s.prefix,s.iconName)||s.iconName),(s.prefix==="fa"||a==="fa")&&(s.prefix=Vr()||"fas"),s}class TS{constructor(){this.definitions={}}add(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];const a=r.reduce(this._pullDefinitions,{});Object.keys(a).forEach(i=>{this.definitions[i]={...this.definitions[i]||{},...a[i]},Cu(i,a[i]);const o=pn[ke][i];o&&Cu(o,a[i]),bw()})}reset(){this.definitions={}}_pullDefinitions(t,r){const n=r.prefix&&r.iconName&&r.icon?{0:r}:r;return Object.keys(n).map(a=>{const{prefix:i,iconName:o,icon:s}=n[a],l=s[2];t[i]||(t[i]={}),l.length>0&&l.forEach(u=>{typeof u=="string"&&(t[i][u]=s)}),t[i][o]=s}),t}}let pp=[],Gn={};const ea={},IS=Object.keys(ea);function OS(e,t){let{mixoutsTo:r}=t;return pp=e,Gn={},Object.keys(ea).forEach(n=>{IS.indexOf(n)===-1&&delete ea[n]}),pp.forEach(n=>{const a=n.mixout?n.mixout():{};if(Object.keys(a).forEach(i=>{typeof a[i]=="function"&&(r[i]=a[i]),typeof a[i]=="object"&&Object.keys(a[i]).forEach(o=>{r[i]||(r[i]={}),r[i][o]=a[i][o]})}),n.hooks){const i=n.hooks();Object.keys(i).forEach(o=>{Gn[o]||(Gn[o]=[]),Gn[o].push(i[o])})}n.provides&&n.provides(ea)}),r}function Mu(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];return(Gn[e]||[]).forEach(o=>{t=o.apply(null,[t,...n])}),t}function _n(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(Gn[e]||[]).forEach(i=>{i.apply(null,r)})}function Gr(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return ea[e]?ea[e].apply(null,t):void 0}function Au(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const r=e.prefix||Vr();if(t)return t=Ir(r,t)||t,fp(kw.definitions,r,t)||fp(Xt.styles,r,t)}const kw=new TS,NS=()=>{H.autoReplaceSvg=!1,H.observeMutations=!1,_n("noAuto")},US={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return vr?(_n("beforeI2svg",e),Gr("pseudoElements2svg",e),Gr("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;H.autoReplaceSvg===!1&&(H.autoReplaceSvg=!0),H.observeMutations=!0,_S(()=>{RS({autoReplaceSvgRoot:t}),_n("watch",e)})}},LS={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:Ir(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],r=vs(e[0]);return{prefix:r,iconName:Ir(r,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat(H.cssPrefix,"-"))>-1||e.match(iS))){const t=_s(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||Vr(),iconName:Ir(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=Vr();return{prefix:t,iconName:Ir(t,e)||e}}}},xt={noAuto:NS,config:H,dom:US,parse:LS,library:kw,findIconDefinition:Au,toHtml:Ci},RS=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=_e}=e;(Object.keys(Xt.styles).length>0||H.autoFetchSvg)&&vr&&H.autoReplaceSvg&&xt.dom.i2svg({node:t})};function bs(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(r=>Ci(r))}}),Object.defineProperty(e,"node",{get:function(){if(!vr)return;const r=_e.createElement("div");return r.innerHTML=e.html,r.children}}),e}function DS(e){let{children:t,main:r,mask:n,attributes:a,styles:i,transform:o}=e;if(ef(o)&&r.found&&!n.found){const{width:s,height:l}=r,u={x:s/l/2,y:.5};a.style=ys({...i,"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")})}return[{tag:"svg",attributes:a,children:t}]}function zS(e){let{prefix:t,iconName:r,children:n,attributes:a,symbol:i}=e;const o=i===!0?"".concat(t,"-").concat(H.cssPrefix,"-").concat(r):i;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:{...a,id:o},children:n}]}]}function af(e){const{icons:{main:t,mask:r},prefix:n,iconName:a,transform:i,symbol:o,title:s,maskId:l,titleId:u,extra:f,watchable:c=!1}=e,{width:p,height:d}=r.found?r:t,m=n==="fak",v=[H.replacementClass,a?"".concat(H.cssPrefix,"-").concat(a):""].filter(C=>f.classes.indexOf(C)===-1).filter(C=>C!==""||!!C).concat(f.classes).join(" ");let E={children:[],attributes:{...f.attributes,"data-prefix":n,"data-icon":a,class:v,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(d)}};const h=m&&!~f.classes.indexOf("fa-fw")?{width:"".concat(p/d*16*.0625,"em")}:{};c&&(E.attributes[vn]=""),s&&(E.children.push({tag:"title",attributes:{id:E.attributes["aria-labelledby"]||"title-".concat(u||vi())},children:[s]}),delete E.attributes.title);const w={...E,prefix:n,iconName:a,main:t,mask:r,maskId:l,transform:i,symbol:o,styles:{...h,...f.styles}},{children:y,attributes:F}=r.found&&t.found?Gr("generateAbstractMask",w)||{children:[],attributes:{}}:Gr("generateAbstractIcon",w)||{children:[],attributes:{}};return w.children=y,w.attributes=F,o?zS(w):DS(w)}function mp(e){const{content:t,width:r,height:n,transform:a,title:i,extra:o,watchable:s=!1}=e,l={...o.attributes,...i?{title:i}:{},class:o.classes.join(" ")};s&&(l[vn]="");const u={...o.styles};ef(a)&&(u.transform=wS({transform:a,startCentered:!0,width:r,height:n}),u["-webkit-transform"]=u.transform);const f=ys(u);f.length>0&&(l.style=f);const c=[];return c.push({tag:"span",attributes:l,children:[t]}),i&&c.push({tag:"span",attributes:{class:"sr-only"},children:[i]}),c}function jS(e){const{content:t,title:r,extra:n}=e,a={...n.attributes,...r?{title:r}:{},class:n.classes.join(" ")},i=ys(n.styles);i.length>0&&(a.style=i);const o=[];return o.push({tag:"span",attributes:a,children:[t]}),r&&o.push({tag:"span",attributes:{class:"sr-only"},children:[r]}),o}const{styles:sl}=Xt;function Tu(e){const t=e[0],r=e[1],[n]=e.slice(4);let a=null;return Array.isArray(n)?a={tag:"g",attributes:{class:"".concat(H.cssPrefix,"-").concat(al.GROUP)},children:[{tag:"path",attributes:{class:"".concat(H.cssPrefix,"-").concat(al.SECONDARY),fill:"currentColor",d:n[0]}},{tag:"path",attributes:{class:"".concat(H.cssPrefix,"-").concat(al.PRIMARY),fill:"currentColor",d:n[1]}}]}:a={tag:"path",attributes:{fill:"currentColor",d:n}},{found:!0,width:t,height:r,icon:a}}const BS={found:!1,width:512,height:512};function HS(e,t){!sw&&!H.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function Iu(e,t){let r=t;return t==="fa"&&H.styleDefault!==null&&(t=Vr()),new Promise((n,a)=>{if(r==="fa"){const i=Sw(e)||{};e=i.iconName||e,t=i.prefix||t}if(e&&t&&sl[t]&&sl[t][e]){const i=sl[t][e];return n(Tu(i))}HS(e,t),n({...BS,icon:H.showMissingIcons&&e?Gr("missingIconAbstract")||{}:{}})})}const hp=()=>{},Ou=H.measurePerformance&&Ki&&Ki.mark&&Ki.measure?Ki:{mark:hp,measure:hp},Ba='FA "6.6.0"',WS=e=>(Ou.mark("".concat(Ba," ").concat(e," begins")),()=>xw(e)),xw=e=>{Ou.mark("".concat(Ba," ").concat(e," ends")),Ou.measure("".concat(Ba," ").concat(e),"".concat(Ba," ").concat(e," begins"),"".concat(Ba," ").concat(e," ends"))};var of={begin:WS,end:xw};const go=()=>{};function gp(e){return typeof(e.getAttribute?e.getAttribute(vn):null)=="string"}function VS(e){const t=e.getAttribute?e.getAttribute(Kc):null,r=e.getAttribute?e.getAttribute(Xc):null;return t&&r}function GS(e){return e&&e.classList&&e.classList.contains&&e.classList.contains(H.replacementClass)}function $S(){return H.autoReplaceSvg===!0?wo.replace:wo[H.autoReplaceSvg]||wo.replace}function qS(e){return _e.createElementNS("http://www.w3.org/2000/svg",e)}function QS(e){return _e.createElement(e)}function Pw(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:r=e.tag==="svg"?qS:QS}=t;if(typeof e=="string")return _e.createTextNode(e);const n=r(e.tag);return Object.keys(e.attributes||[]).forEach(function(i){n.setAttribute(i,e.attributes[i])}),(e.children||[]).forEach(function(i){n.appendChild(Pw(i,{ceFn:r}))}),n}function YS(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const wo={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(r=>{t.parentNode.insertBefore(Pw(r),t)}),t.getAttribute(vn)===null&&H.keepOriginalSource){let r=_e.createComment(YS(t));t.parentNode.replaceChild(r,t)}else t.remove()},nest:function(e){const t=e[0],r=e[1];if(~Zc(t).indexOf(H.replacementClass))return wo.replace(e);const n=new RegExp("".concat(H.cssPrefix,"-.*"));if(delete r[0].attributes.id,r[0].attributes.class){const i=r[0].attributes.class.split(" ").reduce((o,s)=>(s===H.replacementClass||s.match(n)?o.toSvg.push(s):o.toNode.push(s),o),{toNode:[],toSvg:[]});r[0].attributes.class=i.toSvg.join(" "),i.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",i.toNode.join(" "))}const a=r.map(i=>Ci(i)).join(`
`);t.setAttribute(vn,""),t.innerHTML=a}};function wp(e){e()}function Ew(e,t){const r=typeof t=="function"?t:go;if(e.length===0)r();else{let n=wp;H.mutateApproach===rS&&(n=Wr.requestAnimationFrame||wp),n(()=>{const a=$S(),i=of.begin("mutate");e.map(a),i(),r()})}}let sf=!1;function Fw(){sf=!0}function Nu(){sf=!1}let qo=null;function yp(e){if(!op||!H.observeMutations)return;const{treeCallback:t=go,nodeCallback:r=go,pseudoElementsCallback:n=go,observeMutationsRoot:a=_e}=e;qo=new op(i=>{if(sf)return;const o=Vr();wa(i).forEach(s=>{if(s.type==="childList"&&s.addedNodes.length>0&&!gp(s.addedNodes[0])&&(H.searchPseudoElements&&n(s.target),t(s.target)),s.type==="attributes"&&s.target.parentNode&&H.searchPseudoElements&&n(s.target.parentNode),s.type==="attributes"&&gp(s.target)&&~lS.indexOf(s.attributeName))if(s.attributeName==="class"&&VS(s.target)){const{prefix:l,iconName:u}=_s(Zc(s.target));s.target.setAttribute(Kc,l||o),u&&s.target.setAttribute(Xc,u)}else GS(s.target)&&r(s.target)})}),vr&&qo.observe(a,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function JS(){qo&&qo.disconnect()}function KS(e){const t=e.getAttribute("style");let r=[];return t&&(r=t.split(";").reduce((n,a)=>{const i=a.split(":"),o=i[0],s=i.slice(1);return o&&s.length>0&&(n[o]=s.join(":").trim()),n},{})),r}function XS(e){const t=e.getAttribute("data-prefix"),r=e.getAttribute("data-icon"),n=e.innerText!==void 0?e.innerText.trim():"";let a=_s(Zc(e));return a.prefix||(a.prefix=Vr()),t&&r&&(a.prefix=t,a.iconName=r),a.iconName&&a.prefix||(a.prefix&&n.length>0&&(a.iconName=CS(a.prefix,e.innerText)||rf(a.prefix,Fu(e.innerText))),!a.iconName&&H.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(a.iconName=e.firstChild.data)),a}function ZS(e){const t=wa(e.attributes).reduce((a,i)=>(a.name!=="class"&&a.name!=="style"&&(a[i.name]=i.value),a),{}),r=e.getAttribute("title"),n=e.getAttribute("data-fa-title-id");return H.autoA11y&&(r?t["aria-labelledby"]="".concat(H.replacementClass,"-title-").concat(n||vi()):(t["aria-hidden"]="true",t.focusable="false")),t}function ek(){return{iconName:null,title:null,titleId:null,prefix:null,transform:Kt,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function vp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:r,prefix:n,rest:a}=XS(e),i=ZS(e),o=Mu("parseNodeAttributes",{},e);let s=t.styleParser?KS(e):[];return{iconName:r,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:n,transform:Kt,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:a,styles:s,attributes:i},...o}}const{styles:tk}=Xt;function Cw(e){const t=H.autoReplaceSvg==="nest"?vp(e,{styleParser:!1}):vp(e);return~t.extra.classes.indexOf(cw)?Gr("generateLayersText",e,t):Gr("generateSvgReplacementMutation",e,t)}let tr=new Set;lw.map(e=>{tr.add("fa-".concat(e))});Object.keys(dn[ke]).map(tr.add.bind(tr));Object.keys(dn[wt]).map(tr.add.bind(tr));Object.keys(dn[yt]).map(tr.add.bind(tr));tr=[...tr];function _p(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!vr)return Promise.resolve();const r=_e.documentElement.classList,n=f=>r.add("".concat(up,"-").concat(f)),a=f=>r.remove("".concat(up,"-").concat(f)),i=H.autoFetchSvg?tr:lw.map(f=>"fa-".concat(f)).concat(Object.keys(tk));i.includes("fa")||i.push("fa");const o=[".".concat(cw,":not([").concat(vn,"])")].concat(i.map(f=>".".concat(f,":not([").concat(vn,"])"))).join(", ");if(o.length===0)return Promise.resolve();let s=[];try{s=wa(e.querySelectorAll(o))}catch{}if(s.length>0)n("pending"),a("complete");else return Promise.resolve();const l=of.begin("onTree"),u=s.reduce((f,c)=>{try{const p=Cw(c);p&&f.push(p)}catch(p){sw||p.name==="MissingIcon"&&console.error(p)}return f},[]);return new Promise((f,c)=>{Promise.all(u).then(p=>{Ew(p,()=>{n("active"),n("complete"),a("pending"),typeof t=="function"&&t(),l(),f()})}).catch(p=>{l(),c(p)})})}function rk(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Cw(e).then(r=>{r&&Ew([r],t)})}function nk(e){return function(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=(t||{}).icon?t:Au(t||{});let{mask:a}=r;return a&&(a=(a||{}).icon?a:Au(a||{})),e(n,{...r,mask:a})}}const ak=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=Kt,symbol:n=!1,mask:a=null,maskId:i=null,title:o=null,titleId:s=null,classes:l=[],attributes:u={},styles:f={}}=t;if(!e)return;const{prefix:c,iconName:p,icon:d}=e;return bs({type:"icon",...e},()=>(_n("beforeDOMElementCreation",{iconDefinition:e,params:t}),H.autoA11y&&(o?u["aria-labelledby"]="".concat(H.replacementClass,"-title-").concat(s||vi()):(u["aria-hidden"]="true",u.focusable="false")),af({icons:{main:Tu(d),mask:a?Tu(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:c,iconName:p,transform:{...Kt,...r},symbol:n,title:o,maskId:i,titleId:s,extra:{attributes:u,styles:f,classes:l}})))};var ik={mixout(){return{icon:nk(ak)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=_p,e.nodeCallback=rk,e}}},provides(e){e.i2svg=function(t){const{node:r=_e,callback:n=()=>{}}=t;return _p(r,n)},e.generateSvgReplacementMutation=function(t,r){const{iconName:n,title:a,titleId:i,prefix:o,transform:s,symbol:l,mask:u,maskId:f,extra:c}=r;return new Promise((p,d)=>{Promise.all([Iu(n,o),u.iconName?Iu(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(m=>{let[v,E]=m;p([t,af({icons:{main:v,mask:E},prefix:o,iconName:n,transform:s,symbol:l,maskId:f,title:a,titleId:i,extra:c,watchable:!0})])}).catch(d)})},e.generateAbstractIcon=function(t){let{children:r,attributes:n,main:a,transform:i,styles:o}=t;const s=ys(o);s.length>0&&(n.style=s);let l;return ef(i)&&(l=Gr("generateAbstractTransformGrouping",{main:a,transform:i,containerWidth:a.width,iconWidth:a.width})),r.push(l||a.icon),{children:r,attributes:n}}}},ok={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:r=[]}=t;return bs({type:"layer"},()=>{_n("beforeDOMElementCreation",{assembler:e,params:t});let n=[];return e(a=>{Array.isArray(a)?a.map(i=>{n=n.concat(i.abstract)}):n=n.concat(a.abstract)}),[{tag:"span",attributes:{class:["".concat(H.cssPrefix,"-layers"),...r].join(" ")},children:n}]})}}}},sk={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:r=null,classes:n=[],attributes:a={},styles:i={}}=t;return bs({type:"counter",content:e},()=>(_n("beforeDOMElementCreation",{content:e,params:t}),jS({content:e.toString(),title:r,extra:{attributes:a,styles:i,classes:["".concat(H.cssPrefix,"-layers-counter"),...n]}})))}}}},lk={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:r=Kt,title:n=null,classes:a=[],attributes:i={},styles:o={}}=t;return bs({type:"text",content:e},()=>(_n("beforeDOMElementCreation",{content:e,params:t}),mp({content:e,transform:{...Kt,...r},title:n,extra:{attributes:i,styles:o,classes:["".concat(H.cssPrefix,"-layers-text"),...a]}})))}}},provides(e){e.generateLayersText=function(t,r){const{title:n,transform:a,extra:i}=r;let o=null,s=null;if(tw){const l=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();o=u.width/l,s=u.height/l}return H.autoA11y&&!n&&(i.attributes["aria-hidden"]="true"),Promise.resolve([t,mp({content:t.innerHTML,width:o,height:s,transform:a,title:n,extra:i,watchable:!0})])}}};const uk=new RegExp('"',"ug"),bp=[1105920,1112319],Sp={FontAwesome:{normal:"fas",400:"fas"},...V1,...W1,...X1},Uu=Object.keys(Sp).reduce((e,t)=>(e[t.toLowerCase()]=Sp[t],e),{}),ck=Object.keys(Uu).reduce((e,t)=>{const r=Uu[t];return e[t]=r[900]||[...Object.entries(r)][0][1],e},{});function fk(e){const t=e.replace(uk,""),r=SS(t,0),n=r>=bp[0]&&r<=bp[1],a=t.length===2?t[0]===t[1]:!1;return{value:Fu(a?t[0]:t),isSecondary:n||a}}function dk(e,t){const r=e.replace(/^['"]|['"]$/g,"").toLowerCase(),n=parseInt(t),a=isNaN(n)?"normal":n;return(Uu[r]||{})[a]||ck[r]}function kp(e,t){const r="".concat(tS).concat(t.replace(":","-"));return new Promise((n,a)=>{if(e.getAttribute(r)!==null)return n();const o=wa(e.children).filter(p=>p.getAttribute(ku)===t)[0],s=Wr.getComputedStyle(e,t),l=s.getPropertyValue("font-family"),u=l.match(oS),f=s.getPropertyValue("font-weight"),c=s.getPropertyValue("content");if(o&&!u)return e.removeChild(o),n();if(u&&c!=="none"&&c!==""){const p=s.getPropertyValue("content");let d=dk(l,f);const{value:m,isSecondary:v}=fk(p),E=u[0].startsWith("FontAwesome");let h=rf(d,m),w=h;if(E){const y=MS(m);y.iconName&&y.prefix&&(h=y.iconName,d=y.prefix)}if(h&&!v&&(!o||o.getAttribute(Kc)!==d||o.getAttribute(Xc)!==w)){e.setAttribute(r,w),o&&e.removeChild(o);const y=ek(),{extra:F}=y;F.attributes[ku]=t,Iu(h,d).then(C=>{const S=af({...y,icons:{main:C,mask:nf()},prefix:d,iconName:w,extra:F,watchable:!0}),I=_e.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(I,e.firstChild):e.appendChild(I),I.outerHTML=S.map(T=>Ci(T)).join(`
`),e.removeAttribute(r),n()}).catch(a)}else n()}else n()})}function pk(e){return Promise.all([kp(e,"::before"),kp(e,"::after")])}function mk(e){return e.parentNode!==document.head&&!~nS.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(ku)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function xp(e){if(vr)return new Promise((t,r)=>{const n=wa(e.querySelectorAll("*")).filter(mk).map(pk),a=of.begin("searchPseudoElements");Fw(),Promise.all(n).then(()=>{a(),Nu(),t()}).catch(()=>{a(),Nu(),r()})})}var hk={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=xp,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:r=_e}=t;H.searchPseudoElements&&xp(r)}}};let Pp=!1;var gk={mixout(){return{dom:{unwatch(){Fw(),Pp=!0}}}},hooks(){return{bootstrap(){yp(Mu("mutationObserverCallbacks",{}))},noAuto(){JS()},watch(e){const{observeMutationsRoot:t}=e;Pp?Nu():yp(Mu("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Ep=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((r,n)=>{const a=n.toLowerCase().split("-"),i=a[0];let o=a.slice(1).join("-");if(i&&o==="h")return r.flipX=!0,r;if(i&&o==="v")return r.flipY=!0,r;if(o=parseFloat(o),isNaN(o))return r;switch(i){case"grow":r.size=r.size+o;break;case"shrink":r.size=r.size-o;break;case"left":r.x=r.x-o;break;case"right":r.x=r.x+o;break;case"up":r.y=r.y-o;break;case"down":r.y=r.y+o;break;case"rotate":r.rotate=r.rotate+o;break}return r},t)};var wk={mixout(){return{parse:{transform:e=>Ep(e)}}},hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-transform");return r&&(e.transform=Ep(r)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:r,transform:n,containerWidth:a,iconWidth:i}=t;const o={transform:"translate(".concat(a/2," 256)")},s="translate(".concat(n.x*32,", ").concat(n.y*32,") "),l="scale(".concat(n.size/16*(n.flipX?-1:1),", ").concat(n.size/16*(n.flipY?-1:1),") "),u="rotate(".concat(n.rotate," 0 0)"),f={transform:"".concat(s," ").concat(l," ").concat(u)},c={transform:"translate(".concat(i/2*-1," -256)")},p={outer:o,inner:f,path:c};return{tag:"g",attributes:{...p.outer},children:[{tag:"g",attributes:{...p.inner},children:[{tag:r.icon.tag,children:r.icon.children,attributes:{...r.icon.attributes,...p.path}}]}]}}}};const ll={x:0,y:0,width:"100%",height:"100%"};function Fp(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function yk(e){return e.tag==="g"?e.children:[e]}var vk={hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-mask"),n=r?_s(r.split(" ").map(a=>a.trim())):nf();return n.prefix||(n.prefix=Vr()),e.mask=n,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:r,attributes:n,main:a,mask:i,maskId:o,transform:s}=t;const{width:l,icon:u}=a,{width:f,icon:c}=i,p=gS({transform:s,containerWidth:f,iconWidth:l}),d={tag:"rect",attributes:{...ll,fill:"white"}},m=u.children?{children:u.children.map(Fp)}:{},v={tag:"g",attributes:{...p.inner},children:[Fp({tag:u.tag,attributes:{...u.attributes,...p.path},...m})]},E={tag:"g",attributes:{...p.outer},children:[v]},h="mask-".concat(o||vi()),w="clip-".concat(o||vi()),y={tag:"mask",attributes:{...ll,id:h,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"},children:[d,E]},F={tag:"defs",children:[{tag:"clipPath",attributes:{id:w},children:yk(c)},y]};return r.push(F,{tag:"rect",attributes:{fill:"currentColor","clip-path":"url(#".concat(w,")"),mask:"url(#".concat(h,")"),...ll}}),{children:r,attributes:n}}}},_k={provides(e){let t=!1;Wr.matchMedia&&(t=Wr.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const r=[],n={fill:"currentColor"},a={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};r.push({tag:"path",attributes:{...n,d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}});const i={...a,attributeName:"opacity"},o={tag:"circle",attributes:{...n,cx:"256",cy:"364",r:"28"},children:[]};return t||o.children.push({tag:"animate",attributes:{...a,attributeName:"r",values:"28;14;28;28;14;28;"}},{tag:"animate",attributes:{...i,values:"1;0;1;1;0;1;"}}),r.push(o),r.push({tag:"path",attributes:{...n,opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"},children:t?[]:[{tag:"animate",attributes:{...i,values:"1;0;0;0;0;1;"}}]}),t||r.push({tag:"path",attributes:{...n,opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"},children:[{tag:"animate",attributes:{...i,values:"0;0;1;1;0;0;"}}]}),{tag:"g",attributes:{class:"missing"},children:r}}}},bk={hooks(){return{parseNodeAttributes(e,t){const r=t.getAttribute("data-fa-symbol"),n=r===null?!1:r===""?!0:r;return e.symbol=n,e}}}},Sk=[vS,ik,ok,sk,lk,hk,gk,wk,vk,_k,bk];OS(Sk,{mixoutsTo:xt});xt.noAuto;xt.config;xt.library;xt.dom;const Lu=xt.parse;xt.findIconDefinition;xt.toHtml;const kk=xt.icon;xt.layer;xt.text;xt.counter;var Mw={exports:{}},xk="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Pk=xk,Ek=Pk;function Aw(){}function Tw(){}Tw.resetWarningCache=Aw;var Fk=function(){function e(n,a,i,o,s,l){if(l!==Ek){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:Tw,resetWarningCache:Aw};return r.PropTypes=r,r};Mw.exports=Fk();var Ck=Mw.exports;const ee=es(Ck);function Cp(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Yt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Cp(Object(r),!0).forEach(function(n){$n(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cp(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qo(e){"@babel/helpers - typeof";return Qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qo(e)}function $n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mk(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Ak(e,t){if(e==null)return{};var r=Mk(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Ru(e){return Tk(e)||Ik(e)||Ok(e)||Nk()}function Tk(e){if(Array.isArray(e))return Du(e)}function Ik(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Ok(e,t){if(e){if(typeof e=="string")return Du(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Du(e,t)}}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Nk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uk(e){var t,r=e.beat,n=e.fade,a=e.beatFade,i=e.bounce,o=e.shake,s=e.flash,l=e.spin,u=e.spinPulse,f=e.spinReverse,c=e.pulse,p=e.fixedWidth,d=e.inverse,m=e.border,v=e.listItem,E=e.flip,h=e.size,w=e.rotation,y=e.pull,F=(t={"fa-beat":r,"fa-fade":n,"fa-beat-fade":a,"fa-bounce":i,"fa-shake":o,"fa-flash":s,"fa-spin":l,"fa-spin-reverse":f,"fa-spin-pulse":u,"fa-pulse":c,"fa-fw":p,"fa-inverse":d,"fa-border":m,"fa-li":v,"fa-flip":E===!0,"fa-flip-horizontal":E==="horizontal"||E==="both","fa-flip-vertical":E==="vertical"||E==="both"},$n(t,"fa-".concat(h),typeof h<"u"&&h!==null),$n(t,"fa-rotate-".concat(w),typeof w<"u"&&w!==null&&w!==0),$n(t,"fa-pull-".concat(y),typeof y<"u"&&y!==null),$n(t,"fa-swap-opacity",e.swapOpacity),t);return Object.keys(F).map(function(C){return F[C]?C:null}).filter(function(C){return C})}function Lk(e){return e=e-0,e===e}function Iw(e){return Lk(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(t,r){return r?r.toUpperCase():""}),e.substr(0,1).toLowerCase()+e.substr(1))}var Rk=["style"];function Dk(e){return e.charAt(0).toUpperCase()+e.slice(1)}function zk(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,r){var n=r.indexOf(":"),a=Iw(r.slice(0,n)),i=r.slice(n+1).trim();return a.startsWith("webkit")?t[Dk(a)]=i:t[a]=i,t},{})}function Ow(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof t=="string")return t;var n=(t.children||[]).map(function(l){return Ow(e,l)}),a=Object.keys(t.attributes||{}).reduce(function(l,u){var f=t.attributes[u];switch(u){case"class":l.attrs.className=f,delete t.attributes.class;break;case"style":l.attrs.style=zk(f);break;default:u.indexOf("aria-")===0||u.indexOf("data-")===0?l.attrs[u.toLowerCase()]=f:l.attrs[Iw(u)]=f}return l},{attrs:{}}),i=r.style,o=i===void 0?{}:i,s=Ak(r,Rk);return a.attrs.style=Yt(Yt({},a.attrs.style),o),e.apply(void 0,[t.tag,Yt(Yt({},a.attrs),s)].concat(Ru(n)))}var Nw=!1;try{Nw=!0}catch{}function jk(){if(!Nw&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function Mp(e){if(e&&Qo(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(Lu.icon)return Lu.icon(e);if(e===null)return null;if(e&&Qo(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}function ul(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?$n({},e,t):{}}var Ap={border:!1,className:"",mask:null,maskId:null,fixedWidth:!1,inverse:!1,flip:!1,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,spinPulse:!1,spinReverse:!1,beat:!1,fade:!1,beatFade:!1,bounce:!1,shake:!1,symbol:!1,title:"",titleId:null,transform:null,swapOpacity:!1},mt=rs.forwardRef(function(e,t){var r=Yt(Yt({},Ap),e),n=r.icon,a=r.mask,i=r.symbol,o=r.className,s=r.title,l=r.titleId,u=r.maskId,f=Mp(n),c=ul("classes",[].concat(Ru(Uk(r)),Ru((o||"").split(" ")))),p=ul("transform",typeof r.transform=="string"?Lu.transform(r.transform):r.transform),d=ul("mask",Mp(a)),m=kk(f,Yt(Yt(Yt(Yt({},c),p),d),{},{symbol:i,title:s,titleId:l,maskId:u}));if(!m)return jk("Could not find icon",f),null;var v=m.abstract,E={ref:t};return Object.keys(r).forEach(function(h){Ap.hasOwnProperty(h)||(E[h]=r[h])}),Bk(v[0],E)});mt.displayName="FontAwesomeIcon";mt.propTypes={beat:ee.bool,border:ee.bool,beatFade:ee.bool,bounce:ee.bool,className:ee.string,fade:ee.bool,flash:ee.bool,mask:ee.oneOfType([ee.object,ee.array,ee.string]),maskId:ee.string,fixedWidth:ee.bool,inverse:ee.bool,flip:ee.oneOf([!0,!1,"horizontal","vertical","both"]),icon:ee.oneOfType([ee.object,ee.array,ee.string]),listItem:ee.bool,pull:ee.oneOf(["right","left"]),pulse:ee.bool,rotation:ee.oneOf([0,90,180,270]),shake:ee.bool,size:ee.oneOf(["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:ee.bool,spinPulse:ee.bool,spinReverse:ee.bool,symbol:ee.oneOfType([ee.bool,ee.string]),title:ee.string,titleId:ee.string,transform:ee.oneOfType([ee.string,ee.object]),swapOpacity:ee.bool};var Bk=Ow.bind(null,rs.createElement);const Hk={prefix:"fas",iconName:"trash-can",icon:[448,512,[61460,"trash-alt"],"f2ed","M135.2 17.7C140.6 6.8 151.7 0 163.8 0L284.2 0c12.1 0 23.2 6.8 28.6 17.7L320 32l96 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 96C14.3 96 0 81.7 0 64S14.3 32 32 32l96 0 7.2-14.3zM32 128l384 0 0 320c0 35.3-28.7 64-64 64L96 512c-35.3 0-64-28.7-64-64l0-320zm96 64c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16l0 224c0 8.8 7.2 16 16 16s16-7.2 16-16l0-224c0-8.8-7.2-16-16-16z"]},Uw=Hk,Wk={prefix:"fas",iconName:"arrow-up-right-from-square",icon:[512,512,["external-link"],"f08e","M320 0c-17.7 0-32 14.3-32 32s14.3 32 32 32l82.7 0L201.4 265.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L448 109.3l0 82.7c0 17.7 14.3 32 32 32s32-14.3 32-32l0-160c0-17.7-14.3-32-32-32L320 0zM80 32C35.8 32 0 67.8 0 112L0 432c0 44.2 35.8 80 80 80l320 0c44.2 0 80-35.8 80-80l0-112c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 112c0 8.8-7.2 16-16 16L80 448c-8.8 0-16-7.2-16-16l0-320c0-8.8 7.2-16 16-16l112 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L80 32z"]},Vk={prefix:"fas",iconName:"circle-question",icon:[512,512,[62108,"question-circle"],"f059","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"]},Gk=Vk,$k={prefix:"fas",iconName:"stop",icon:[384,512,[9209],"f04d","M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128z"]},qk={prefix:"fas",iconName:"bug",icon:[512,512,[],"f188","M256 0c53 0 96 43 96 96l0 3.6c0 15.7-12.7 28.4-28.4 28.4l-135.1 0c-15.7 0-28.4-12.7-28.4-28.4l0-3.6c0-53 43-96 96-96zM41.4 105.4c12.5-12.5 32.8-12.5 45.3 0l64 64c.7 .7 1.3 1.4 1.9 2.1c14.2-7.3 30.4-11.4 47.5-11.4l112 0c17.1 0 33.2 4.1 47.5 11.4c.6-.7 1.2-1.4 1.9-2.1l64-64c12.5-12.5 32.8-12.5 45.3 0s12.5 32.8 0 45.3l-64 64c-.7 .7-1.4 1.3-2.1 1.9c6.2 12 10.1 25.3 11.1 39.5l64.3 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c0 24.6-5.5 47.8-15.4 68.6c2.2 1.3 4.2 2.9 6 4.8l64 64c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0l-63.1-63.1c-24.5 21.8-55.8 36.2-90.3 39.6L272 240c0-8.8-7.2-16-16-16s-16 7.2-16 16l0 239.2c-34.5-3.4-65.8-17.8-90.3-39.6L86.6 502.6c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3l64-64c1.9-1.9 3.9-3.4 6-4.8C101.5 367.8 96 344.6 96 320l-64 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l64.3 0c1.1-14.1 5-27.5 11.1-39.5c-.7-.6-1.4-1.2-2.1-1.9l-64-64c-12.5-12.5-12.5-32.8 0-45.3z"]},Lw={prefix:"fas",iconName:"xmark",icon:[384,512,[128473,10005,10006,10060,215,"close","multiply","remove","times"],"f00d","M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"]},Qk={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},Yk={prefix:"fas",iconName:"triangle-exclamation",icon:[512,512,[9888,"exclamation-triangle","warning"],"f071","M256 32c14.2 0 27.3 7.5 34.5 19.8l216 368c7.3 12.4 7.3 27.7 .2 40.1S486.3 480 472 480L40 480c-14.3 0-27.6-7.7-34.7-20.1s-7-27.8 .2-40.1l216-368C228.7 39.5 241.8 32 256 32zm0 128c-13.3 0-24 10.7-24 24l0 112c0 13.3 10.7 24 24 24s24-10.7 24-24l0-112c0-13.3-10.7-24-24-24zm32 224a32 32 0 1 0 -64 0 32 32 0 1 0 64 0z"]},Jk=Yk,Kk={prefix:"fas",iconName:"brain",icon:[512,512,[129504],"f5dc","M184 0c30.9 0 56 25.1 56 56l0 400c0 30.9-25.1 56-56 56c-28.9 0-52.7-21.9-55.7-50.1c-5.2 1.4-10.7 2.1-16.3 2.1c-35.3 0-64-28.7-64-64c0-7.4 1.3-14.6 3.6-21.2C21.4 367.4 0 338.2 0 304c0-31.9 18.7-59.5 45.8-72.3C37.1 220.8 32 207 32 192c0-30.7 21.6-56.3 50.4-62.6C80.8 123.9 80 118 80 112c0-29.9 20.6-55.1 48.3-62.1C131.3 21.9 155.1 0 184 0zM328 0c28.9 0 52.6 21.9 55.7 49.9c27.8 7 48.3 32.1 48.3 62.1c0 6-.8 11.9-2.4 17.4c28.8 6.2 50.4 31.9 50.4 62.6c0 15-5.1 28.8-13.8 39.7C493.3 244.5 512 272.1 512 304c0 34.2-21.4 63.4-51.6 74.8c2.3 6.6 3.6 13.8 3.6 21.2c0 35.3-28.7 64-64 64c-5.6 0-11.1-.7-16.3-2.1c-3 28.2-26.8 50.1-55.7 50.1c-30.9 0-56-25.1-56-56l0-400c0-30.9 25.1-56 56-56z"]};function Ss({children:e,fitScreen:t}){return b.jsx("div",{className:"overflow-y-auto h-full w-full",children:b.jsx("div",{className:`w-[40rem] max-w-full ${t?"h-full":"h-auto overflow-hidden"} px-4 flex flex-col mx-auto`,children:e})})}const Xk=()=>{};function Zk(e,t=0,r=!0,n=!1){const a=Z.useRef();Z.useEffect(()=>{a.current=e}),Z.useEffect(()=>{if(r){let i=function(){var s;(s=a.current)==null||s.call(a)};n&&i();const o=window.setInterval(i,t);return()=>{window.clearInterval(o)}}return Xk},[r,t,n])}function ex(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const tx=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,rx=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,nx={};function Tp(e,t){return(nx.jsx?rx:tx).test(e)}const ax=/[ \t\n\f\r]/g;function ix(e){return typeof e=="object"?e.type==="text"?Ip(e.value):!1:Ip(e)}function Ip(e){return e.replace(ax,"")===""}class Mi{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Mi.prototype.normal={};Mi.prototype.property={};Mi.prototype.space=void 0;function Rw(e,t){const r={},n={};for(const a of e)Object.assign(r,a.property),Object.assign(n,a.normal);return new Mi(r,n,t)}function zu(e){return e.toLowerCase()}class ut{constructor(t,r){this.attribute=r,this.property=t}}ut.prototype.attribute="";ut.prototype.booleanish=!1;ut.prototype.boolean=!1;ut.prototype.commaOrSpaceSeparated=!1;ut.prototype.commaSeparated=!1;ut.prototype.defined=!1;ut.prototype.mustUseProperty=!1;ut.prototype.number=!1;ut.prototype.overloadedBoolean=!1;ut.prototype.property="";ut.prototype.spaceSeparated=!1;ut.prototype.space=void 0;let ox=0;const Y=xn(),Oe=xn(),ju=xn(),N=xn(),pe=xn(),ta=xn(),dt=xn();function xn(){return 2**++ox}const Bu=Object.freeze(Object.defineProperty({__proto__:null,boolean:Y,booleanish:Oe,commaOrSpaceSeparated:dt,commaSeparated:ta,number:N,overloadedBoolean:ju,spaceSeparated:pe},Symbol.toStringTag,{value:"Module"})),cl=Object.keys(Bu);class lf extends ut{constructor(t,r,n,a){let i=-1;if(super(t,r),Op(this,"space",a),typeof n=="number")for(;++i<cl.length;){const o=cl[i];Op(this,cl[i],(n&Bu[o])===Bu[o])}}}lf.prototype.defined=!0;function Op(e,t,r){r&&(e[t]=r)}function ya(e){const t={},r={};for(const[n,a]of Object.entries(e.properties)){const i=new lf(n,e.transform(e.attributes||{},n),a,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(i.mustUseProperty=!0),t[n]=i,r[zu(n)]=n,r[zu(i.attribute)]=n}return new Mi(t,r,e.space)}const Dw=ya({properties:{ariaActiveDescendant:null,ariaAtomic:Oe,ariaAutoComplete:null,ariaBusy:Oe,ariaChecked:Oe,ariaColCount:N,ariaColIndex:N,ariaColSpan:N,ariaControls:pe,ariaCurrent:null,ariaDescribedBy:pe,ariaDetails:null,ariaDisabled:Oe,ariaDropEffect:pe,ariaErrorMessage:null,ariaExpanded:Oe,ariaFlowTo:pe,ariaGrabbed:Oe,ariaHasPopup:null,ariaHidden:Oe,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:pe,ariaLevel:N,ariaLive:null,ariaModal:Oe,ariaMultiLine:Oe,ariaMultiSelectable:Oe,ariaOrientation:null,ariaOwns:pe,ariaPlaceholder:null,ariaPosInSet:N,ariaPressed:Oe,ariaReadOnly:Oe,ariaRelevant:null,ariaRequired:Oe,ariaRoleDescription:pe,ariaRowCount:N,ariaRowIndex:N,ariaRowSpan:N,ariaSelected:Oe,ariaSetSize:N,ariaSort:null,ariaValueMax:N,ariaValueMin:N,ariaValueNow:N,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function zw(e,t){return t in e?e[t]:t}function jw(e,t){return zw(e,t.toLowerCase())}const sx=ya({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ta,acceptCharset:pe,accessKey:pe,action:null,allow:null,allowFullScreen:Y,allowPaymentRequest:Y,allowUserMedia:Y,alt:null,as:null,async:Y,autoCapitalize:null,autoComplete:pe,autoFocus:Y,autoPlay:Y,blocking:pe,capture:null,charSet:null,checked:Y,cite:null,className:pe,cols:N,colSpan:null,content:null,contentEditable:Oe,controls:Y,controlsList:pe,coords:N|ta,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Y,defer:Y,dir:null,dirName:null,disabled:Y,download:ju,draggable:Oe,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Y,formTarget:null,headers:pe,height:N,hidden:ju,high:N,href:null,hrefLang:null,htmlFor:pe,httpEquiv:pe,id:null,imageSizes:null,imageSrcSet:null,inert:Y,inputMode:null,integrity:null,is:null,isMap:Y,itemId:null,itemProp:pe,itemRef:pe,itemScope:Y,itemType:pe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Y,low:N,manifest:null,max:null,maxLength:N,media:null,method:null,min:null,minLength:N,multiple:Y,muted:Y,name:null,nonce:null,noModule:Y,noValidate:Y,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Y,optimum:N,pattern:null,ping:pe,placeholder:null,playsInline:Y,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Y,referrerPolicy:null,rel:pe,required:Y,reversed:Y,rows:N,rowSpan:N,sandbox:pe,scope:null,scoped:Y,seamless:Y,selected:Y,shadowRootClonable:Y,shadowRootDelegatesFocus:Y,shadowRootMode:null,shape:null,size:N,sizes:null,slot:null,span:N,spellCheck:Oe,src:null,srcDoc:null,srcLang:null,srcSet:null,start:N,step:null,style:null,tabIndex:N,target:null,title:null,translate:null,type:null,typeMustMatch:Y,useMap:null,value:Oe,width:N,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:pe,axis:null,background:null,bgColor:null,border:N,borderColor:null,bottomMargin:N,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Y,declare:Y,event:null,face:null,frame:null,frameBorder:null,hSpace:N,leftMargin:N,link:null,longDesc:null,lowSrc:null,marginHeight:N,marginWidth:N,noResize:Y,noHref:Y,noShade:Y,noWrap:Y,object:null,profile:null,prompt:null,rev:null,rightMargin:N,rules:null,scheme:null,scrolling:Oe,standby:null,summary:null,text:null,topMargin:N,valueType:null,version:null,vAlign:null,vLink:null,vSpace:N,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Y,disableRemotePlayback:Y,prefix:null,property:null,results:N,security:null,unselectable:null},space:"html",transform:jw}),lx=ya({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:dt,accentHeight:N,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:N,amplitude:N,arabicForm:null,ascent:N,attributeName:null,attributeType:null,azimuth:N,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:N,by:null,calcMode:null,capHeight:N,className:pe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:N,diffuseConstant:N,direction:null,display:null,dur:null,divisor:N,dominantBaseline:null,download:Y,dx:null,dy:null,edgeMode:null,editable:null,elevation:N,enableBackground:null,end:null,event:null,exponent:N,externalResourcesRequired:null,fill:null,fillOpacity:N,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ta,g2:ta,glyphName:ta,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:N,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:N,horizOriginX:N,horizOriginY:N,id:null,ideographic:N,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:N,k:N,k1:N,k2:N,k3:N,k4:N,kernelMatrix:dt,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:N,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:N,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:N,overlineThickness:N,paintOrder:null,panose1:null,path:null,pathLength:N,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:pe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:N,pointsAtY:N,pointsAtZ:N,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:dt,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:dt,rev:dt,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:dt,requiredFeatures:dt,requiredFonts:dt,requiredFormats:dt,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:N,specularExponent:N,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:N,strikethroughThickness:N,string:null,stroke:null,strokeDashArray:dt,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:N,strokeOpacity:N,strokeWidth:null,style:null,surfaceScale:N,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:dt,tabIndex:N,tableValues:null,target:null,targetX:N,targetY:N,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:dt,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:N,underlineThickness:N,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:N,values:null,vAlphabetic:N,vMathematical:N,vectorEffect:null,vHanging:N,vIdeographic:N,version:null,vertAdvY:N,vertOriginX:N,vertOriginY:N,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:N,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:zw}),Bw=ya({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),Hw=ya({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:jw}),Ww=ya({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),ux={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},cx=/[A-Z]/g,Np=/-[a-z]/g,fx=/^data[-\w.:]+$/i;function dx(e,t){const r=zu(t);let n=t,a=ut;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&fx.test(t)){if(t.charAt(4)==="-"){const i=t.slice(5).replace(Np,mx);n="data"+i.charAt(0).toUpperCase()+i.slice(1)}else{const i=t.slice(4);if(!Np.test(i)){let o=i.replace(cx,px);o.charAt(0)!=="-"&&(o="-"+o),t="data"+o}}a=lf}return new a(n,t)}function px(e){return"-"+e.toLowerCase()}function mx(e){return e.charAt(1).toUpperCase()}const hx=Rw([Dw,sx,Bw,Hw,Ww],"html"),uf=Rw([Dw,lx,Bw,Hw,Ww],"svg");function gx(e){return e.join(" ").trim()}var cf={},Up=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,wx=/\n/g,yx=/^\s*/,vx=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,_x=/^:\s*/,bx=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Sx=/^[;\s]*/,kx=/^\s+|\s+$/g,xx=`
`,Lp="/",Rp="*",nn="",Px="comment",Ex="declaration";function Fx(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function a(m){var v=m.match(wx);v&&(r+=v.length);var E=m.lastIndexOf(xx);n=~E?m.length-E:n+m.length}function i(){var m={line:r,column:n};return function(v){return v.position=new o(m),u(),v}}function o(m){this.start=m,this.end={line:r,column:n},this.source=t.source}o.prototype.content=e;function s(m){var v=new Error(t.source+":"+r+":"+n+": "+m);if(v.reason=m,v.filename=t.source,v.line=r,v.column=n,v.source=e,!t.silent)throw v}function l(m){var v=m.exec(e);if(v){var E=v[0];return a(E),e=e.slice(E.length),v}}function u(){l(yx)}function f(m){var v;for(m=m||[];v=c();)v!==!1&&m.push(v);return m}function c(){var m=i();if(!(Lp!=e.charAt(0)||Rp!=e.charAt(1))){for(var v=2;nn!=e.charAt(v)&&(Rp!=e.charAt(v)||Lp!=e.charAt(v+1));)++v;if(v+=2,nn===e.charAt(v-1))return s("End of comment missing");var E=e.slice(2,v-2);return n+=2,a(E),e=e.slice(v),n+=2,m({type:Px,comment:E})}}function p(){var m=i(),v=l(vx);if(v){if(c(),!l(_x))return s("property missing ':'");var E=l(bx),h=m({type:Ex,property:Dp(v[0].replace(Up,nn)),value:E?Dp(E[0].replace(Up,nn)):nn});return l(Sx),h}}function d(){var m=[];f(m);for(var v;v=p();)v!==!1&&(m.push(v),f(m));return m}return u(),d()}function Dp(e){return e?e.replace(kx,nn):nn}var Cx=Fx,Mx=_o&&_o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cf,"__esModule",{value:!0});cf.default=Tx;const Ax=Mx(Cx);function Tx(e,t){let r=null;if(!e||typeof e!="string")return r;const n=(0,Ax.default)(e),a=typeof t=="function";return n.forEach(i=>{if(i.type!=="declaration")return;const{property:o,value:s}=i;a?t(o,s,i):s&&(r=r||{},r[o]=s)}),r}var ks={};Object.defineProperty(ks,"__esModule",{value:!0});ks.camelCase=void 0;var Ix=/^--[a-zA-Z0-9_-]+$/,Ox=/-([a-z])/g,Nx=/^[^-]+$/,Ux=/^-(webkit|moz|ms|o|khtml)-/,Lx=/^-(ms)-/,Rx=function(e){return!e||Nx.test(e)||Ix.test(e)},Dx=function(e,t){return t.toUpperCase()},zp=function(e,t){return"".concat(t,"-")},zx=function(e,t){return t===void 0&&(t={}),Rx(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Lx,zp):e=e.replace(Ux,zp),e.replace(Ox,Dx))};ks.camelCase=zx;var jx=_o&&_o.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Bx=jx(cf),Hx=ks;function Hu(e,t){var r={};return!e||typeof e!="string"||(0,Bx.default)(e,function(n,a){n&&a&&(r[(0,Hx.camelCase)(n,t)]=a)}),r}Hu.default=Hu;var Wx=Hu;const Vx=es(Wx),Vw=Gw("end"),ff=Gw("start");function Gw(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function Gx(e){const t=ff(e),r=Vw(e);if(t&&r)return{start:t,end:r}}function Za(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?jp(e.position):"start"in e||"end"in e?jp(e):"line"in e||"column"in e?Wu(e):""}function Wu(e){return Bp(e&&e.line)+":"+Bp(e&&e.column)}function jp(e){return Wu(e&&e.start)+"-"+Wu(e&&e.end)}function Bp(e){return e&&typeof e=="number"?e:1}class Ke extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let a="",i={},o=!1;if(r&&("line"in r&&"column"in r?i={place:r}:"start"in r&&"end"in r?i={place:r}:"type"in r?i={ancestors:[r],place:r.position}:i={...r}),typeof t=="string"?a=t:!i.cause&&t&&(o=!0,a=t.message,i.cause=t),!i.ruleId&&!i.source&&typeof n=="string"){const l=n.indexOf(":");l===-1?i.ruleId=n:(i.source=n.slice(0,l),i.ruleId=n.slice(l+1))}if(!i.place&&i.ancestors&&i.ancestors){const l=i.ancestors[i.ancestors.length-1];l&&(i.place=l.position)}const s=i.place&&"start"in i.place?i.place.start:i.place;this.ancestors=i.ancestors||void 0,this.cause=i.cause||void 0,this.column=s?s.column:void 0,this.fatal=void 0,this.file="",this.message=a,this.line=s?s.line:void 0,this.name=Za(i.place)||"1:1",this.place=i.place||void 0,this.reason=this.message,this.ruleId=i.ruleId||void 0,this.source=i.source||void 0,this.stack=o&&i.cause&&typeof i.cause.stack=="string"?i.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Ke.prototype.file="";Ke.prototype.name="";Ke.prototype.reason="";Ke.prototype.message="";Ke.prototype.stack="";Ke.prototype.column=void 0;Ke.prototype.line=void 0;Ke.prototype.ancestors=void 0;Ke.prototype.cause=void 0;Ke.prototype.fatal=void 0;Ke.prototype.place=void 0;Ke.prototype.ruleId=void 0;Ke.prototype.source=void 0;const df={}.hasOwnProperty,$x=new Map,qx=/[A-Z]/g,Qx=new Set(["table","tbody","thead","tfoot","tr"]),Yx=new Set(["td","th"]),$w="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Jx(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=aP(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=nP(r,t.jsx,t.jsxs)}const a={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?uf:hx,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},i=qw(a,e,void 0);return i&&typeof i!="string"?i:a.create(e,a.Fragment,{children:i||void 0},void 0)}function qw(e,t,r){if(t.type==="element")return Kx(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Xx(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return eP(e,t,r);if(t.type==="mdxjsEsm")return Zx(e,t);if(t.type==="root")return tP(e,t,r);if(t.type==="text")return rP(e,t)}function Kx(e,t,r){const n=e.schema;let a=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(a=uf,e.schema=a),e.ancestors.push(t);const i=Yw(e,t.tagName,!1),o=iP(e,t);let s=mf(e,t);return Qx.has(t.tagName)&&(s=s.filter(function(l){return typeof l=="string"?!ix(l):!0})),Qw(e,o,i,t),pf(o,s),e.ancestors.pop(),e.schema=n,e.create(t,i,o,r)}function Xx(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}_i(e,t.position)}function Zx(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);_i(e,t.position)}function eP(e,t,r){const n=e.schema;let a=n;t.name==="svg"&&n.space==="html"&&(a=uf,e.schema=a),e.ancestors.push(t);const i=t.name===null?e.Fragment:Yw(e,t.name,!0),o=oP(e,t),s=mf(e,t);return Qw(e,o,i,t),pf(o,s),e.ancestors.pop(),e.schema=n,e.create(t,i,o,r)}function tP(e,t,r){const n={};return pf(n,mf(e,t)),e.create(t,e.Fragment,n,r)}function rP(e,t){return t.value}function Qw(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function pf(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function nP(e,t,r){return n;function n(a,i,o,s){const u=Array.isArray(o.children)?r:t;return s?u(i,o,s):u(i,o)}}function aP(e,t){return r;function r(n,a,i,o){const s=Array.isArray(i.children),l=ff(n);return t(a,i,o,s,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function iP(e,t){const r={};let n,a;for(a in t.properties)if(a!=="children"&&df.call(t.properties,a)){const i=sP(e,a,t.properties[a]);if(i){const[o,s]=i;e.tableCellAlignToStyle&&o==="align"&&typeof s=="string"&&Yx.has(t.tagName)?n=s:r[o]=s}}if(n){const i=r.style||(r.style={});i[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function oP(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const i=n.data.estree.body[0];i.type;const o=i.expression;o.type;const s=o.properties[0];s.type,Object.assign(r,e.evaluater.evaluateExpression(s.argument))}else _i(e,t.position);else{const a=n.name;let i;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const s=n.value.data.estree.body[0];s.type,i=e.evaluater.evaluateExpression(s.expression)}else _i(e,t.position);else i=n.value===null?!0:n.value;r[a]=i}return r}function mf(e,t){const r=[];let n=-1;const a=e.passKeys?new Map:$x;for(;++n<t.children.length;){const i=t.children[n];let o;if(e.passKeys){const l=i.type==="element"?i.tagName:i.type==="mdxJsxFlowElement"||i.type==="mdxJsxTextElement"?i.name:void 0;if(l){const u=a.get(l)||0;o=l+"-"+u,a.set(l,u+1)}}const s=qw(e,i,o);s!==void 0&&r.push(s)}return r}function sP(e,t,r){const n=dx(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?ex(r):gx(r)),n.property==="style"){let a=typeof r=="object"?r:lP(e,String(r));return e.stylePropertyNameCase==="css"&&(a=uP(a)),["style",a]}return[e.elementAttributeNameCase==="react"&&n.space?ux[n.property]||n.property:n.attribute,r]}}function lP(e,t){try{return Vx(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,a=new Ke("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=$w+"#cannot-parse-style-attribute",a}}function Yw(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const a=t.split(".");let i=-1,o;for(;++i<a.length;){const s=Tp(a[i])?{type:"Identifier",name:a[i]}:{type:"Literal",value:a[i]};o=o?{type:"MemberExpression",object:o,property:s,computed:!!(i&&s.type==="Literal"),optional:!1}:s}n=o}else n=Tp(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const a=n.value;return df.call(e.components,a)?e.components[a]:a}if(e.evaluater)return e.evaluater.evaluateExpression(n);_i(e)}function _i(e,t){const r=new Ke("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=$w+"#cannot-handle-mdx-estrees-without-createevaluater",r}function uP(e){const t={};let r;for(r in e)df.call(e,r)&&(t[cP(r)]=e[r]);return t}function cP(e){let t=e.replace(qx,fP);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function fP(e){return"-"+e.toLowerCase()}const fl={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},dP={};function hf(e,t){const r=dP,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,a=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return Jw(e,n,a)}function Jw(e,t,r){if(pP(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Hp(e.children,t,r)}return Array.isArray(e)?Hp(e,t,r):""}function Hp(e,t,r){const n=[];let a=-1;for(;++a<e.length;)n[a]=Jw(e[a],t,r);return n.join("")}function pP(e){return!!(e&&typeof e=="object")}const Wp=document.createElement("i");function gf(e){const t="&"+e+";";Wp.innerHTML=t;const r=Wp.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function vt(e,t,r,n){const a=e.length;let i=0,o;if(t<0?t=-t>a?0:a+t:t=t>a?a:t,r=r>0?r:0,n.length<1e4)o=Array.from(n),o.unshift(t,r),e.splice(...o);else for(r&&e.splice(t,r);i<n.length;)o=n.slice(i,i+1e4),o.unshift(t,0),e.splice(...o),i+=1e4,t+=1e4}function Mt(e,t){return e.length>0?(vt(e,e.length,0,t),e):t}const Vp={}.hasOwnProperty;function Kw(e){const t={};let r=-1;for(;++r<e.length;)mP(t,e[r]);return t}function mP(e,t){let r;for(r in t){const a=(Vp.call(e,r)?e[r]:void 0)||(e[r]={}),i=t[r];let o;if(i)for(o in i){Vp.call(a,o)||(a[o]=[]);const s=i[o];hP(a[o],Array.isArray(s)?s:s?[s]:[])}}}function hP(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);vt(e,0,0,n)}function Xw(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"":String.fromCodePoint(r)}function Ht(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Ze=Jr(/[A-Za-z]/),Ye=Jr(/[\dA-Za-z]/),gP=Jr(/[#-'*+\--9=?A-Z^-~]/);function Yo(e){return e!==null&&(e<32||e===127)}const Vu=Jr(/\d/),wP=Jr(/[\dA-Fa-f]/),yP=Jr(/[!-/:-@[-`{-~]/);function V(e){return e!==null&&e<-2}function de(e){return e!==null&&(e<0||e===32)}function te(e){return e===-2||e===-1||e===32}const xs=Jr(new RegExp("\\p{P}|\\p{S}","u")),bn=Jr(/\s/);function Jr(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function va(e){const t=[];let r=-1,n=0,a=0;for(;++r<e.length;){const i=e.charCodeAt(r);let o="";if(i===37&&Ye(e.charCodeAt(r+1))&&Ye(e.charCodeAt(r+2)))a=2;else if(i<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(i))||(o=String.fromCharCode(i));else if(i>55295&&i<57344){const s=e.charCodeAt(r+1);i<56320&&s>56319&&s<57344?(o=String.fromCharCode(i,s),a=1):o=""}else o=String.fromCharCode(i);o&&(t.push(e.slice(n,r),encodeURIComponent(o)),n=r+a+1,o=""),a&&(r+=a,a=0)}return t.join("")+e.slice(n)}function oe(e,t,r,n){const a=n?n-1:Number.POSITIVE_INFINITY;let i=0;return o;function o(l){return te(l)?(e.enter(r),s(l)):t(l)}function s(l){return te(l)&&i++<a?(e.consume(l),s):(e.exit(r),t(l))}}const vP={tokenize:_P};function _P(e){const t=e.attempt(this.parser.constructs.contentInitial,n,a);let r;return t;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),oe(e,t,"linePrefix")}function a(s){return e.enter("paragraph"),i(s)}function i(s){const l=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=l),r=l,o(s)}function o(s){if(s===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(s);return}return V(s)?(e.consume(s),e.exit("chunkText"),i):(e.consume(s),o)}}const bP={tokenize:SP},Gp={tokenize:kP};function SP(e){const t=this,r=[];let n=0,a,i,o;return s;function s(y){if(n<r.length){const F=r[n];return t.containerState=F[1],e.attempt(F[0].continuation,l,u)(y)}return u(y)}function l(y){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,a&&w();const F=t.events.length;let C=F,S;for(;C--;)if(t.events[C][0]==="exit"&&t.events[C][1].type==="chunkFlow"){S=t.events[C][1].end;break}h(n);let I=F;for(;I<t.events.length;)t.events[I][1].end={...S},I++;return vt(t.events,C+1,0,t.events.slice(F)),t.events.length=I,u(y)}return s(y)}function u(y){if(n===r.length){if(!a)return p(y);if(a.currentConstruct&&a.currentConstruct.concrete)return m(y);t.interrupt=!!(a.currentConstruct&&!a._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Gp,f,c)(y)}function f(y){return a&&w(),h(n),p(y)}function c(y){return t.parser.lazy[t.now().line]=n!==r.length,o=t.now().offset,m(y)}function p(y){return t.containerState={},e.attempt(Gp,d,m)(y)}function d(y){return n++,r.push([t.currentConstruct,t.containerState]),p(y)}function m(y){if(y===null){a&&w(),h(0),e.consume(y);return}return a=a||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:a,contentType:"flow",previous:i}),v(y)}function v(y){if(y===null){E(e.exit("chunkFlow"),!0),h(0),e.consume(y);return}return V(y)?(e.consume(y),E(e.exit("chunkFlow")),n=0,t.interrupt=void 0,s):(e.consume(y),v)}function E(y,F){const C=t.sliceStream(y);if(F&&C.push(null),y.previous=i,i&&(i.next=y),i=y,a.defineSkip(y.start),a.write(C),t.parser.lazy[y.start.line]){let S=a.events.length;for(;S--;)if(a.events[S][1].start.offset<o&&(!a.events[S][1].end||a.events[S][1].end.offset>o))return;const I=t.events.length;let T=I,j,x;for(;T--;)if(t.events[T][0]==="exit"&&t.events[T][1].type==="chunkFlow"){if(j){x=t.events[T][1].end;break}j=!0}for(h(n),S=I;S<t.events.length;)t.events[S][1].end={...x},S++;vt(t.events,T+1,0,t.events.slice(I)),t.events.length=S}}function h(y){let F=r.length;for(;F-- >y;){const C=r[F];t.containerState=C[1],C[0].exit.call(t,e)}r.length=y}function w(){a.write([null]),i=void 0,a=void 0,t.containerState._closeFlow=void 0}}function kP(e,t,r){return oe(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function fa(e){if(e===null||de(e)||bn(e))return 1;if(xs(e))return 2}function Ps(e,t,r){const n=[];let a=-1;for(;++a<e.length;){const i=e[a].resolveAll;i&&!n.includes(i)&&(t=i(t,r),n.push(i))}return t}const Gu={name:"attention",resolveAll:xP,tokenize:PP};function xP(e,t){let r=-1,n,a,i,o,s,l,u,f;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;l=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const c={...e[n][1].end},p={...e[r][1].start};$p(c,-l),$p(p,l),o={type:l>1?"strongSequence":"emphasisSequence",start:c,end:{...e[n][1].end}},s={type:l>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:p},i={type:l>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},a={type:l>1?"strong":"emphasis",start:{...o.start},end:{...s.end}},e[n][1].end={...o.start},e[r][1].start={...s.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=Mt(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=Mt(u,[["enter",a,t],["enter",o,t],["exit",o,t],["enter",i,t]]),u=Mt(u,Ps(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=Mt(u,[["exit",i,t],["enter",s,t],["exit",s,t],["exit",a,t]]),e[r][1].end.offset-e[r][1].start.offset?(f=2,u=Mt(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):f=0,vt(e,n-1,r-n+3,u),r=n+u.length-f-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function PP(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,a=fa(n);let i;return o;function o(l){return i=l,e.enter("attentionSequence"),s(l)}function s(l){if(l===i)return e.consume(l),s;const u=e.exit("attentionSequence"),f=fa(l),c=!f||f===2&&a||r.includes(l),p=!a||a===2&&f||r.includes(n);return u._open=!!(i===42?c:c&&(a||!p)),u._close=!!(i===42?p:p&&(f||!c)),t(l)}}function $p(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const EP={name:"autolink",tokenize:FP};function FP(e,t,r){let n=0;return a;function a(d){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),i}function i(d){return Ze(d)?(e.consume(d),o):d===64?r(d):u(d)}function o(d){return d===43||d===45||d===46||Ye(d)?(n=1,s(d)):u(d)}function s(d){return d===58?(e.consume(d),n=0,l):(d===43||d===45||d===46||Ye(d))&&n++<32?(e.consume(d),s):(n=0,u(d))}function l(d){return d===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):d===null||d===32||d===60||Yo(d)?r(d):(e.consume(d),l)}function u(d){return d===64?(e.consume(d),f):gP(d)?(e.consume(d),u):r(d)}function f(d){return Ye(d)?c(d):r(d)}function c(d){return d===46?(e.consume(d),n=0,f):d===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(d),e.exit("autolinkMarker"),e.exit("autolink"),t):p(d)}function p(d){if((d===45||Ye(d))&&n++<63){const m=d===45?p:c;return e.consume(d),m}return r(d)}}const Ai={partial:!0,tokenize:CP};function CP(e,t,r){return n;function n(i){return te(i)?oe(e,a,"linePrefix")(i):a(i)}function a(i){return i===null||V(i)?t(i):r(i)}}const Zw={continuation:{tokenize:AP},exit:TP,name:"blockQuote",tokenize:MP};function MP(e,t,r){const n=this;return a;function a(o){if(o===62){const s=n.containerState;return s.open||(e.enter("blockQuote",{_container:!0}),s.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(o),e.exit("blockQuoteMarker"),i}return r(o)}function i(o){return te(o)?(e.enter("blockQuotePrefixWhitespace"),e.consume(o),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(o))}}function AP(e,t,r){const n=this;return a;function a(o){return te(o)?oe(e,i,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):i(o)}function i(o){return e.attempt(Zw,t,r)(o)}}function TP(e){e.exit("blockQuote")}const ey={name:"characterEscape",tokenize:IP};function IP(e,t,r){return n;function n(i){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(i),e.exit("escapeMarker"),a}function a(i){return yP(i)?(e.enter("characterEscapeValue"),e.consume(i),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(i)}}const ty={name:"characterReference",tokenize:OP};function OP(e,t,r){const n=this;let a=0,i,o;return s;function s(c){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),l}function l(c){return c===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(c),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),i=31,o=Ye,f(c))}function u(c){return c===88||c===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(c),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),i=6,o=wP,f):(e.enter("characterReferenceValue"),i=7,o=Vu,f(c))}function f(c){if(c===59&&a){const p=e.exit("characterReferenceValue");return o===Ye&&!gf(n.sliceSerialize(p))?r(c):(e.enter("characterReferenceMarker"),e.consume(c),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return o(c)&&a++<i?(e.consume(c),f):r(c)}}const qp={partial:!0,tokenize:UP},Qp={concrete:!0,name:"codeFenced",tokenize:NP};function NP(e,t,r){const n=this,a={partial:!0,tokenize:C};let i=0,o=0,s;return l;function l(S){return u(S)}function u(S){const I=n.events[n.events.length-1];return i=I&&I[1].type==="linePrefix"?I[2].sliceSerialize(I[1],!0).length:0,s=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),f(S)}function f(S){return S===s?(o++,e.consume(S),f):o<3?r(S):(e.exit("codeFencedFenceSequence"),te(S)?oe(e,c,"whitespace")(S):c(S))}function c(S){return S===null||V(S)?(e.exit("codeFencedFence"),n.interrupt?t(S):e.check(qp,v,F)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||V(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),c(S)):te(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),oe(e,d,"whitespace")(S)):S===96&&S===s?r(S):(e.consume(S),p)}function d(S){return S===null||V(S)?c(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(S))}function m(S){return S===null||V(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),c(S)):S===96&&S===s?r(S):(e.consume(S),m)}function v(S){return e.attempt(a,F,E)(S)}function E(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),h}function h(S){return i>0&&te(S)?oe(e,w,"linePrefix",i+1)(S):w(S)}function w(S){return S===null||V(S)?e.check(qp,v,F)(S):(e.enter("codeFlowValue"),y(S))}function y(S){return S===null||V(S)?(e.exit("codeFlowValue"),w(S)):(e.consume(S),y)}function F(S){return e.exit("codeFenced"),t(S)}function C(S,I,T){let j=0;return x;function x(J){return S.enter("lineEnding"),S.consume(J),S.exit("lineEnding"),L}function L(J){return S.enter("codeFencedFence"),te(J)?oe(S,R,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(J):R(J)}function R(J){return J===s?(S.enter("codeFencedFenceSequence"),Q(J)):T(J)}function Q(J){return J===s?(j++,S.consume(J),Q):j>=o?(S.exit("codeFencedFenceSequence"),te(J)?oe(S,K,"whitespace")(J):K(J)):T(J)}function K(J){return J===null||V(J)?(S.exit("codeFencedFence"),I(J)):T(J)}}}function UP(e,t,r){const n=this;return a;function a(o){return o===null?r(o):(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i)}function i(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}const dl={name:"codeIndented",tokenize:RP},LP={partial:!0,tokenize:DP};function RP(e,t,r){const n=this;return a;function a(u){return e.enter("codeIndented"),oe(e,i,"linePrefix",5)(u)}function i(u){const f=n.events[n.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?o(u):r(u)}function o(u){return u===null?l(u):V(u)?e.attempt(LP,o,l)(u):(e.enter("codeFlowValue"),s(u))}function s(u){return u===null||V(u)?(e.exit("codeFlowValue"),o(u)):(e.consume(u),s)}function l(u){return e.exit("codeIndented"),t(u)}}function DP(e,t,r){const n=this;return a;function a(o){return n.parser.lazy[n.now().line]?r(o):V(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),a):oe(e,i,"linePrefix",5)(o)}function i(o){const s=n.events[n.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):V(o)?a(o):r(o)}}const zP={name:"codeText",previous:BP,resolve:jP,tokenize:HP};function jP(e){let t=e.length-4,r=3,n,a;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)a===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(a=n):(n===t||e[n][1].type==="lineEnding")&&(e[a][1].type="codeTextData",n!==a+2&&(e[a][1].end=e[n-1][1].end,e.splice(a+2,n-a-2),t-=n-a-2,n=a+2),a=void 0);return e}function BP(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function HP(e,t,r){let n=0,a,i;return o;function o(c){return e.enter("codeText"),e.enter("codeTextSequence"),s(c)}function s(c){return c===96?(e.consume(c),n++,s):(e.exit("codeTextSequence"),l(c))}function l(c){return c===null?r(c):c===32?(e.enter("space"),e.consume(c),e.exit("space"),l):c===96?(i=e.enter("codeTextSequence"),a=0,f(c)):V(c)?(e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),l):(e.enter("codeTextData"),u(c))}function u(c){return c===null||c===32||c===96||V(c)?(e.exit("codeTextData"),l(c)):(e.consume(c),u)}function f(c){return c===96?(e.consume(c),a++,f):a===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(c)):(i.type="codeTextData",u(c))}}class WP{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const a=r||0;this.setCursor(Math.trunc(t));const i=this.right.splice(this.right.length-a,Number.POSITIVE_INFINITY);return n&&Ia(this.left,n),i.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Ia(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Ia(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Ia(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Ia(this.left,r.reverse())}}}function Ia(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function ry(e){const t={};let r=-1,n,a,i,o,s,l,u;const f=new WP(e);for(;++r<f.length;){for(;r in t;)r=t[r];if(n=f.get(r),r&&n[1].type==="chunkFlow"&&f.get(r-1)[1].type==="listItemPrefix"&&(l=n[1]._tokenizer.events,i=0,i<l.length&&l[i][1].type==="lineEndingBlank"&&(i+=2),i<l.length&&l[i][1].type==="content"))for(;++i<l.length&&l[i][1].type!=="content";)l[i][1].type==="chunkText"&&(l[i][1]._isInFirstContentOfListItem=!0,i++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,VP(f,r)),r=t[r],u=!0);else if(n[1]._container){for(i=r,a=void 0;i--;)if(o=f.get(i),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(a&&(f.get(a)[1].type="lineEndingBlank"),o[1].type="lineEnding",a=i);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;a&&(n[1].end={...f.get(a)[1].start},s=f.slice(a,r),s.unshift(n),f.splice(a,r-a+1,s))}}return vt(e,0,Number.POSITIVE_INFINITY,f.slice(0)),!u}function VP(e,t){const r=e.get(t)[1],n=e.get(t)[2];let a=t-1;const i=[];let o=r._tokenizer;o||(o=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const s=o.events,l=[],u={};let f,c,p=-1,d=r,m=0,v=0;const E=[v];for(;d;){for(;e.get(++a)[1]!==d;);i.push(a),d._tokenizer||(f=n.sliceStream(d),d.next||f.push(null),c&&o.defineSkip(d.start),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(f),d._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),c=d,d=d.next}for(d=r;++p<s.length;)s[p][0]==="exit"&&s[p-1][0]==="enter"&&s[p][1].type===s[p-1][1].type&&s[p][1].start.line!==s[p][1].end.line&&(v=p+1,E.push(v),d._tokenizer=void 0,d.previous=void 0,d=d.next);for(o.events=[],d?(d._tokenizer=void 0,d.previous=void 0):E.pop(),p=E.length;p--;){const h=s.slice(E[p],E[p+1]),w=i.pop();l.push([w,w+h.length-1]),e.splice(w,2,h)}for(l.reverse(),p=-1;++p<l.length;)u[m+l[p][0]]=m+l[p][1],m+=l[p][1]-l[p][0]-1;return u}const GP={resolve:qP,tokenize:QP},$P={partial:!0,tokenize:YP};function qP(e){return ry(e),e}function QP(e,t){let r;return n;function n(s){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),a(s)}function a(s){return s===null?i(s):V(s)?e.check($P,o,i)(s):(e.consume(s),a)}function i(s){return e.exit("chunkContent"),e.exit("content"),t(s)}function o(s){return e.consume(s),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,a}}function YP(e,t,r){const n=this;return a;function a(o){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),oe(e,i,"linePrefix")}function i(o){if(o===null||V(o))return r(o);const s=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?t(o):e.interrupt(n.parser.constructs.flow,r,t)(o)}}function ny(e,t,r,n,a,i,o,s,l){const u=l||Number.POSITIVE_INFINITY;let f=0;return c;function c(h){return h===60?(e.enter(n),e.enter(a),e.enter(i),e.consume(h),e.exit(i),p):h===null||h===32||h===41||Yo(h)?r(h):(e.enter(n),e.enter(o),e.enter(s),e.enter("chunkString",{contentType:"string"}),v(h))}function p(h){return h===62?(e.enter(i),e.consume(h),e.exit(i),e.exit(a),e.exit(n),t):(e.enter(s),e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===62?(e.exit("chunkString"),e.exit(s),p(h)):h===null||h===60||V(h)?r(h):(e.consume(h),h===92?m:d)}function m(h){return h===60||h===62||h===92?(e.consume(h),d):d(h)}function v(h){return!f&&(h===null||h===41||de(h))?(e.exit("chunkString"),e.exit(s),e.exit(o),e.exit(n),t(h)):f<u&&h===40?(e.consume(h),f++,v):h===41?(e.consume(h),f--,v):h===null||h===32||h===40||Yo(h)?r(h):(e.consume(h),h===92?E:v)}function E(h){return h===40||h===41||h===92?(e.consume(h),v):v(h)}}function ay(e,t,r,n,a,i){const o=this;let s=0,l;return u;function u(d){return e.enter(n),e.enter(a),e.consume(d),e.exit(a),e.enter(i),f}function f(d){return s>999||d===null||d===91||d===93&&!l||d===94&&!s&&"_hiddenFootnoteSupport"in o.parser.constructs?r(d):d===93?(e.exit(i),e.enter(a),e.consume(d),e.exit(a),e.exit(n),t):V(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),f):(e.enter("chunkString",{contentType:"string"}),c(d))}function c(d){return d===null||d===91||d===93||V(d)||s++>999?(e.exit("chunkString"),f(d)):(e.consume(d),l||(l=!te(d)),d===92?p:c)}function p(d){return d===91||d===92||d===93?(e.consume(d),s++,c):c(d)}}function iy(e,t,r,n,a,i){let o;return s;function s(p){return p===34||p===39||p===40?(e.enter(n),e.enter(a),e.consume(p),e.exit(a),o=p===40?41:p,l):r(p)}function l(p){return p===o?(e.enter(a),e.consume(p),e.exit(a),e.exit(n),t):(e.enter(i),u(p))}function u(p){return p===o?(e.exit(i),l(o)):p===null?r(p):V(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),oe(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),f(p))}function f(p){return p===o||p===null||V(p)?(e.exit("chunkString"),u(p)):(e.consume(p),p===92?c:f)}function c(p){return p===o||p===92?(e.consume(p),f):f(p)}}function ei(e,t){let r;return n;function n(a){return V(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),r=!0,n):te(a)?oe(e,n,r?"linePrefix":"lineSuffix")(a):t(a)}}const JP={name:"definition",tokenize:XP},KP={partial:!0,tokenize:ZP};function XP(e,t,r){const n=this;let a;return i;function i(d){return e.enter("definition"),o(d)}function o(d){return ay.call(n,e,s,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(d)}function s(d){return a=Ht(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),d===58?(e.enter("definitionMarker"),e.consume(d),e.exit("definitionMarker"),l):r(d)}function l(d){return de(d)?ei(e,u)(d):u(d)}function u(d){return ny(e,f,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(d)}function f(d){return e.attempt(KP,c,c)(d)}function c(d){return te(d)?oe(e,p,"whitespace")(d):p(d)}function p(d){return d===null||V(d)?(e.exit("definition"),n.parser.defined.push(a),t(d)):r(d)}}function ZP(e,t,r){return n;function n(s){return de(s)?ei(e,a)(s):r(s)}function a(s){return iy(e,i,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(s)}function i(s){return te(s)?oe(e,o,"whitespace")(s):o(s)}function o(s){return s===null||V(s)?t(s):r(s)}}const eE={name:"hardBreakEscape",tokenize:tE};function tE(e,t,r){return n;function n(i){return e.enter("hardBreakEscape"),e.consume(i),a}function a(i){return V(i)?(e.exit("hardBreakEscape"),t(i)):r(i)}}const rE={name:"headingAtx",resolve:nE,tokenize:aE};function nE(e,t){let r=e.length-2,n=3,a,i;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(a={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},i={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},vt(e,n,r-n+1,[["enter",a,t],["enter",i,t],["exit",i,t],["exit",a,t]])),e}function aE(e,t,r){let n=0;return a;function a(f){return e.enter("atxHeading"),i(f)}function i(f){return e.enter("atxHeadingSequence"),o(f)}function o(f){return f===35&&n++<6?(e.consume(f),o):f===null||de(f)?(e.exit("atxHeadingSequence"),s(f)):r(f)}function s(f){return f===35?(e.enter("atxHeadingSequence"),l(f)):f===null||V(f)?(e.exit("atxHeading"),t(f)):te(f)?oe(e,s,"whitespace")(f):(e.enter("atxHeadingText"),u(f))}function l(f){return f===35?(e.consume(f),l):(e.exit("atxHeadingSequence"),s(f))}function u(f){return f===null||f===35||de(f)?(e.exit("atxHeadingText"),s(f)):(e.consume(f),u)}}const iE=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Yp=["pre","script","style","textarea"],oE={concrete:!0,name:"htmlFlow",resolveTo:uE,tokenize:cE},sE={partial:!0,tokenize:dE},lE={partial:!0,tokenize:fE};function uE(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function cE(e,t,r){const n=this;let a,i,o,s,l;return u;function u(_){return f(_)}function f(_){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(_),c}function c(_){return _===33?(e.consume(_),p):_===47?(e.consume(_),i=!0,v):_===63?(e.consume(_),a=3,n.interrupt?t:g):Ze(_)?(e.consume(_),o=String.fromCharCode(_),E):r(_)}function p(_){return _===45?(e.consume(_),a=2,d):_===91?(e.consume(_),a=5,s=0,m):Ze(_)?(e.consume(_),a=4,n.interrupt?t:g):r(_)}function d(_){return _===45?(e.consume(_),n.interrupt?t:g):r(_)}function m(_){const xe="CDATA[";return _===xe.charCodeAt(s++)?(e.consume(_),s===xe.length?n.interrupt?t:R:m):r(_)}function v(_){return Ze(_)?(e.consume(_),o=String.fromCharCode(_),E):r(_)}function E(_){if(_===null||_===47||_===62||de(_)){const xe=_===47,ct=o.toLowerCase();return!xe&&!i&&Yp.includes(ct)?(a=1,n.interrupt?t(_):R(_)):iE.includes(o.toLowerCase())?(a=6,xe?(e.consume(_),h):n.interrupt?t(_):R(_)):(a=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(_):i?w(_):y(_))}return _===45||Ye(_)?(e.consume(_),o+=String.fromCharCode(_),E):r(_)}function h(_){return _===62?(e.consume(_),n.interrupt?t:R):r(_)}function w(_){return te(_)?(e.consume(_),w):x(_)}function y(_){return _===47?(e.consume(_),x):_===58||_===95||Ze(_)?(e.consume(_),F):te(_)?(e.consume(_),y):x(_)}function F(_){return _===45||_===46||_===58||_===95||Ye(_)?(e.consume(_),F):C(_)}function C(_){return _===61?(e.consume(_),S):te(_)?(e.consume(_),C):y(_)}function S(_){return _===null||_===60||_===61||_===62||_===96?r(_):_===34||_===39?(e.consume(_),l=_,I):te(_)?(e.consume(_),S):T(_)}function I(_){return _===l?(e.consume(_),l=null,j):_===null||V(_)?r(_):(e.consume(_),I)}function T(_){return _===null||_===34||_===39||_===47||_===60||_===61||_===62||_===96||de(_)?C(_):(e.consume(_),T)}function j(_){return _===47||_===62||te(_)?y(_):r(_)}function x(_){return _===62?(e.consume(_),L):r(_)}function L(_){return _===null||V(_)?R(_):te(_)?(e.consume(_),L):r(_)}function R(_){return _===45&&a===2?(e.consume(_),be):_===60&&a===1?(e.consume(_),le):_===62&&a===4?(e.consume(_),z):_===63&&a===3?(e.consume(_),g):_===93&&a===5?(e.consume(_),k):V(_)&&(a===6||a===7)?(e.exit("htmlFlowData"),e.check(sE,X,Q)(_)):_===null||V(_)?(e.exit("htmlFlowData"),Q(_)):(e.consume(_),R)}function Q(_){return e.check(lE,K,X)(_)}function K(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),J}function J(_){return _===null||V(_)?Q(_):(e.enter("htmlFlowData"),R(_))}function be(_){return _===45?(e.consume(_),g):R(_)}function le(_){return _===47?(e.consume(_),o="",P):R(_)}function P(_){if(_===62){const xe=o.toLowerCase();return Yp.includes(xe)?(e.consume(_),z):R(_)}return Ze(_)&&o.length<8?(e.consume(_),o+=String.fromCharCode(_),P):R(_)}function k(_){return _===93?(e.consume(_),g):R(_)}function g(_){return _===62?(e.consume(_),z):_===45&&a===2?(e.consume(_),g):R(_)}function z(_){return _===null||V(_)?(e.exit("htmlFlowData"),X(_)):(e.consume(_),z)}function X(_){return e.exit("htmlFlow"),t(_)}}function fE(e,t,r){const n=this;return a;function a(o){return V(o)?(e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),i):r(o)}function i(o){return n.parser.lazy[n.now().line]?r(o):t(o)}}function dE(e,t,r){return n;function n(a){return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),e.attempt(Ai,t,r)}}const pE={name:"htmlText",tokenize:mE};function mE(e,t,r){const n=this;let a,i,o;return s;function s(g){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(g),l}function l(g){return g===33?(e.consume(g),u):g===47?(e.consume(g),C):g===63?(e.consume(g),y):Ze(g)?(e.consume(g),T):r(g)}function u(g){return g===45?(e.consume(g),f):g===91?(e.consume(g),i=0,m):Ze(g)?(e.consume(g),w):r(g)}function f(g){return g===45?(e.consume(g),d):r(g)}function c(g){return g===null?r(g):g===45?(e.consume(g),p):V(g)?(o=c,le(g)):(e.consume(g),c)}function p(g){return g===45?(e.consume(g),d):c(g)}function d(g){return g===62?be(g):g===45?p(g):c(g)}function m(g){const z="CDATA[";return g===z.charCodeAt(i++)?(e.consume(g),i===z.length?v:m):r(g)}function v(g){return g===null?r(g):g===93?(e.consume(g),E):V(g)?(o=v,le(g)):(e.consume(g),v)}function E(g){return g===93?(e.consume(g),h):v(g)}function h(g){return g===62?be(g):g===93?(e.consume(g),h):v(g)}function w(g){return g===null||g===62?be(g):V(g)?(o=w,le(g)):(e.consume(g),w)}function y(g){return g===null?r(g):g===63?(e.consume(g),F):V(g)?(o=y,le(g)):(e.consume(g),y)}function F(g){return g===62?be(g):y(g)}function C(g){return Ze(g)?(e.consume(g),S):r(g)}function S(g){return g===45||Ye(g)?(e.consume(g),S):I(g)}function I(g){return V(g)?(o=I,le(g)):te(g)?(e.consume(g),I):be(g)}function T(g){return g===45||Ye(g)?(e.consume(g),T):g===47||g===62||de(g)?j(g):r(g)}function j(g){return g===47?(e.consume(g),be):g===58||g===95||Ze(g)?(e.consume(g),x):V(g)?(o=j,le(g)):te(g)?(e.consume(g),j):be(g)}function x(g){return g===45||g===46||g===58||g===95||Ye(g)?(e.consume(g),x):L(g)}function L(g){return g===61?(e.consume(g),R):V(g)?(o=L,le(g)):te(g)?(e.consume(g),L):j(g)}function R(g){return g===null||g===60||g===61||g===62||g===96?r(g):g===34||g===39?(e.consume(g),a=g,Q):V(g)?(o=R,le(g)):te(g)?(e.consume(g),R):(e.consume(g),K)}function Q(g){return g===a?(e.consume(g),a=void 0,J):g===null?r(g):V(g)?(o=Q,le(g)):(e.consume(g),Q)}function K(g){return g===null||g===34||g===39||g===60||g===61||g===96?r(g):g===47||g===62||de(g)?j(g):(e.consume(g),K)}function J(g){return g===47||g===62||de(g)?j(g):r(g)}function be(g){return g===62?(e.consume(g),e.exit("htmlTextData"),e.exit("htmlText"),t):r(g)}function le(g){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(g),e.exit("lineEnding"),P}function P(g){return te(g)?oe(e,k,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(g):k(g)}function k(g){return e.enter("htmlTextData"),o(g)}}const wf={name:"labelEnd",resolveAll:yE,resolveTo:vE,tokenize:_E},hE={tokenize:bE},gE={tokenize:SE},wE={tokenize:kE};function yE(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const a=n.type==="labelImage"?4:2;n.type="data",t+=a}}return e.length!==r.length&&vt(e,0,e.length,r),e}function vE(e,t){let r=e.length,n=0,a,i,o,s;for(;r--;)if(a=e[r][1],i){if(a.type==="link"||a.type==="labelLink"&&a._inactive)break;e[r][0]==="enter"&&a.type==="labelLink"&&(a._inactive=!0)}else if(o){if(e[r][0]==="enter"&&(a.type==="labelImage"||a.type==="labelLink")&&!a._balanced&&(i=r,a.type!=="labelLink")){n=2;break}}else a.type==="labelEnd"&&(o=r);const l={type:e[i][1].type==="labelLink"?"link":"image",start:{...e[i][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[i][1].start},end:{...e[o][1].end}},f={type:"labelText",start:{...e[i+n+2][1].end},end:{...e[o-2][1].start}};return s=[["enter",l,t],["enter",u,t]],s=Mt(s,e.slice(i+1,i+n+3)),s=Mt(s,[["enter",f,t]]),s=Mt(s,Ps(t.parser.constructs.insideSpan.null,e.slice(i+n+4,o-3),t)),s=Mt(s,[["exit",f,t],e[o-2],e[o-1],["exit",u,t]]),s=Mt(s,e.slice(o+1)),s=Mt(s,[["exit",l,t]]),vt(e,i,e.length,s),e}function _E(e,t,r){const n=this;let a=n.events.length,i,o;for(;a--;)if((n.events[a][1].type==="labelImage"||n.events[a][1].type==="labelLink")&&!n.events[a][1]._balanced){i=n.events[a][1];break}return s;function s(p){return i?i._inactive?c(p):(o=n.parser.defined.includes(Ht(n.sliceSerialize({start:i.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):r(p)}function l(p){return p===40?e.attempt(hE,f,o?f:c)(p):p===91?e.attempt(gE,f,o?u:c)(p):o?f(p):c(p)}function u(p){return e.attempt(wE,f,c)(p)}function f(p){return t(p)}function c(p){return i._balanced=!0,r(p)}}function bE(e,t,r){return n;function n(c){return e.enter("resource"),e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),a}function a(c){return de(c)?ei(e,i)(c):i(c)}function i(c){return c===41?f(c):ny(e,o,s,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(c)}function o(c){return de(c)?ei(e,l)(c):f(c)}function s(c){return r(c)}function l(c){return c===34||c===39||c===40?iy(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(c):f(c)}function u(c){return de(c)?ei(e,f)(c):f(c)}function f(c){return c===41?(e.enter("resourceMarker"),e.consume(c),e.exit("resourceMarker"),e.exit("resource"),t):r(c)}}function SE(e,t,r){const n=this;return a;function a(s){return ay.call(n,e,i,o,"reference","referenceMarker","referenceString")(s)}function i(s){return n.parser.defined.includes(Ht(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(s):r(s)}function o(s){return r(s)}}function kE(e,t,r){return n;function n(i){return e.enter("reference"),e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),a}function a(i){return i===93?(e.enter("referenceMarker"),e.consume(i),e.exit("referenceMarker"),e.exit("reference"),t):r(i)}}const xE={name:"labelStartImage",resolveAll:wf.resolveAll,tokenize:PE};function PE(e,t,r){const n=this;return a;function a(s){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(s),e.exit("labelImageMarker"),i}function i(s){return s===91?(e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelImage"),o):r(s)}function o(s){return s===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(s):t(s)}}const EE={name:"labelStartLink",resolveAll:wf.resolveAll,tokenize:FE};function FE(e,t,r){const n=this;return a;function a(o){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelLink"),i}function i(o){return o===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(o):t(o)}}const pl={name:"lineEnding",tokenize:CE};function CE(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),oe(e,t,"linePrefix")}}const yo={name:"thematicBreak",tokenize:ME};function ME(e,t,r){let n=0,a;return i;function i(u){return e.enter("thematicBreak"),o(u)}function o(u){return a=u,s(u)}function s(u){return u===a?(e.enter("thematicBreakSequence"),l(u)):n>=3&&(u===null||V(u))?(e.exit("thematicBreak"),t(u)):r(u)}function l(u){return u===a?(e.consume(u),n++,l):(e.exit("thematicBreakSequence"),te(u)?oe(e,s,"whitespace")(u):s(u))}}const nt={continuation:{tokenize:OE},exit:UE,name:"list",tokenize:IE},AE={partial:!0,tokenize:LE},TE={partial:!0,tokenize:NE};function IE(e,t,r){const n=this,a=n.events[n.events.length-1];let i=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0,o=0;return s;function s(d){const m=n.containerState.type||(d===42||d===43||d===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||d===n.containerState.marker:Vu(d)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),d===42||d===45?e.check(yo,r,u)(d):u(d);if(!n.interrupt||d===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(d)}return r(d)}function l(d){return Vu(d)&&++o<10?(e.consume(d),l):(!n.interrupt||o<2)&&(n.containerState.marker?d===n.containerState.marker:d===41||d===46)?(e.exit("listItemValue"),u(d)):r(d)}function u(d){return e.enter("listItemMarker"),e.consume(d),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||d,e.check(Ai,n.interrupt?r:f,e.attempt(AE,p,c))}function f(d){return n.containerState.initialBlankLine=!0,i++,p(d)}function c(d){return te(d)?(e.enter("listItemPrefixWhitespace"),e.consume(d),e.exit("listItemPrefixWhitespace"),p):r(d)}function p(d){return n.containerState.size=i+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(d)}}function OE(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Ai,a,i);function a(s){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,oe(e,t,"listItemIndent",n.containerState.size+1)(s)}function i(s){return n.containerState.furtherBlankLines||!te(s)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,o(s)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(TE,t,o)(s))}function o(s){return n.containerState._closeFlow=!0,n.interrupt=void 0,oe(e,e.attempt(nt,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function NE(e,t,r){const n=this;return oe(e,a,"listItemIndent",n.containerState.size+1);function a(i){const o=n.events[n.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===n.containerState.size?t(i):r(i)}}function UE(e){e.exit(this.containerState.type)}function LE(e,t,r){const n=this;return oe(e,a,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function a(i){const o=n.events[n.events.length-1];return!te(i)&&o&&o[1].type==="listItemPrefixWhitespace"?t(i):r(i)}}const Jp={name:"setextUnderline",resolveTo:RE,tokenize:DE};function RE(e,t){let r=e.length,n,a,i;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(a=r)}else e[r][1].type==="content"&&e.splice(r,1),!i&&e[r][1].type==="definition"&&(i=r);const o={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[a][1].type="setextHeadingText",i?(e.splice(a,0,["enter",o,t]),e.splice(i+1,0,["exit",e[n][1],t]),e[n][1].end={...e[i][1].end}):e[n][1]=o,e.push(["exit",o,t]),e}function DE(e,t,r){const n=this;let a;return i;function i(u){let f=n.events.length,c;for(;f--;)if(n.events[f][1].type!=="lineEnding"&&n.events[f][1].type!=="linePrefix"&&n.events[f][1].type!=="content"){c=n.events[f][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||c)?(e.enter("setextHeadingLine"),a=u,o(u)):r(u)}function o(u){return e.enter("setextHeadingLineSequence"),s(u)}function s(u){return u===a?(e.consume(u),s):(e.exit("setextHeadingLineSequence"),te(u)?oe(e,l,"lineSuffix")(u):l(u))}function l(u){return u===null||V(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const zE={tokenize:jE};function jE(e){const t=this,r=e.attempt(Ai,n,e.attempt(this.parser.constructs.flowInitial,a,oe(e,e.attempt(this.parser.constructs.flow,a,e.attempt(GP,a)),"linePrefix")));return r;function n(i){if(i===null){e.consume(i);return}return e.enter("lineEndingBlank"),e.consume(i),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function a(i){if(i===null){e.consume(i);return}return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const BE={resolveAll:sy()},HE=oy("string"),WE=oy("text");function oy(e){return{resolveAll:sy(e==="text"?VE:void 0),tokenize:t};function t(r){const n=this,a=this.parser.constructs[e],i=r.attempt(a,o,s);return o;function o(f){return u(f)?i(f):s(f)}function s(f){if(f===null){r.consume(f);return}return r.enter("data"),r.consume(f),l}function l(f){return u(f)?(r.exit("data"),i(f)):(r.consume(f),l)}function u(f){if(f===null)return!0;const c=a[f];let p=-1;if(c)for(;++p<c.length;){const d=c[p];if(!d.previous||d.previous.call(n,n.previous))return!0}return!1}}}function sy(e){return t;function t(r,n){let a=-1,i;for(;++a<=r.length;)i===void 0?r[a]&&r[a][1].type==="data"&&(i=a,a++):(!r[a]||r[a][1].type!=="data")&&(a!==i+2&&(r[i][1].end=r[a-1][1].end,r.splice(i+2,a-i-2),a=i+2),i=void 0);return e?e(r,n):r}}function VE(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],a=t.sliceStream(n);let i=a.length,o=-1,s=0,l;for(;i--;){const u=a[i];if(typeof u=="string"){for(o=u.length;u.charCodeAt(o-1)===32;)s++,o--;if(o)break;o=-1}else if(u===-2)l=!0,s++;else if(u!==-1){i++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(s=0),s){const u={type:r===e.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:i?o:n.start._bufferIndex+o,_index:n.start._index+i,line:n.end.line,column:n.end.column-s,offset:n.end.offset-s},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const GE={42:nt,43:nt,45:nt,48:nt,49:nt,50:nt,51:nt,52:nt,53:nt,54:nt,55:nt,56:nt,57:nt,62:Zw},$E={91:JP},qE={[-2]:dl,[-1]:dl,32:dl},QE={35:rE,42:yo,45:[Jp,yo],60:oE,61:Jp,95:yo,96:Qp,126:Qp},YE={38:ty,92:ey},JE={[-5]:pl,[-4]:pl,[-3]:pl,33:xE,38:ty,42:Gu,60:[EP,pE],91:EE,92:[eE,ey],93:wf,95:Gu,96:zP},KE={null:[Gu,BE]},XE={null:[42,95]},ZE={null:[]},e2=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:XE,contentInitial:$E,disable:ZE,document:GE,flow:QE,flowInitial:qE,insideSpan:KE,string:YE,text:JE},Symbol.toStringTag,{value:"Module"}));function t2(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const a={},i=[];let o=[],s=[];const l={attempt:I(C),check:I(S),consume:w,enter:y,exit:F,interrupt:I(S,{interrupt:!0})},u={code:null,containerState:{},defineSkip:v,events:[],now:m,parser:e,previous:null,sliceSerialize:p,sliceStream:d,write:c};let f=t.tokenize.call(u,l);return t.resolveAll&&i.push(t),u;function c(L){return o=Mt(o,L),E(),o[o.length-1]!==null?[]:(T(t,0),u.events=Ps(i,u.events,u),u.events)}function p(L,R){return n2(d(L),R)}function d(L){return r2(o,L)}function m(){const{_bufferIndex:L,_index:R,line:Q,column:K,offset:J}=n;return{_bufferIndex:L,_index:R,line:Q,column:K,offset:J}}function v(L){a[L.line]=L.column,x()}function E(){let L;for(;n._index<o.length;){const R=o[n._index];if(typeof R=="string")for(L=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===L&&n._bufferIndex<R.length;)h(R.charCodeAt(n._bufferIndex));else h(R)}}function h(L){f=f(L)}function w(L){V(L)?(n.line++,n.column=1,n.offset+=L===-3?2:1,x()):L!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===o[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=L}function y(L,R){const Q=R||{};return Q.type=L,Q.start=m(),u.events.push(["enter",Q,u]),s.push(Q),Q}function F(L){const R=s.pop();return R.end=m(),u.events.push(["exit",R,u]),R}function C(L,R){T(L,R.from)}function S(L,R){R.restore()}function I(L,R){return Q;function Q(K,J,be){let le,P,k,g;return Array.isArray(K)?X(K):"tokenize"in K?X([K]):z(K);function z(he){return Gt;function Gt(br){const Pn=br!==null&&he[br],En=br!==null&&he.null,Ii=[...Array.isArray(Pn)?Pn:Pn?[Pn]:[],...Array.isArray(En)?En:En?[En]:[]];return X(Ii)(br)}}function X(he){return le=he,P=0,he.length===0?be:_(he[P])}function _(he){return Gt;function Gt(br){return g=j(),k=he,he.partial||(u.currentConstruct=he),he.name&&u.parser.constructs.disable.null.includes(he.name)?ct():he.tokenize.call(R?Object.assign(Object.create(u),R):u,l,xe,ct)(br)}}function xe(he){return L(k,g),J}function ct(he){return g.restore(),++P<le.length?_(le[P]):be}}}function T(L,R){L.resolveAll&&!i.includes(L)&&i.push(L),L.resolve&&vt(u.events,R,u.events.length-R,L.resolve(u.events.slice(R),u)),L.resolveTo&&(u.events=L.resolveTo(u.events,u))}function j(){const L=m(),R=u.previous,Q=u.currentConstruct,K=u.events.length,J=Array.from(s);return{from:K,restore:be};function be(){n=L,u.previous=R,u.currentConstruct=Q,u.events.length=K,s=J,x()}}function x(){n.line in a&&n.column<2&&(n.column=a[n.line],n.offset+=a[n.line]-1)}}function r2(e,t){const r=t.start._index,n=t.start._bufferIndex,a=t.end._index,i=t.end._bufferIndex;let o;if(r===a)o=[e[r].slice(n,i)];else{if(o=e.slice(r,a),n>-1){const s=o[0];typeof s=="string"?o[0]=s.slice(n):o.shift()}i>0&&o.push(e[a].slice(0,i))}return o}function n2(e,t){let r=-1;const n=[];let a;for(;++r<e.length;){const i=e[r];let o;if(typeof i=="string")o=i;else switch(i){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=t?" ":"	";break}case-1:{if(!t&&a)continue;o=" ";break}default:o=String.fromCharCode(i)}a=i===-2,n.push(o)}return n.join("")}function a2(e){const n={constructs:Kw([e2,...(e||{}).extensions||[]]),content:a(vP),defined:[],document:a(bP),flow:a(zE),lazy:{},string:a(HE),text:a(WE)};return n;function a(i){return o;function o(s){return t2(n,i,s)}}}function i2(e){for(;!ry(e););return e}const Kp=/[\0\t\n\r]/g;function o2(){let e=1,t="",r=!0,n;return a;function a(i,o,s){const l=[];let u,f,c,p,d;for(i=t+(typeof i=="string"?i.toString():new TextDecoder(o||void 0).decode(i)),c=0,t="",r&&(i.charCodeAt(0)===65279&&c++,r=void 0);c<i.length;){if(Kp.lastIndex=c,u=Kp.exec(i),p=u&&u.index!==void 0?u.index:i.length,d=i.charCodeAt(p),!u){t=i.slice(c);break}if(d===10&&c===p&&n)l.push(-3),n=void 0;else switch(n&&(l.push(-5),n=void 0),c<p&&(l.push(i.slice(c,p)),e+=p-c),d){case 0:{l.push(65533),e++;break}case 9:{for(f=Math.ceil(e/4)*4,l.push(-2);e++<f;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:n=!0,e=1}c=p+1}return s&&(n&&l.push(-5),t&&l.push(t),l.push(null)),l}}const s2=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function l2(e){return e.replace(s2,u2)}function u2(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const a=r.charCodeAt(1),i=a===120||a===88;return Xw(r.slice(i?2:1),i?16:10)}return gf(r)||e}const ly={}.hasOwnProperty;function c2(e,t,r){return typeof t!="string"&&(r=t,t=void 0),f2(r)(i2(a2(r).document().write(o2()(e,t,!0))))}function f2(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:i(Af),autolinkProtocol:j,autolinkEmail:j,atxHeading:i(Ff),blockQuote:i(En),characterEscape:j,characterReference:j,codeFenced:i(Ii),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:i(Ii,o),codeText:i(Gy,o),codeTextData:j,data:j,codeFlowValue:j,definition:i($y),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:i(qy),hardBreakEscape:i(Cf),hardBreakTrailing:i(Cf),htmlFlow:i(Mf,o),htmlFlowData:j,htmlText:i(Mf,o),htmlTextData:j,image:i(Qy),label:o,link:i(Af),listItem:i(Yy),listItemValue:p,listOrdered:i(Tf,c),listUnordered:i(Tf),paragraph:i(Jy),reference:_,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:i(Ff),strong:i(Ky),thematicBreak:i(Zy)},exit:{atxHeading:l(),atxHeadingSequence:C,autolink:l(),autolinkEmail:Pn,autolinkProtocol:br,blockQuote:l(),characterEscapeValue:x,characterReferenceMarkerHexadecimal:ct,characterReferenceMarkerNumeric:ct,characterReferenceValue:he,characterReference:Gt,codeFenced:l(E),codeFencedFence:v,codeFencedFenceInfo:d,codeFencedFenceMeta:m,codeFlowValue:x,codeIndented:l(h),codeText:l(J),codeTextData:x,data:x,definition:l(),definitionDestinationString:F,definitionLabelString:w,definitionTitleString:y,emphasis:l(),hardBreakEscape:l(R),hardBreakTrailing:l(R),htmlFlow:l(Q),htmlFlowData:x,htmlText:l(K),htmlTextData:x,image:l(le),label:k,labelText:P,lineEnding:L,link:l(be),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:xe,resourceDestinationString:g,resourceTitleString:z,resource:X,setextHeading:l(T),setextHeadingLineSequence:I,setextHeadingText:S,strong:l(),thematicBreak:l()}};uy(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(A){let U={type:"root",children:[]};const $={stack:[U],tokenStack:[],config:t,enter:s,exit:u,buffer:o,resume:f,data:r},ae=[];let fe=-1;for(;++fe<A.length;)if(A[fe][1].type==="listOrdered"||A[fe][1].type==="listUnordered")if(A[fe][0]==="enter")ae.push(fe);else{const Nt=ae.pop();fe=a(A,Nt,fe)}for(fe=-1;++fe<A.length;){const Nt=t[A[fe][0]];ly.call(Nt,A[fe][1].type)&&Nt[A[fe][1].type].call(Object.assign({sliceSerialize:A[fe][2].sliceSerialize},$),A[fe][1])}if($.tokenStack.length>0){const Nt=$.tokenStack[$.tokenStack.length-1];(Nt[1]||Xp).call($,void 0,Nt[0])}for(U.position={start:xr(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:xr(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},fe=-1;++fe<t.transforms.length;)U=t.transforms[fe](U)||U;return U}function a(A,U,$){let ae=U-1,fe=-1,Nt=!1,Kr,ar,_a,ba;for(;++ae<=$;){const ft=A[ae];switch(ft[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ft[0]==="enter"?fe++:fe--,ba=void 0;break}case"lineEndingBlank":{ft[0]==="enter"&&(Kr&&!ba&&!fe&&!_a&&(_a=ae),ba=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:ba=void 0}if(!fe&&ft[0]==="enter"&&ft[1].type==="listItemPrefix"||fe===-1&&ft[0]==="exit"&&(ft[1].type==="listUnordered"||ft[1].type==="listOrdered")){if(Kr){let Fn=ae;for(ar=void 0;Fn--;){const ir=A[Fn];if(ir[1].type==="lineEnding"||ir[1].type==="lineEndingBlank"){if(ir[0]==="exit")continue;ar&&(A[ar][1].type="lineEndingBlank",Nt=!0),ir[1].type="lineEnding",ar=Fn}else if(!(ir[1].type==="linePrefix"||ir[1].type==="blockQuotePrefix"||ir[1].type==="blockQuotePrefixWhitespace"||ir[1].type==="blockQuoteMarker"||ir[1].type==="listItemIndent"))break}_a&&(!ar||_a<ar)&&(Kr._spread=!0),Kr.end=Object.assign({},ar?A[ar][1].start:ft[1].end),A.splice(ar||ae,0,["exit",Kr,ft[2]]),ae++,$++}if(ft[1].type==="listItemPrefix"){const Fn={type:"listItem",_spread:!1,start:Object.assign({},ft[1].start),end:void 0};Kr=Fn,A.splice(ae,0,["enter",Fn,ft[2]]),ae++,$++,_a=void 0,ba=!0}}}return A[U][1]._spread=Nt,$}function i(A,U){return $;function $(ae){s.call(this,A(ae),ae),U&&U.call(this,ae)}}function o(){this.stack.push({type:"fragment",children:[]})}function s(A,U,$){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([U,$||void 0]),A.position={start:xr(U.start),end:void 0}}function l(A){return U;function U($){A&&A.call(this,$),u.call(this,$)}}function u(A,U){const $=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==A.type&&(U?U.call(this,A,ae[0]):(ae[1]||Xp).call(this,A,ae[0]));else throw new Error("Cannot close `"+A.type+"` ("+Za({start:A.start,end:A.end})+"): its not open");$.position.end=xr(A.end)}function f(){return hf(this.stack.pop())}function c(){this.data.expectingFirstListItemValue=!0}function p(A){if(this.data.expectingFirstListItemValue){const U=this.stack[this.stack.length-2];U.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function d(){const A=this.resume(),U=this.stack[this.stack.length-1];U.lang=A}function m(){const A=this.resume(),U=this.stack[this.stack.length-1];U.meta=A}function v(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const A=this.resume(),U=this.stack[this.stack.length-1];U.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function h(){const A=this.resume(),U=this.stack[this.stack.length-1];U.value=A.replace(/(\r?\n|\r)$/g,"")}function w(A){const U=this.resume(),$=this.stack[this.stack.length-1];$.label=U,$.identifier=Ht(this.sliceSerialize(A)).toLowerCase()}function y(){const A=this.resume(),U=this.stack[this.stack.length-1];U.title=A}function F(){const A=this.resume(),U=this.stack[this.stack.length-1];U.url=A}function C(A){const U=this.stack[this.stack.length-1];if(!U.depth){const $=this.sliceSerialize(A).length;U.depth=$}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function I(A){const U=this.stack[this.stack.length-1];U.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function T(){this.data.setextHeadingSlurpLineEnding=void 0}function j(A){const $=this.stack[this.stack.length-1].children;let ae=$[$.length-1];(!ae||ae.type!=="text")&&(ae=Xy(),ae.position={start:xr(A.start),end:void 0},$.push(ae)),this.stack.push(ae)}function x(A){const U=this.stack.pop();U.value+=this.sliceSerialize(A),U.position.end=xr(A.end)}function L(A){const U=this.stack[this.stack.length-1];if(this.data.atHardBreak){const $=U.children[U.children.length-1];$.position.end=xr(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(U.type)&&(j.call(this,A),x.call(this,A))}function R(){this.data.atHardBreak=!0}function Q(){const A=this.resume(),U=this.stack[this.stack.length-1];U.value=A}function K(){const A=this.resume(),U=this.stack[this.stack.length-1];U.value=A}function J(){const A=this.resume(),U=this.stack[this.stack.length-1];U.value=A}function be(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=U,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function le(){const A=this.stack[this.stack.length-1];if(this.data.inReference){const U=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=U,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function P(A){const U=this.sliceSerialize(A),$=this.stack[this.stack.length-2];$.label=l2(U),$.identifier=Ht(U).toLowerCase()}function k(){const A=this.stack[this.stack.length-1],U=this.resume(),$=this.stack[this.stack.length-1];if(this.data.inReference=!0,$.type==="link"){const ae=A.children;$.children=ae}else $.alt=U}function g(){const A=this.resume(),U=this.stack[this.stack.length-1];U.url=A}function z(){const A=this.resume(),U=this.stack[this.stack.length-1];U.title=A}function X(){this.data.inReference=void 0}function _(){this.data.referenceType="collapsed"}function xe(A){const U=this.resume(),$=this.stack[this.stack.length-1];$.label=U,$.identifier=Ht(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function ct(A){this.data.characterReferenceType=A.type}function he(A){const U=this.sliceSerialize(A),$=this.data.characterReferenceType;let ae;$?(ae=Xw(U,$==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=gf(U);const fe=this.stack[this.stack.length-1];fe.value+=ae}function Gt(A){const U=this.stack.pop();U.position.end=xr(A.end)}function br(A){x.call(this,A);const U=this.stack[this.stack.length-1];U.url=this.sliceSerialize(A)}function Pn(A){x.call(this,A);const U=this.stack[this.stack.length-1];U.url="mailto:"+this.sliceSerialize(A)}function En(){return{type:"blockquote",children:[]}}function Ii(){return{type:"code",lang:null,meta:null,value:""}}function Gy(){return{type:"inlineCode",value:""}}function $y(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function qy(){return{type:"emphasis",children:[]}}function Ff(){return{type:"heading",depth:0,children:[]}}function Cf(){return{type:"break"}}function Mf(){return{type:"html",value:""}}function Qy(){return{type:"image",title:null,url:"",alt:null}}function Af(){return{type:"link",title:null,url:"",children:[]}}function Tf(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function Yy(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function Jy(){return{type:"paragraph",children:[]}}function Ky(){return{type:"strong",children:[]}}function Xy(){return{type:"text",value:""}}function Zy(){return{type:"thematicBreak"}}}function xr(e){return{line:e.line,column:e.column,offset:e.offset}}function uy(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?uy(e,n):d2(e,n)}}function d2(e,t){let r;for(r in t)if(ly.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Xp(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Za({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Za({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Za({start:t.start,end:t.end})+") is still open")}function p2(e){const t=this;t.parser=r;function r(n){return c2(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function m2(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function h2(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function g2(e,t){const r=t.value?t.value+`
`:"",n={},a=t.lang?t.lang.split(/\s+/):[];a.length>0&&(n.className=["language-"+a[0]]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function w2(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function y2(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v2(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),a=va(n.toLowerCase()),i=e.footnoteOrder.indexOf(n);let o,s=e.footnoteCounts.get(n);s===void 0?(s=0,e.footnoteOrder.push(n),o=e.footnoteOrder.length):o=i+1,s+=1,e.footnoteCounts.set(n,s);const l={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+a,id:r+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};e.patch(t,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,u),e.applyData(t,u)}function _2(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function b2(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function cy(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const a=e.all(t),i=a[0];i&&i.type==="text"?i.value="["+i.value:a.unshift({type:"text",value:"["});const o=a[a.length-1];return o&&o.type==="text"?o.value+=n:a.push({type:"text",value:n}),a}function S2(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return cy(e,t);const a={src:va(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"img",properties:a,children:[]};return e.patch(t,i),e.applyData(t,i)}function k2(e,t){const r={src:va(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function x2(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function P2(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return cy(e,t);const a={href:va(n.url||"")};n.title!==null&&n.title!==void 0&&(a.title=n.title);const i={type:"element",tagName:"a",properties:a,children:e.all(t)};return e.patch(t,i),e.applyData(t,i)}function E2(e,t){const r={href:va(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F2(e,t,r){const n=e.all(t),a=r?C2(r):fy(t),i={},o=[];if(typeof t.checked=="boolean"){const f=n[0];let c;f&&f.type==="element"&&f.tagName==="p"?c=f:(c={type:"element",tagName:"p",properties:{},children:[]},n.unshift(c)),c.children.length>0&&c.children.unshift({type:"text",value:" "}),c.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),i.className=["task-list-item"]}let s=-1;for(;++s<n.length;){const f=n[s];(a||s!==0||f.type!=="element"||f.tagName!=="p")&&o.push({type:"text",value:`
`}),f.type==="element"&&f.tagName==="p"&&!a?o.push(...f.children):o.push(f)}const l=n[n.length-1];l&&(a||l.type!=="element"||l.tagName!=="p")&&o.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:i,children:o};return e.patch(t,u),e.applyData(t,u)}function C2(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=fy(r[n])}return t}function fy(e){const t=e.spread;return t??e.children.length>1}function M2(e,t){const r={},n=e.all(t);let a=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++a<n.length;){const o=n[a];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const i={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,i),e.applyData(t,i)}function A2(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function T2(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function I2(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function O2(e,t){const r=e.all(t),n=r.shift(),a=[];if(n){const o={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],o),a.push(o)}if(r.length>0){const o={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},s=ff(t.children[1]),l=Vw(t.children[t.children.length-1]);s&&l&&(o.position={start:s,end:l}),a.push(o)}const i={type:"element",tagName:"table",properties:{},children:e.wrap(a,!0)};return e.patch(t,i),e.applyData(t,i)}function N2(e,t,r){const n=r?r.children:void 0,i=(n?n.indexOf(t):1)===0?"th":"td",o=r&&r.type==="table"?r.align:void 0,s=o?o.length:t.children.length;let l=-1;const u=[];for(;++l<s;){const c=t.children[l],p={},d=o?o[l]:void 0;d&&(p.align=d);let m={type:"element",tagName:i,properties:p,children:[]};c&&(m.children=e.all(c),e.patch(c,m),m=e.applyData(c,m)),u.push(m)}const f={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,f),e.applyData(t,f)}function U2(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Zp=9,em=32;function L2(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),a=0;const i=[];for(;n;)i.push(tm(t.slice(a,n.index),a>0,!0),n[0]),a=n.index+n[0].length,n=r.exec(t);return i.push(tm(t.slice(a),a>0,!1)),i.join("")}function tm(e,t,r){let n=0,a=e.length;if(t){let i=e.codePointAt(n);for(;i===Zp||i===em;)n++,i=e.codePointAt(n)}if(r){let i=e.codePointAt(a-1);for(;i===Zp||i===em;)a--,i=e.codePointAt(a-1)}return a>n?e.slice(n,a):""}function R2(e,t){const r={type:"text",value:L2(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function D2(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const z2={blockquote:m2,break:h2,code:g2,delete:w2,emphasis:y2,footnoteReference:v2,heading:_2,html:b2,imageReference:S2,image:k2,inlineCode:x2,linkReference:P2,link:E2,listItem:F2,list:M2,paragraph:A2,root:T2,strong:I2,table:O2,tableCell:U2,tableRow:N2,text:R2,thematicBreak:D2,toml:Xi,yaml:Xi,definition:Xi,footnoteDefinition:Xi};function Xi(){}const dy=-1,Es=0,Jo=1,Ko=2,yf=3,vf=4,_f=5,bf=6,py=7,my=8,rm=typeof self=="object"?self:globalThis,j2=(e,t)=>{const r=(a,i)=>(e.set(i,a),a),n=a=>{if(e.has(a))return e.get(a);const[i,o]=t[a];switch(i){case Es:case dy:return r(o,a);case Jo:{const s=r([],a);for(const l of o)s.push(n(l));return s}case Ko:{const s=r({},a);for(const[l,u]of o)s[n(l)]=n(u);return s}case yf:return r(new Date(o),a);case vf:{const{source:s,flags:l}=o;return r(new RegExp(s,l),a)}case _f:{const s=r(new Map,a);for(const[l,u]of o)s.set(n(l),n(u));return s}case bf:{const s=r(new Set,a);for(const l of o)s.add(n(l));return s}case py:{const{name:s,message:l}=o;return r(new rm[s](l),a)}case my:return r(BigInt(o),a);case"BigInt":return r(Object(BigInt(o)),a)}return r(new rm[i](o),a)};return n},nm=e=>j2(new Map,e)(0),Tn="",{toString:B2}={},{keys:H2}=Object,Oa=e=>{const t=typeof e;if(t!=="object"||!e)return[Es,t];const r=B2.call(e).slice(8,-1);switch(r){case"Array":return[Jo,Tn];case"Object":return[Ko,Tn];case"Date":return[yf,Tn];case"RegExp":return[vf,Tn];case"Map":return[_f,Tn];case"Set":return[bf,Tn]}return r.includes("Array")?[Jo,r]:r.includes("Error")?[py,r]:[Ko,r]},Zi=([e,t])=>e===Es&&(t==="function"||t==="symbol"),W2=(e,t,r,n)=>{const a=(o,s)=>{const l=n.push(o)-1;return r.set(s,l),l},i=o=>{if(r.has(o))return r.get(o);let[s,l]=Oa(o);switch(s){case Es:{let f=o;switch(l){case"bigint":s=my,f=o.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);f=null;break;case"undefined":return a([dy],o)}return a([s,f],o)}case Jo:{if(l)return a([l,[...o]],o);const f=[],c=a([s,f],o);for(const p of o)f.push(i(p));return c}case Ko:{if(l)switch(l){case"BigInt":return a([l,o.toString()],o);case"Boolean":case"Number":case"String":return a([l,o.valueOf()],o)}if(t&&"toJSON"in o)return i(o.toJSON());const f=[],c=a([s,f],o);for(const p of H2(o))(e||!Zi(Oa(o[p])))&&f.push([i(p),i(o[p])]);return c}case yf:return a([s,o.toISOString()],o);case vf:{const{source:f,flags:c}=o;return a([s,{source:f,flags:c}],o)}case _f:{const f=[],c=a([s,f],o);for(const[p,d]of o)(e||!(Zi(Oa(p))||Zi(Oa(d))))&&f.push([i(p),i(d)]);return c}case bf:{const f=[],c=a([s,f],o);for(const p of o)(e||!Zi(Oa(p)))&&f.push(i(p));return c}}const{message:u}=o;return a([s,{name:l,message:u}],o)};return i},am=(e,{json:t,lossy:r}={})=>{const n=[];return W2(!(t||r),!!t,new Map,n)(e),n},Xo=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?nm(am(e,t)):structuredClone(e):(e,t)=>nm(am(e,t));function V2(e,t){const r=[{type:"text",value:""}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function G2(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function $2(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||V2,n=e.options.footnoteBackLabel||G2,a=e.options.footnoteLabel||"Footnotes",i=e.options.footnoteLabelTagName||"h2",o=e.options.footnoteLabelProperties||{className:["sr-only"]},s=[];let l=-1;for(;++l<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[l]);if(!u)continue;const f=e.all(u),c=String(u.identifier).toUpperCase(),p=va(c.toLowerCase());let d=0;const m=[],v=e.footnoteCounts.get(c);for(;v!==void 0&&++d<=v;){m.length>0&&m.push({type:"text",value:" "});let w=typeof r=="string"?r:r(l,d);typeof w=="string"&&(w={type:"text",value:w}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(d>1?"-"+d:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(l,d),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const E=f[f.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const w=E.children[E.children.length-1];w&&w.type==="text"?w.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...m)}else f.push(...m);const h={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(f,!0)};e.patch(u,h),s.push(h)}if(s.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:i,properties:{...Xo(o),id:"footnote-label"},children:[{type:"text",value:a}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(s,!0)},{type:"text",value:`
`}]}}const Fs=function(e){if(e==null)return J2;if(typeof e=="function")return Cs(e);if(typeof e=="object")return Array.isArray(e)?q2(e):Q2(e);if(typeof e=="string")return Y2(e);throw new Error("Expected function, string, or object as test")};function q2(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Fs(e[r]);return Cs(n);function n(...a){let i=-1;for(;++i<t.length;)if(t[i].apply(this,a))return!0;return!1}}function Q2(e){const t=e;return Cs(r);function r(n){const a=n;let i;for(i in e)if(a[i]!==t[i])return!1;return!0}}function Y2(e){return Cs(t);function t(r){return r&&r.type===e}}function Cs(e){return t;function t(r,n,a){return!!(K2(r)&&e.call(this,r,typeof n=="number"?n:void 0,a||void 0))}}function J2(){return!0}function K2(e){return e!==null&&typeof e=="object"&&"type"in e}const hy=[],X2=!0,$u=!1,Z2="skip";function gy(e,t,r,n){let a;typeof t=="function"&&typeof r!="function"?(n=r,r=t):a=t;const i=Fs(a),o=n?-1:1;s(e,void 0,[])();function s(l,u,f){const c=l&&typeof l=="object"?l:{};if(typeof c.type=="string"){const d=typeof c.tagName=="string"?c.tagName:typeof c.name=="string"?c.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(d?"<"+d+">":""))+")"})}return p;function p(){let d=hy,m,v,E;if((!t||i(l,u,f[f.length-1]||void 0))&&(d=eF(r(l,f)),d[0]===$u))return d;if("children"in l&&l.children){const h=l;if(h.children&&d[0]!==Z2)for(v=(n?h.children.length:-1)+o,E=f.concat(h);v>-1&&v<h.children.length;){const w=h.children[v];if(m=s(w,v,E)(),m[0]===$u)return m;v=typeof m[1]=="number"?m[1]:v+o}}return d}}}function eF(e){return Array.isArray(e)?e:typeof e=="number"?[X2,e]:e==null?hy:[e]}function Sf(e,t,r,n){let a,i,o;typeof t=="function"&&typeof r!="function"?(i=void 0,o=t,a=r):(i=t,o=r,a=n),gy(e,i,s,a);function s(l,u){const f=u[u.length-1],c=f?f.children.indexOf(l):void 0;return o(l,c,f)}}const qu={}.hasOwnProperty,tF={};function rF(e,t){const r=t||tF,n=new Map,a=new Map,i=new Map,o={...z2,...r.handlers},s={all:u,applyData:aF,definitionById:n,footnoteById:a,footnoteCounts:i,footnoteOrder:[],handlers:o,one:l,options:r,patch:nF,wrap:oF};return Sf(e,function(f){if(f.type==="definition"||f.type==="footnoteDefinition"){const c=f.type==="definition"?n:a,p=String(f.identifier).toUpperCase();c.has(p)||c.set(p,f)}}),s;function l(f,c){const p=f.type,d=s.handlers[p];if(qu.call(s.handlers,p)&&d)return d(s,f,c);if(s.options.passThrough&&s.options.passThrough.includes(p)){if("children"in f){const{children:v,...E}=f,h=Xo(E);return h.children=s.all(f),h}return Xo(f)}return(s.options.unknownHandler||iF)(s,f,c)}function u(f){const c=[];if("children"in f){const p=f.children;let d=-1;for(;++d<p.length;){const m=s.one(p[d],f);if(m){if(d&&p[d-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=im(m.value)),!Array.isArray(m)&&m.type==="element")){const v=m.children[0];v&&v.type==="text"&&(v.value=im(v.value))}Array.isArray(m)?c.push(...m):c.push(m)}}}return c}}function nF(e,t){e.position&&(t.position=Gx(e))}function aF(e,t){let r=t;if(e&&e.data){const n=e.data.hName,a=e.data.hChildren,i=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const o="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:o}}r.type==="element"&&i&&Object.assign(r.properties,Xo(i)),"children"in r&&r.children&&a!==null&&a!==void 0&&(r.children=a)}return r}function iF(e,t){const r=t.data||{},n="value"in t&&!(qu.call(r,"hProperties")||qu.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function oF(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function im(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function om(e,t){const r=rF(e,t),n=r.one(e,void 0),a=$2(r),i=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return a&&i.children.push({type:"text",value:`
`},a),i}function sF(e,t){return e&&"run"in e?async function(r,n){const a=om(r,{file:n,...t});await e.run(a,n)}:function(r,n){return om(r,{file:n,...e||t})}}function sm(e){if(e)throw e}var vo=Object.prototype.hasOwnProperty,wy=Object.prototype.toString,lm=Object.defineProperty,um=Object.getOwnPropertyDescriptor,cm=function(t){return typeof Array.isArray=="function"?Array.isArray(t):wy.call(t)==="[object Array]"},fm=function(t){if(!t||wy.call(t)!=="[object Object]")return!1;var r=vo.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&vo.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var a;for(a in t);return typeof a>"u"||vo.call(t,a)},dm=function(t,r){lm&&r.name==="__proto__"?lm(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},pm=function(t,r){if(r==="__proto__")if(vo.call(t,r)){if(um)return um(t,r).value}else return;return t[r]},lF=function e(){var t,r,n,a,i,o,s=arguments[0],l=1,u=arguments.length,f=!1;for(typeof s=="boolean"&&(f=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(t=arguments[l],t!=null)for(r in t)n=pm(s,r),a=pm(t,r),s!==a&&(f&&a&&(fm(a)||(i=cm(a)))?(i?(i=!1,o=n&&cm(n)?n:[]):o=n&&fm(n)?n:{},dm(s,{name:r,newValue:e(f,o,a)})):typeof a<"u"&&dm(s,{name:r,newValue:a}));return s};const ml=es(lF);function Qu(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function uF(){const e=[],t={run:r,use:n};return t;function r(...a){let i=-1;const o=a.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);s(null,...a);function s(l,...u){const f=e[++i];let c=-1;if(l){o(l);return}for(;++c<a.length;)(u[c]===null||u[c]===void 0)&&(u[c]=a[c]);a=u,f?cF(f,s)(...u):o(null,...u)}}function n(a){if(typeof a!="function")throw new TypeError("Expected `middelware` to be a function, not "+a);return e.push(a),t}}function cF(e,t){let r;return n;function n(...o){const s=e.length>o.length;let l;s&&o.push(a);try{l=e.apply(this,o)}catch(u){const f=u;if(s&&r)throw f;return a(f)}s||(l&&l.then&&typeof l.then=="function"?l.then(i,a):l instanceof Error?a(l):i(l))}function a(o,...s){r||(r=!0,t(o,...s))}function i(o){a(null,o)}}const Qt={basename:fF,dirname:dF,extname:pF,join:mF,sep:"/"};function fF(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ti(e);let r=0,n=-1,a=e.length,i;if(t===void 0||t.length===0||t.length>e.length){for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else n<0&&(i=!0,n=a+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let o=-1,s=t.length-1;for(;a--;)if(e.codePointAt(a)===47){if(i){r=a+1;break}}else o<0&&(i=!0,o=a+1),s>-1&&(e.codePointAt(a)===t.codePointAt(s--)?s<0&&(n=a):(s=-1,n=o));return r===n?n=o:n<0&&(n=e.length),e.slice(r,n)}function dF(e){if(Ti(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function pF(e){Ti(e);let t=e.length,r=-1,n=0,a=-1,i=0,o;for(;t--;){const s=e.codePointAt(t);if(s===47){if(o){n=t+1;break}continue}r<0&&(o=!0,r=t+1),s===46?a<0?a=t:i!==1&&(i=1):a>-1&&(i=-1)}return a<0||r<0||i===0||i===1&&a===r-1&&a===n+1?"":e.slice(a,r)}function mF(...e){let t=-1,r;for(;++t<e.length;)Ti(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":hF(r)}function hF(e){Ti(e);const t=e.codePointAt(0)===47;let r=gF(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function gF(e,t){let r="",n=0,a=-1,i=0,o=-1,s,l;for(;++o<=e.length;){if(o<e.length)s=e.codePointAt(o);else{if(s===47)break;s=47}if(s===47){if(!(a===o-1||i===1))if(a!==o-1&&i===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(l=r.lastIndexOf("/"),l!==r.length-1){l<0?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),a=o,i=0;continue}}else if(r.length>0){r="",n=0,a=o,i=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(a+1,o):r=e.slice(a+1,o),n=o-a-1;a=o,i=0}else s===46&&i>-1?i++:i=-1}return r}function Ti(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const wF={cwd:yF};function yF(){return"/"}function Yu(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function vF(e){if(typeof e=="string")e=new URL(e);else if(!Yu(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return _F(e)}function _F(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const a=new TypeError("File URL path must not include encoded / characters");throw a.code="ERR_INVALID_FILE_URL_PATH",a}}return decodeURIComponent(t)}const hl=["history","path","basename","stem","extname","dirname"];class yy{constructor(t){let r;t?Yu(t)?r={path:t}:typeof t=="string"||bF(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":wF.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<hl.length;){const i=hl[n];i in r&&r[i]!==void 0&&r[i]!==null&&(this[i]=i==="history"?[...r[i]]:r[i])}let a;for(a in r)hl.includes(a)||(this[a]=r[a])}get basename(){return typeof this.path=="string"?Qt.basename(this.path):void 0}set basename(t){wl(t,"basename"),gl(t,"basename"),this.path=Qt.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Qt.dirname(this.path):void 0}set dirname(t){mm(this.basename,"dirname"),this.path=Qt.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Qt.extname(this.path):void 0}set extname(t){if(gl(t,"extname"),mm(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Qt.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Yu(t)&&(t=vF(t)),wl(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Qt.basename(this.path,this.extname):void 0}set stem(t){wl(t,"stem"),gl(t,"stem"),this.path=Qt.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const a=this.message(t,r,n);throw a.fatal=!0,a}info(t,r,n){const a=this.message(t,r,n);return a.fatal=void 0,a}message(t,r,n){const a=new Ke(t,r,n);return this.path&&(a.name=this.path+":"+a.name,a.file=this.path),a.fatal=!1,this.messages.push(a),a}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function gl(e,t){if(e&&e.includes(Qt.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Qt.sep+"`")}function wl(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function mm(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function bF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const SF=function(e){const n=this.constructor.prototype,a=n[e],i=function(){return a.apply(i,arguments)};return Object.setPrototypeOf(i,n),i},kF={}.hasOwnProperty;class kf extends SF{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uF()}copy(){const t=new kf;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(ml(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(_l("data",this.frozen),this.namespace[t]=r,this):kF.call(this.namespace,t)&&this.namespace[t]||void 0:t?(_l("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const a=r.call(t,...n);typeof a=="function"&&this.transformers.use(a)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=eo(t),n=this.parser||this.Parser;return yl("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),yl("process",this.parser||this.Parser),vl("process",this.compiler||this.Compiler),r?a(void 0,r):new Promise(a);function a(i,o){const s=eo(t),l=n.parse(s);n.run(l,s,function(f,c,p){if(f||!c||!p)return u(f);const d=c,m=n.stringify(d,p);EF(m)?p.value=m:p.result=m,u(f,p)});function u(f,c){f||!c?o(f):i?i(c):r(void 0,c)}}}processSync(t){let r=!1,n;return this.freeze(),yl("processSync",this.parser||this.Parser),vl("processSync",this.compiler||this.Compiler),this.process(t,a),gm("processSync","process",r),n;function a(i,o){r=!0,sm(i),n=o}}run(t,r,n){hm(t),this.freeze();const a=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?i(void 0,n):new Promise(i);function i(o,s){const l=eo(r);a.run(t,l,u);function u(f,c,p){const d=c||t;f?s(f):o?o(d):n(void 0,d,p)}}}runSync(t,r){let n=!1,a;return this.run(t,r,i),gm("runSync","run",n),a;function i(o,s){sm(o),a=s,n=!0}}stringify(t,r){this.freeze();const n=eo(r),a=this.compiler||this.Compiler;return vl("stringify",a),hm(t),a(t,n)}use(t,...r){const n=this.attachers,a=this.namespace;if(_l("use",this.frozen),t!=null)if(typeof t=="function")l(t,r);else if(typeof t=="object")Array.isArray(t)?s(t):o(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function i(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[f,...c]=u;l(f,c)}else o(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function o(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");s(u.plugins),u.settings&&(a.settings=ml(!0,a.settings,u.settings))}function s(u){let f=-1;if(u!=null)if(Array.isArray(u))for(;++f<u.length;){const c=u[f];i(c)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,f){let c=-1,p=-1;for(;++c<n.length;)if(n[c][0]===u){p=c;break}if(p===-1)n.push([u,...f]);else if(f.length>0){let[d,...m]=f;const v=n[p][1];Qu(v)&&Qu(d)&&(d=ml(!0,v,d)),n[p]=[u,d,...m]}}}}const xF=new kf().freeze();function yl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function vl(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function _l(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function hm(e){if(!Qu(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function gm(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function eo(e){return PF(e)?e:new yy(e)}function PF(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function EF(e){return typeof e=="string"||FF(e)}function FF(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const CF="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wm=[],ym={allowDangerousHtml:!0},MF=/^(https?|ircs?|mailto|xmpp)$/i,AF=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function TF(e){const t=IF(e),r=OF(e);return NF(t.runSync(t.parse(r),r),e)}function IF(e){const t=e.rehypePlugins||wm,r=e.remarkPlugins||wm,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ym}:ym;return xF().use(p2).use(r).use(sF,n).use(t)}function OF(e){const t=e.children||"",r=new yy;return typeof t=="string"&&(r.value=t),r}function NF(e,t){const r=t.allowedElements,n=t.allowElement,a=t.components,i=t.disallowedElements,o=t.skipHtml,s=t.unwrapDisallowed,l=t.urlTransform||UF;for(const f of AF)Object.hasOwn(t,f.from)&&(""+f.from+(f.to?"use `"+f.to+"` instead":"remove it")+CF+f.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),Sf(e,u),Jx(e,{Fragment:b.Fragment,components:a,ignoreInvalidStyle:!0,jsx:b.jsx,jsxs:b.jsxs,passKeys:!0,passNode:!0});function u(f,c,p){if(f.type==="raw"&&p&&typeof c=="number")return o?p.children.splice(c,1):p.children[c]={type:"text",value:f.value},c;if(f.type==="element"){let d;for(d in fl)if(Object.hasOwn(fl,d)&&Object.hasOwn(f.properties,d)){const m=f.properties[d],v=fl[d];(v===null||v.includes(f.tagName))&&(f.properties[d]=l(String(m||""),d,f))}}if(f.type==="element"){let d=r?!r.includes(f.tagName):i?i.includes(f.tagName):!1;if(!d&&n&&typeof c=="number"&&(d=!n(f,c,p)),d&&p&&typeof c=="number")return s&&f.children?p.children.splice(c,1,...f.children):p.children.splice(c,1),c}}}function UF(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),a=e.indexOf("/");return t===-1||a!==-1&&t>a||r!==-1&&t>r||n!==-1&&t>n||MF.test(e.slice(0,t))?e:""}function LF(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function vy(e,t,r){const a=Fs((r||{}).ignore||[]),i=RF(t);let o=-1;for(;++o<i.length;)gy(e,"text",s);function s(u,f){let c=-1,p;for(;++c<f.length;){const d=f[c],m=p?p.children:void 0;if(a(d,m?m.indexOf(d):void 0,p))return;p=d}if(p)return l(u,f)}function l(u,f){const c=f[f.length-1],p=i[o][0],d=i[o][1];let m=0;const E=c.children.indexOf(u);let h=!1,w=[];p.lastIndex=0;let y=p.exec(u.value);for(;y;){const F=y.index,C={index:y.index,input:y.input,stack:[...f,u]};let S=d(...y,C);if(typeof S=="string"&&(S=S.length>0?{type:"text",value:S}:void 0),S===!1?p.lastIndex=F+1:(m!==F&&w.push({type:"text",value:u.value.slice(m,F)}),Array.isArray(S)?w.push(...S):S&&w.push(S),m=F+y[0].length,h=!0),!p.global)break;y=p.exec(u.value)}return h?(m<u.value.length&&w.push({type:"text",value:u.value.slice(m)}),c.children.splice(E,1,...w)):w=[u],E+w.length}}function RF(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const a=r[n];t.push([DF(a[0]),zF(a[1])])}return t}function DF(e){return typeof e=="string"?new RegExp(LF(e),"g"):e}function zF(e){return typeof e=="function"?e:function(){return e}}function jF(e){vy(e,[/\r?\n|\r/g,BF])}function BF(){return{type:"break"}}function HF(){return function(e){jF(e)}}function vm(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,a=r.indexOf(t);for(;a!==-1;)n++,a=r.indexOf(t,a+t.length);return n}const bl="phrasing",Sl=["autolink","link","image","label"];function WF(){return{transforms:[JF],enter:{literalAutolink:GF,literalAutolinkEmail:kl,literalAutolinkHttp:kl,literalAutolinkWww:kl},exit:{literalAutolink:YF,literalAutolinkEmail:QF,literalAutolinkHttp:$F,literalAutolinkWww:qF}}}function VF(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:bl,notInConstruct:Sl},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:bl,notInConstruct:Sl},{character:":",before:"[ps]",after:"\\/",inConstruct:bl,notInConstruct:Sl}]}}function GF(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function kl(e){this.config.enter.autolinkProtocol.call(this,e)}function $F(e){this.config.exit.autolinkProtocol.call(this,e)}function qF(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function QF(e){this.config.exit.autolinkEmail.call(this,e)}function YF(e){this.exit(e)}function JF(e){vy(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,KF],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),XF]],{ignore:["link","linkReference"]})}function KF(e,t,r,n,a){let i="";if(!_y(a)||(/^w/i.test(t)&&(r=t+r,t="",i="http://"),!ZF(r)))return!1;const o=eC(r+n);if(!o[0])return!1;const s={type:"link",title:null,url:i+t+o[0],children:[{type:"text",value:t+o[0]}]};return o[1]?[s,{type:"text",value:o[1]}]:s}function XF(e,t,r,n){return!_y(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function ZF(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function eC(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const a=vm(e,"(");let i=vm(e,")");for(;n!==-1&&a>i;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),i++;return[e,r]}function _y(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||bn(r)||xs(r))&&(!t||r!==47)}by.peek=uC;function tC(){this.buffer()}function rC(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function nC(){this.buffer()}function aC(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function iC(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Ht(this.sliceSerialize(e)).toLowerCase(),r.label=t}function oC(e){this.exit(e)}function sC(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=Ht(this.sliceSerialize(e)).toLowerCase(),r.label=t}function lC(e){this.exit(e)}function uC(){return"["}function by(e,t,r,n){const a=r.createTracker(n);let i=a.move("[^");const o=r.enter("footnoteReference"),s=r.enter("reference");return i+=a.move(r.safe(r.associationId(e),{after:"]",before:i})),s(),o(),i+=a.move("]"),i}function cC(){return{enter:{gfmFootnoteCallString:tC,gfmFootnoteCall:rC,gfmFootnoteDefinitionLabelString:nC,gfmFootnoteDefinition:aC},exit:{gfmFootnoteCallString:iC,gfmFootnoteCall:oC,gfmFootnoteDefinitionLabelString:sC,gfmFootnoteDefinition:lC}}}function fC(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:by},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,a,i,o){const s=i.createTracker(o);let l=s.move("[^");const u=i.enter("footnoteDefinition"),f=i.enter("label");return l+=s.move(i.safe(i.associationId(n),{before:l,after:"]"})),f(),l+=s.move("]:"),n.children&&n.children.length>0&&(s.shift(4),l+=s.move((t?`
`:" ")+i.indentLines(i.containerFlow(n,s.current()),t?Sy:dC))),u(),l}}function dC(e,t,r){return t===0?e:Sy(e,t,r)}function Sy(e,t,r){return(r?"":"    ")+e}const pC=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];ky.peek=yC;function mC(){return{canContainEols:["delete"],enter:{strikethrough:gC},exit:{strikethrough:wC}}}function hC(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:pC}],handlers:{delete:ky}}}function gC(e){this.enter({type:"delete",children:[]},e)}function wC(e){this.exit(e)}function ky(e,t,r,n){const a=r.createTracker(n),i=r.enter("strikethrough");let o=a.move("~~");return o+=r.containerPhrasing(e,{...a.current(),before:o,after:"~"}),o+=a.move("~~"),i(),o}function yC(){return"~"}function vC(e){return e.length}function _C(e,t){const r=t||{},n=(r.align||[]).concat(),a=r.stringLength||vC,i=[],o=[],s=[],l=[];let u=0,f=-1;for(;++f<e.length;){const v=[],E=[];let h=-1;for(e[f].length>u&&(u=e[f].length);++h<e[f].length;){const w=bC(e[f][h]);if(r.alignDelimiters!==!1){const y=a(w);E[h]=y,(l[h]===void 0||y>l[h])&&(l[h]=y)}v.push(w)}o[f]=v,s[f]=E}let c=-1;if(typeof n=="object"&&"length"in n)for(;++c<u;)i[c]=_m(n[c]);else{const v=_m(n);for(;++c<u;)i[c]=v}c=-1;const p=[],d=[];for(;++c<u;){const v=i[c];let E="",h="";v===99?(E=":",h=":"):v===108?E=":":v===114&&(h=":");let w=r.alignDelimiters===!1?1:Math.max(1,l[c]-E.length-h.length);const y=E+"-".repeat(w)+h;r.alignDelimiters!==!1&&(w=E.length+w+h.length,w>l[c]&&(l[c]=w),d[c]=w),p[c]=y}o.splice(1,0,p),s.splice(1,0,d),f=-1;const m=[];for(;++f<o.length;){const v=o[f],E=s[f];c=-1;const h=[];for(;++c<u;){const w=v[c]||"";let y="",F="";if(r.alignDelimiters!==!1){const C=l[c]-(E[c]||0),S=i[c];S===114?y=" ".repeat(C):S===99?C%2?(y=" ".repeat(C/2+.5),F=" ".repeat(C/2-.5)):(y=" ".repeat(C/2),F=y):F=" ".repeat(C)}r.delimiterStart!==!1&&!c&&h.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&w==="")&&(r.delimiterStart!==!1||c)&&h.push(" "),r.alignDelimiters!==!1&&h.push(y),h.push(w),r.alignDelimiters!==!1&&h.push(F),r.padding!==!1&&h.push(" "),(r.delimiterEnd!==!1||c!==u-1)&&h.push("|")}m.push(r.delimiterEnd===!1?h.join("").replace(/ +$/,""):h.join(""))}return m.join(`
`)}function bC(e){return e==null?"":String(e)}function _m(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function SC(e,t,r,n){const a=r.enter("blockquote"),i=r.createTracker(n);i.move("> "),i.shift(2);const o=r.indentLines(r.containerFlow(e,i.current()),kC);return a(),o}function kC(e,t,r){return">"+(r?"":" ")+e}function xC(e,t){return bm(e,t.inConstruct,!0)&&!bm(e,t.notInConstruct,!1)}function bm(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function Sm(e,t,r,n){let a=-1;for(;++a<r.unsafe.length;)if(r.unsafe[a].character===`
`&&xC(r.stack,r.unsafe[a]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function PC(e,t){const r=String(e);let n=r.indexOf(t),a=n,i=0,o=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===a?++i>o&&(o=i):i=1,a=n+t.length,n=r.indexOf(t,a);return o}function EC(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function FC(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function CC(e,t,r,n){const a=FC(r),i=e.value||"",o=a==="`"?"GraveAccent":"Tilde";if(EC(e,r)){const c=r.enter("codeIndented"),p=r.indentLines(i,MC);return c(),p}const s=r.createTracker(n),l=a.repeat(Math.max(PC(i,a)+1,3)),u=r.enter("codeFenced");let f=s.move(l);if(e.lang){const c=r.enter(`codeFencedLang${o}`);f+=s.move(r.safe(e.lang,{before:f,after:" ",encode:["`"],...s.current()})),c()}if(e.lang&&e.meta){const c=r.enter(`codeFencedMeta${o}`);f+=s.move(" "),f+=s.move(r.safe(e.meta,{before:f,after:`
`,encode:["`"],...s.current()})),c()}return f+=s.move(`
`),i&&(f+=s.move(i+`
`)),f+=s.move(l),u(),f}function MC(e,t,r){return(r?"":"    ")+e}function xf(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function AC(e,t,r,n){const a=xf(r),i=a==='"'?"Quote":"Apostrophe",o=r.enter("definition");let s=r.enter("label");const l=r.createTracker(n);let u=l.move("[");return u+=l.move(r.safe(r.associationId(e),{before:u,after:"]",...l.current()})),u+=l.move("]: "),s(),!e.url||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...l.current()}))),s(),e.title&&(s=r.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(r.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),o(),u}function TC(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function bi(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Zo(e,t,r){const n=fa(e),a=fa(t);return n===void 0?a===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:a===void 0?{inside:!1,outside:!1}:a===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}xy.peek=IC;function xy(e,t,r,n){const a=TC(r),i=r.enter("emphasis"),o=r.createTracker(n),s=o.move(a);let l=o.move(r.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),f=Zo(n.before.charCodeAt(n.before.length-1),u,a);f.inside&&(l=bi(u)+l.slice(1));const c=l.charCodeAt(l.length-1),p=Zo(n.after.charCodeAt(0),c,a);p.inside&&(l=l.slice(0,-1)+bi(c));const d=o.move(a);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},s+l+d}function IC(e,t,r){return r.options.emphasis||"*"}function OC(e,t){let r=!1;return Sf(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,$u}),!!((!e.depth||e.depth<3)&&hf(e)&&(t.options.setext||r))}function NC(e,t,r,n){const a=Math.max(Math.min(6,e.depth||1),1),i=r.createTracker(n);if(OC(e,r)){const f=r.enter("headingSetext"),c=r.enter("phrasing"),p=r.containerPhrasing(e,{...i.current(),before:`
`,after:`
`});return c(),f(),p+`
`+(a===1?"=":"-").repeat(p.length-(Math.max(p.lastIndexOf("\r"),p.lastIndexOf(`
`))+1))}const o="#".repeat(a),s=r.enter("headingAtx"),l=r.enter("phrasing");i.move(o+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...i.current()});return/^[\t ]/.test(u)&&(u=bi(u.charCodeAt(0))+u.slice(1)),u=u?o+" "+u:o,r.options.closeAtx&&(u+=" "+o),l(),s(),u}Py.peek=UC;function Py(e){return e.value||""}function UC(){return"<"}Ey.peek=LC;function Ey(e,t,r,n){const a=xf(r),i=a==='"'?"Quote":"Apostrophe",o=r.enter("image");let s=r.enter("label");const l=r.createTracker(n);let u=l.move("![");return u+=l.move(r.safe(e.alt,{before:u,after:"]",...l.current()})),u+=l.move("]("),s(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(s=r.enter("destinationLiteral"),u+=l.move("<"),u+=l.move(r.safe(e.url,{before:u,after:">",...l.current()})),u+=l.move(">")):(s=r.enter("destinationRaw"),u+=l.move(r.safe(e.url,{before:u,after:e.title?" ":")",...l.current()}))),s(),e.title&&(s=r.enter(`title${i}`),u+=l.move(" "+a),u+=l.move(r.safe(e.title,{before:u,after:a,...l.current()})),u+=l.move(a),s()),u+=l.move(")"),o(),u}function LC(){return"!"}Fy.peek=RC;function Fy(e,t,r,n){const a=e.referenceType,i=r.enter("imageReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("![");const u=r.safe(e.alt,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const f=r.stack;r.stack=[],o=r.enter("reference");const c=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=f,i(),a==="full"||!u||u!==c?l+=s.move(c+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function RC(){return"!"}Cy.peek=DC;function Cy(e,t,r){let n=e.value||"",a="`",i=-1;for(;new RegExp("(^|[^`])"+a+"([^`]|$)").test(n);)a+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++i<r.unsafe.length;){const o=r.unsafe[i],s=r.compilePattern(o);let l;if(o.atBreak)for(;l=s.exec(n);){let u=l.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(l.index+1)}}return a+n+a}function DC(){return"`"}function My(e,t){const r=hf(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Ay.peek=zC;function Ay(e,t,r,n){const a=xf(r),i=a==='"'?"Quote":"Apostrophe",o=r.createTracker(n);let s,l;if(My(e,r)){const f=r.stack;r.stack=[],s=r.enter("autolink");let c=o.move("<");return c+=o.move(r.containerPhrasing(e,{before:c,after:">",...o.current()})),c+=o.move(">"),s(),r.stack=f,c}s=r.enter("link"),l=r.enter("label");let u=o.move("[");return u+=o.move(r.containerPhrasing(e,{before:u,after:"](",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(r.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=r.enter("destinationRaw"),u+=o.move(r.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${i}`),u+=o.move(" "+a),u+=o.move(r.safe(e.title,{before:u,after:a,...o.current()})),u+=o.move(a),l()),u+=o.move(")"),s(),u}function zC(e,t,r){return My(e,r)?"<":"["}Ty.peek=jC;function Ty(e,t,r,n){const a=e.referenceType,i=r.enter("linkReference");let o=r.enter("label");const s=r.createTracker(n);let l=s.move("[");const u=r.containerPhrasing(e,{before:l,after:"]",...s.current()});l+=s.move(u+"]["),o();const f=r.stack;r.stack=[],o=r.enter("reference");const c=r.safe(r.associationId(e),{before:l,after:"]",...s.current()});return o(),r.stack=f,i(),a==="full"||!u||u!==c?l+=s.move(c+"]"):a==="shortcut"?l=l.slice(0,-1):l+=s.move("]"),l}function jC(){return"["}function Pf(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function BC(e){const t=Pf(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function HC(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function Iy(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function WC(e,t,r,n){const a=r.enter("list"),i=r.bulletCurrent;let o=e.ordered?HC(r):Pf(r);const s=e.ordered?o==="."?")":".":BC(r);let l=t&&r.bulletLastUsed?o===r.bulletLastUsed:!1;if(!e.ordered){const f=e.children?e.children[0]:void 0;if((o==="*"||o==="-")&&f&&(!f.children||!f.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(l=!0),Iy(r)===o&&f){let c=-1;for(;++c<e.children.length;){const p=e.children[c];if(p&&p.type==="listItem"&&p.children&&p.children[0]&&p.children[0].type==="thematicBreak"){l=!0;break}}}}l&&(o=s),r.bulletCurrent=o;const u=r.containerFlow(e,n);return r.bulletLastUsed=o,r.bulletCurrent=i,a(),u}function VC(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function GC(e,t,r,n){const a=VC(r);let i=r.bulletCurrent||Pf(r);t&&t.type==="list"&&t.ordered&&(i=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+i);let o=i.length+1;(a==="tab"||a==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(o=Math.ceil(o/4)*4);const s=r.createTracker(n);s.move(i+" ".repeat(o-i.length)),s.shift(o);const l=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,s.current()),f);return l(),u;function f(c,p,d){return p?(d?"":" ".repeat(o))+c:(d?i:i+" ".repeat(o-i.length))+c}}function $C(e,t,r,n){const a=r.enter("paragraph"),i=r.enter("phrasing"),o=r.containerPhrasing(e,n);return i(),a(),o}const qC=Fs(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function QC(e,t,r,n){return(e.children.some(function(o){return qC(o)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function YC(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}Oy.peek=JC;function Oy(e,t,r,n){const a=YC(r),i=r.enter("strong"),o=r.createTracker(n),s=o.move(a+a);let l=o.move(r.containerPhrasing(e,{after:a,before:s,...o.current()}));const u=l.charCodeAt(0),f=Zo(n.before.charCodeAt(n.before.length-1),u,a);f.inside&&(l=bi(u)+l.slice(1));const c=l.charCodeAt(l.length-1),p=Zo(n.after.charCodeAt(0),c,a);p.inside&&(l=l.slice(0,-1)+bi(c));const d=o.move(a+a);return i(),r.attentionEncodeSurroundingInfo={after:p.outside,before:f.outside},s+l+d}function JC(e,t,r){return r.options.strong||"*"}function KC(e,t,r,n){return r.safe(e.value,n)}function XC(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function ZC(e,t,r){const n=(Iy(r)+(r.options.ruleSpaces?" ":"")).repeat(XC(r));return r.options.ruleSpaces?n.slice(0,-1):n}const Ny={blockquote:SC,break:Sm,code:CC,definition:AC,emphasis:xy,hardBreak:Sm,heading:NC,html:Py,image:Ey,imageReference:Fy,inlineCode:Cy,link:Ay,linkReference:Ty,list:WC,listItem:GC,paragraph:$C,root:QC,strong:Oy,text:KC,thematicBreak:ZC};function eM(){return{enter:{table:tM,tableData:km,tableHeader:km,tableRow:nM},exit:{codeText:aM,table:rM,tableData:xl,tableHeader:xl,tableRow:xl}}}function tM(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function rM(e){this.exit(e),this.data.inTable=void 0}function nM(e){this.enter({type:"tableRow",children:[]},e)}function xl(e){this.exit(e)}function km(e){this.enter({type:"tableCell",children:[]},e)}function aM(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,iM));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function iM(e,t){return t==="|"?t:e}function oM(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,a=t.stringLength,i=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:p,table:o,tableCell:l,tableRow:s}};function o(d,m,v,E){return u(f(d,v,E),d.align)}function s(d,m,v,E){const h=c(d,v,E),w=u([h]);return w.slice(0,w.indexOf(`
`))}function l(d,m,v,E){const h=v.enter("tableCell"),w=v.enter("phrasing"),y=v.containerPhrasing(d,{...E,before:i,after:i});return w(),h(),y}function u(d,m){return _C(d,{align:m,alignDelimiters:n,padding:r,stringLength:a})}function f(d,m,v){const E=d.children;let h=-1;const w=[],y=m.enter("table");for(;++h<E.length;)w[h]=c(E[h],m,v);return y(),w}function c(d,m,v){const E=d.children;let h=-1;const w=[],y=m.enter("tableRow");for(;++h<E.length;)w[h]=l(E[h],d,m,v);return y(),w}function p(d,m,v){let E=Ny.inlineCode(d,m,v);return v.stack.includes("tableCell")&&(E=E.replace(/\|/g,"\\$&")),E}}function sM(){return{exit:{taskListCheckValueChecked:xm,taskListCheckValueUnchecked:xm,paragraph:uM}}}function lM(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:cM}}}function xm(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function uM(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const a=t.children;let i=-1,o;for(;++i<a.length;){const s=a[i];if(s.type==="paragraph"){o=s;break}}o===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function cM(e,t,r,n){const a=e.children[0],i=typeof e.checked=="boolean"&&a&&a.type==="paragraph",o="["+(e.checked?"x":" ")+"] ",s=r.createTracker(n);i&&s.move(o);let l=Ny.listItem(e,t,r,{...n,...s.current()});return i&&(l=l.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),l;function u(f){return f+o}}function fM(){return[WF(),cC(),mC(),eM(),sM()]}function dM(e){return{extensions:[VF(),fC(e),hC(),oM(e),lM()]}}const pM={tokenize:vM,partial:!0},Uy={tokenize:_M,partial:!0},Ly={tokenize:bM,partial:!0},Ry={tokenize:SM,partial:!0},mM={tokenize:kM,partial:!0},Dy={name:"wwwAutolink",tokenize:wM,previous:jy},zy={name:"protocolAutolink",tokenize:yM,previous:By},_r={name:"emailAutolink",tokenize:gM,previous:Hy},nr={};function hM(){return{text:nr}}let Xr=48;for(;Xr<123;)nr[Xr]=_r,Xr++,Xr===58?Xr=65:Xr===91&&(Xr=97);nr[43]=_r;nr[45]=_r;nr[46]=_r;nr[95]=_r;nr[72]=[_r,zy];nr[104]=[_r,zy];nr[87]=[_r,Dy];nr[119]=[_r,Dy];function gM(e,t,r){const n=this;let a,i;return o;function o(c){return!Ju(c)||!Hy.call(n,n.previous)||Ef(n.events)?r(c):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),s(c))}function s(c){return Ju(c)?(e.consume(c),s):c===64?(e.consume(c),l):r(c)}function l(c){return c===46?e.check(mM,f,u)(c):c===45||c===95||Ye(c)?(i=!0,e.consume(c),l):f(c)}function u(c){return e.consume(c),a=!0,l}function f(c){return i&&a&&Ze(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(c)):r(c)}}function wM(e,t,r){const n=this;return a;function a(o){return o!==87&&o!==119||!jy.call(n,n.previous)||Ef(n.events)?r(o):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(pM,e.attempt(Uy,e.attempt(Ly,i),r),r)(o))}function i(o){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(o)}}function yM(e,t,r){const n=this;let a="",i=!1;return o;function o(c){return(c===72||c===104)&&By.call(n,n.previous)&&!Ef(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),a+=String.fromCodePoint(c),e.consume(c),s):r(c)}function s(c){if(Ze(c)&&a.length<5)return a+=String.fromCodePoint(c),e.consume(c),s;if(c===58){const p=a.toLowerCase();if(p==="http"||p==="https")return e.consume(c),l}return r(c)}function l(c){return c===47?(e.consume(c),i?u:(i=!0,l)):r(c)}function u(c){return c===null||Yo(c)||de(c)||bn(c)||xs(c)?r(c):e.attempt(Uy,e.attempt(Ly,f),r)(c)}function f(c){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(c)}}function vM(e,t,r){let n=0;return a;function a(o){return(o===87||o===119)&&n<3?(n++,e.consume(o),a):o===46&&n===3?(e.consume(o),i):r(o)}function i(o){return o===null?r(o):t(o)}}function _M(e,t,r){let n,a,i;return o;function o(u){return u===46||u===95?e.check(Ry,l,s)(u):u===null||de(u)||bn(u)||u!==45&&xs(u)?l(u):(i=!0,e.consume(u),o)}function s(u){return u===95?n=!0:(a=n,n=void 0),e.consume(u),o}function l(u){return a||n||!i?r(u):t(u)}}function bM(e,t){let r=0,n=0;return a;function a(o){return o===40?(r++,e.consume(o),a):o===41&&n<r?i(o):o===33||o===34||o===38||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===60||o===63||o===93||o===95||o===126?e.check(Ry,t,i)(o):o===null||de(o)||bn(o)?t(o):(e.consume(o),a)}function i(o){return o===41&&n++,e.consume(o),a}}function SM(e,t,r){return n;function n(s){return s===33||s===34||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===63||s===95||s===126?(e.consume(s),n):s===38?(e.consume(s),i):s===93?(e.consume(s),a):s===60||s===null||de(s)||bn(s)?t(s):r(s)}function a(s){return s===null||s===40||s===91||de(s)||bn(s)?t(s):n(s)}function i(s){return Ze(s)?o(s):r(s)}function o(s){return s===59?(e.consume(s),n):Ze(s)?(e.consume(s),o):r(s)}}function kM(e,t,r){return n;function n(i){return e.consume(i),a}function a(i){return Ye(i)?r(i):t(i)}}function jy(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||de(e)}function By(e){return!Ze(e)}function Hy(e){return!(e===47||Ju(e))}function Ju(e){return e===43||e===45||e===46||e===95||Ye(e)}function Ef(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const xM={tokenize:IM,partial:!0};function PM(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:MM,continuation:{tokenize:AM},exit:TM}},text:{91:{name:"gfmFootnoteCall",tokenize:CM},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:EM,resolveTo:FM}}}}function EM(e,t,r){const n=this;let a=n.events.length;const i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let o;for(;a--;){const l=n.events[a][1];if(l.type==="labelImage"){o=l;break}if(l.type==="gfmFootnoteCall"||l.type==="labelLink"||l.type==="label"||l.type==="image"||l.type==="link")break}return s;function s(l){if(!o||!o._balanced)return r(l);const u=Ht(n.sliceSerialize({start:o.end,end:n.now()}));return u.codePointAt(0)!==94||!i.includes(u.slice(1))?r(l):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(l),e.exit("gfmFootnoteCallLabelMarker"),t(l))}}function FM(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},a={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};a.end.column++,a.end.offset++,a.end._bufferIndex++;const i={type:"gfmFootnoteCallString",start:Object.assign({},a.end),end:Object.assign({},e[e.length-1][1].start)},o={type:"chunkString",contentType:"string",start:Object.assign({},i.start),end:Object.assign({},i.end)},s=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",a,t],["exit",a,t],["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...s),e}function CM(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i=0,o;return s;function s(c){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),l}function l(c){return c!==94?r(c):(e.enter("gfmFootnoteCallMarker"),e.consume(c),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(c){if(i>999||c===93&&!o||c===null||c===91||de(c))return r(c);if(c===93){e.exit("chunkString");const p=e.exit("gfmFootnoteCallString");return a.includes(Ht(n.sliceSerialize(p)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(c)}return de(c)||(o=!0),i++,e.consume(c),c===92?f:u}function f(c){return c===91||c===92||c===93?(e.consume(c),i++,u):u(c)}}function MM(e,t,r){const n=this,a=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let i,o=0,s;return l;function l(m){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(m){return m===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",f):r(m)}function f(m){if(o>999||m===93&&!s||m===null||m===91||de(m))return r(m);if(m===93){e.exit("chunkString");const v=e.exit("gfmFootnoteDefinitionLabelString");return i=Ht(n.sliceSerialize(v)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(m),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),p}return de(m)||(s=!0),o++,e.consume(m),m===92?c:f}function c(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}function p(m){return m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),a.includes(i)||a.push(i),oe(e,d,"gfmFootnoteDefinitionWhitespace")):r(m)}function d(m){return t(m)}}function AM(e,t,r){return e.check(Ai,t,e.attempt(xM,t,r))}function TM(e){e.exit("gfmFootnoteDefinition")}function IM(e,t,r){const n=this;return oe(e,a,"gfmFootnoteDefinitionIndent",5);function a(i){const o=n.events[n.events.length-1];return o&&o[1].type==="gfmFootnoteDefinitionIndent"&&o[2].sliceSerialize(o[1],!0).length===4?t(i):r(i)}}function OM(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:i,resolveAll:a};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function a(o,s){let l=-1;for(;++l<o.length;)if(o[l][0]==="enter"&&o[l][1].type==="strikethroughSequenceTemporary"&&o[l][1]._close){let u=l;for(;u--;)if(o[u][0]==="exit"&&o[u][1].type==="strikethroughSequenceTemporary"&&o[u][1]._open&&o[l][1].end.offset-o[l][1].start.offset===o[u][1].end.offset-o[u][1].start.offset){o[l][1].type="strikethroughSequence",o[u][1].type="strikethroughSequence";const f={type:"strikethrough",start:Object.assign({},o[u][1].start),end:Object.assign({},o[l][1].end)},c={type:"strikethroughText",start:Object.assign({},o[u][1].end),end:Object.assign({},o[l][1].start)},p=[["enter",f,s],["enter",o[u][1],s],["exit",o[u][1],s],["enter",c,s]],d=s.parser.constructs.insideSpan.null;d&&vt(p,p.length,0,Ps(d,o.slice(u+1,l),s)),vt(p,p.length,0,[["exit",c,s],["enter",o[l][1],s],["exit",o[l][1],s],["exit",f,s]]),vt(o,u-1,l-u+3,p),l=u+p.length-2;break}}for(l=-1;++l<o.length;)o[l][1].type==="strikethroughSequenceTemporary"&&(o[l][1].type="data");return o}function i(o,s,l){const u=this.previous,f=this.events;let c=0;return p;function p(m){return u===126&&f[f.length-1][1].type!=="characterEscape"?l(m):(o.enter("strikethroughSequenceTemporary"),d(m))}function d(m){const v=fa(u);if(m===126)return c>1?l(m):(o.consume(m),c++,d);if(c<2&&!r)return l(m);const E=o.exit("strikethroughSequenceTemporary"),h=fa(m);return E._open=!h||h===2&&!!v,E._close=!v||v===2&&!!h,s(m)}}}class NM{constructor(){this.map=[]}add(t,r,n){UM(this,t,r,n)}consume(t){if(this.map.sort(function(i,o){return i[0]-o[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let a=n.pop();for(;a;){for(const i of a)t.push(i);a=n.pop()}this.map.length=0}}function UM(e,t,r,n){let a=0;if(!(r===0&&n.length===0)){for(;a<e.map.length;){if(e.map[a][0]===t){e.map[a][1]+=r,e.map[a][2].push(...n);return}a+=1}e.map.push([t,r,n])}}function LM(e,t){let r=!1;const n=[];for(;t<e.length;){const a=e[t];if(r){if(a[0]==="enter")a[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(a[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const i=n.length-1;n[i]=n[i]==="left"?"center":"right"}}else if(a[1].type==="tableDelimiterRow")break}else a[0]==="enter"&&a[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function RM(){return{flow:{null:{name:"table",tokenize:DM,resolveAll:zM}}}}function DM(e,t,r){const n=this;let a=0,i=0,o;return s;function s(x){let L=n.events.length-1;for(;L>-1;){const K=n.events[L][1].type;if(K==="lineEnding"||K==="linePrefix")L--;else break}const R=L>-1?n.events[L][1].type:null,Q=R==="tableHead"||R==="tableRow"?S:l;return Q===S&&n.parser.lazy[n.now().line]?r(x):Q(x)}function l(x){return e.enter("tableHead"),e.enter("tableRow"),u(x)}function u(x){return x===124||(o=!0,i+=1),f(x)}function f(x){return x===null?r(x):V(x)?i>1?(i=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(x),e.exit("lineEnding"),d):r(x):te(x)?oe(e,f,"whitespace")(x):(i+=1,o&&(o=!1,a+=1),x===124?(e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),o=!0,f):(e.enter("data"),c(x)))}function c(x){return x===null||x===124||de(x)?(e.exit("data"),f(x)):(e.consume(x),x===92?p:c)}function p(x){return x===92||x===124?(e.consume(x),c):c(x)}function d(x){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(x):(e.enter("tableDelimiterRow"),o=!1,te(x)?oe(e,m,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(x):m(x))}function m(x){return x===45||x===58?E(x):x===124?(o=!0,e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),v):C(x)}function v(x){return te(x)?oe(e,E,"whitespace")(x):E(x)}function E(x){return x===58?(i+=1,o=!0,e.enter("tableDelimiterMarker"),e.consume(x),e.exit("tableDelimiterMarker"),h):x===45?(i+=1,h(x)):x===null||V(x)?F(x):C(x)}function h(x){return x===45?(e.enter("tableDelimiterFiller"),w(x)):C(x)}function w(x){return x===45?(e.consume(x),w):x===58?(o=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(x),e.exit("tableDelimiterMarker"),y):(e.exit("tableDelimiterFiller"),y(x))}function y(x){return te(x)?oe(e,F,"whitespace")(x):F(x)}function F(x){return x===124?m(x):x===null||V(x)?!o||a!==i?C(x):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(x)):C(x)}function C(x){return r(x)}function S(x){return e.enter("tableRow"),I(x)}function I(x){return x===124?(e.enter("tableCellDivider"),e.consume(x),e.exit("tableCellDivider"),I):x===null||V(x)?(e.exit("tableRow"),t(x)):te(x)?oe(e,I,"whitespace")(x):(e.enter("data"),T(x))}function T(x){return x===null||x===124||de(x)?(e.exit("data"),I(x)):(e.consume(x),x===92?j:T)}function j(x){return x===92||x===124?(e.consume(x),T):T(x)}}function zM(e,t){let r=-1,n=!0,a=0,i=[0,0,0,0],o=[0,0,0,0],s=!1,l=0,u,f,c;const p=new NM;for(;++r<e.length;){const d=e[r],m=d[1];d[0]==="enter"?m.type==="tableHead"?(s=!1,l!==0&&(Pm(p,t,l,u,f),f=void 0,l=0),u={type:"table",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(r,0,[["enter",u,t]])):m.type==="tableRow"||m.type==="tableDelimiterRow"?(n=!0,c=void 0,i=[0,0,0,0],o=[0,r+1,0,0],s&&(s=!1,f={type:"tableBody",start:Object.assign({},m.start),end:Object.assign({},m.end)},p.add(r,0,[["enter",f,t]])),a=m.type==="tableDelimiterRow"?2:f?3:1):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")?(n=!1,o[2]===0&&(i[1]!==0&&(o[0]=o[1],c=to(p,t,i,a,void 0,c),i=[0,0,0,0]),o[2]=r)):m.type==="tableCellDivider"&&(n?n=!1:(i[1]!==0&&(o[0]=o[1],c=to(p,t,i,a,void 0,c)),i=o,o=[i[1],r,0,0])):m.type==="tableHead"?(s=!0,l=r):m.type==="tableRow"||m.type==="tableDelimiterRow"?(l=r,i[1]!==0?(o[0]=o[1],c=to(p,t,i,a,r,c)):o[1]!==0&&(c=to(p,t,o,a,r,c)),a=0):a&&(m.type==="data"||m.type==="tableDelimiterMarker"||m.type==="tableDelimiterFiller")&&(o[3]=r)}for(l!==0&&Pm(p,t,l,u,f),p.consume(t.events),r=-1;++r<t.events.length;){const d=t.events[r];d[0]==="enter"&&d[1].type==="table"&&(d[1]._align=LM(t.events,r))}return e}function to(e,t,r,n,a,i){const o=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",s="tableContent";r[0]!==0&&(i.end=Object.assign({},In(t.events,r[0])),e.add(r[0],0,[["exit",i,t]]));const l=In(t.events,r[1]);if(i={type:o,start:Object.assign({},l),end:Object.assign({},l)},e.add(r[1],0,[["enter",i,t]]),r[2]!==0){const u=In(t.events,r[2]),f=In(t.events,r[3]),c={type:s,start:Object.assign({},u),end:Object.assign({},f)};if(e.add(r[2],0,[["enter",c,t]]),n!==2){const p=t.events[r[2]],d=t.events[r[3]];if(p[1].end=Object.assign({},d[1].end),p[1].type="chunkText",p[1].contentType="text",r[3]>r[2]+1){const m=r[2]+1,v=r[3]-r[2]-1;e.add(m,v,[])}}e.add(r[3]+1,0,[["exit",c,t]])}return a!==void 0&&(i.end=Object.assign({},In(t.events,a)),e.add(a,0,[["exit",i,t]]),i=void 0),i}function Pm(e,t,r,n,a){const i=[],o=In(t.events,r);a&&(a.end=Object.assign({},o),i.push(["exit",a,t])),n.end=Object.assign({},o),i.push(["exit",n,t]),e.add(r+1,0,i)}function In(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const jM={name:"tasklistCheck",tokenize:HM};function BM(){return{text:{91:jM}}}function HM(e,t,r){const n=this;return a;function a(l){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(l):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),i)}function i(l){return de(l)?(e.enter("taskListCheckValueUnchecked"),e.consume(l),e.exit("taskListCheckValueUnchecked"),o):l===88||l===120?(e.enter("taskListCheckValueChecked"),e.consume(l),e.exit("taskListCheckValueChecked"),o):r(l)}function o(l){return l===93?(e.enter("taskListCheckMarker"),e.consume(l),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),s):r(l)}function s(l){return V(l)?t(l):te(l)?e.check({tokenize:WM},t,r)(l):r(l)}}function WM(e,t,r){return oe(e,n,"whitespace");function n(a){return a===null?r(a):t(a)}}function VM(e){return Kw([hM(),PM(),OM(e),RM(),BM()])}const GM={};function $M(e){const t=this,r=e||GM,n=t.data(),a=n.micromarkExtensions||(n.micromarkExtensions=[]),i=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),o=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);a.push(VM(r)),i.push(fM()),o.push(dM(r))}const qM={code({inline:e,children:t,...r}){return e?b.jsx("code",{className:"bg-base-200 rounded px-1 py-[2px] text-sm",...r,children:t}):b.jsx("pre",{className:"bg-base-200 rounded p-3 overflow-x-auto whitespace-pre-wrap",children:b.jsx("code",{className:"text-sm",...r,children:t})})},a({href:e,children:t,...r}){return b.jsx("a",{href:e,className:"link",target:"_blank",rel:"noreferrer",...r,children:t})}};function Em({content:e}){return b.jsx(TF,{className:"chat-markdown",remarkPlugins:[$M,HF],components:qM,skipHtml:!0,children:e})}const QM=()=>({success:!0,t_start_ms:0,t_load_ms:0,t_p_eval_ms:0,t_eval_ms:0,n_p_eval:0,n_eval:0,n_reused:0});function YM(){const[e,t]=Z.useState(""),[r,n]=Z.useState(QM()),[a,i]=Z.useState(null),[o,s]=Z.useState(!1),{currentConvId:l,isGenerating:u,createCompletion:f,navigateTo:c,loadedModel:p,getWllamaInstance:d,stopCompletion:m}=Yr(),{getConversationById:v,addMessageToConversation:E,editMessageInConversation:h,newConversation:w}=Wg();Zk(KM,500,u,!0);const y=v(l),F=async()=>{s(!0),i(null);try{n(await d().getPerfContext())}catch(T){i((T==null?void 0:T.message)??"Failed to fetch perf data")}finally{s(!1)}},C=async()=>{if(p){s(!0),i(null);try{await d().resetPerfContext(),n(await d().getPerfContext())}catch(T){i((T==null?void 0:T.message)??"Failed to reset perf data")}finally{s(!1)}}},S=(T,j)=>j<=0?"0.0":(T/(j/1e3)).toFixed(1),I=async()=>{if(u)return;const T=(y==null?void 0:y.messages)??[],j=e;t("");const x={id:Date.now(),content:j,role:"user"},L={id:Date.now()+1,content:"",role:"assistant"};let R=y==null?void 0:y.id;if(R?(E(R,x),E(R,L)):(R=w(x).id,c(Pe.CHAT,R),E(R,L)),!p)throw new Error("loadedModel is null");let Q;try{Q=await qb(d(),[...T,x])}catch(K){throw alert(`Error while formatting chat: ${(K==null?void 0:K.message)??"unknown"}`),K}console.log({formattedChat:Q}),await f(Q,K=>{h(R,L.id,K)}),await F()};return b.jsxs(Ss,{fitScreen:!0,children:[b.jsxs("div",{className:"chat-messages grow overflow-auto",id:"chat-history",children:[b.jsx("div",{className:"h-10"}),y?b.jsx(b.Fragment,{children:y.messages.map(T=>T.role==="user"?b.jsx("div",{className:"chat chat-end",children:b.jsx("div",{className:"chat-bubble",children:T.content.length>0&&b.jsx(Em,{content:T.content})})},T.id):b.jsx("div",{className:"chat chat-start",children:b.jsxs("div",{className:"chat-bubble bg-base-100 text-base-content",children:[T.content.length===0&&u&&b.jsx("span",{className:"loading loading-dots"}),T.content.length>0&&b.jsx(Em,{content:T.content})]})},T.id))}):b.jsx("div",{className:"pt-24 text-center text-xl",children:"Ask me something "})]}),b.jsxs("div",{className:"flex flex-col input-message py-4",children:[u&&b.jsx("div",{className:"text-center",children:b.jsxs("button",{className:"btn btn-outline btn-sm mb-4",onClick:m,children:[b.jsx(mt,{icon:$k}),"Stop generation"]})}),p&&b.jsxs(b.Fragment,{children:[b.jsx("textarea",{className:"textarea textarea-bordered w-full",placeholder:"Your message...",disabled:u,value:e,onChange:T=>t(T.target.value),onKeyDown:T=>{T.keyCode==13&&T.shiftKey==!1&&(T.preventDefault(),I())}}),b.jsx("div",{className:"mt-3 text-xs",children:b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{children:[a&&b.jsxs("div",{className:"text-error",children:["Error: ",a]}),!a&&b.jsxs("div",{children:["Prefill:"," ",S(r.n_p_eval,r.t_p_eval_ms)," ","tok/s, Decode:"," ",S(r.n_eval,r.t_eval_ms)," ","tok/s"]})]}),b.jsx("button",{className:"btn btn-xs btn-outline",disabled:o||u,onClick:C,children:"Reset"})]})})]}),!p&&b.jsx(JM,{}),b.jsx("small",{className:"text-center mx-auto opacity-70 pt-2",children:"wllama may generate inaccurate information. Use with your own risk."})]})]})}function JM(){const{navigateTo:e}=Yr();return b.jsxs("div",{role:"alert",className:"alert",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 shrink-0 stroke-current",fill:"none",viewBox:"0 0 24 24",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),b.jsx("span",{children:"Model is not loaded"}),b.jsx("div",{children:b.jsx("button",{className:"btn btn-sm btn-primary",onClick:()=>e(Pe.MODEL),children:"Select model"})})]})}const KM=()=>{const e=document.getElementById("chat-history");e==null||e.scrollTo({top:e.scrollHeight,behavior:"smooth"})};function XM(){const{navigateTo:e}=Yr();return b.jsx(Ss,{children:b.jsxs("div",{className:"guide-text pt-16",children:[b.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Wllama "}),b.jsxs("div",{className:"mb-3",children:["Wllama is a project based on"," ",b.jsx("a",{href:"https://github.com/ggerganov/llama.cpp",target:"_blank",rel:"noopener",children:"llama.cpp"}),". It enables running LLM inference directly on browser by leveraging the power of ",b.jsx("b",{children:"WebAssembly"}),". It accepts GGUF as model format."]}),b.jsxs("div",{className:"mb-3",children:["Please note that:",b.jsxs("ul",{children:[b.jsx("li",{children:"Due to WebAssembly overhead, performance will not be as good as running llama.cpp in native. Performance degradation can range from 25% to 50%."}),b.jsxs("li",{children:["Due to memory constraint of WebAssembly and emscripten, models larger than 2GB will need to be split."," ",b.jsx("a",{href:"https://github.com/ngxson/wllama?tab=readme-ov-file#split-model",target:"_blank",rel:"noopener",children:"Click here to learn more"})]}),b.jsx("li",{children:"Large model may not fit into RAM, (again) due to memory constraint of WebAssembly."}),b.jsx("li",{children:"Running on smartphone maybe buggy."}),b.jsxs("li",{children:[b.jsx("b",{children:"WebGPU is not supported"}),". We're still working hard to add support for WebGPU."]})]})]}),b.jsxs("div",{className:"mb-3",children:["To get started, go to"," ",b.jsx("button",{className:"btn btn-sm btn-primary btn-outline",onClick:()=>e(Pe.MODEL),children:"Manage models"})," ","page to select a model."]}),b.jsx("h1",{className:"text-xl font-bold mb-4 mt-6",children:"Reporting bugs"}),b.jsxs("div",{className:"mb-3",children:["Wllama is in development and many bugs are expected to happen. If you find a bug, please"," ",b.jsx("a",{href:"https://github.com/ngxson/wllama/issues",target:"_blank",rel:"noopener",children:"open a issue"})," ","with log copied from"," ",b.jsx("button",{className:"btn btn-sm btn-primary btn-outline",onClick:()=>e(Pe.LOG),children:"Debug log"})]})]})})}function ZM(e){return e.split(`
`).map((t,r)=>b.jsxs(rs.Fragment,{children:[t,b.jsx("br",{})]},r))}function eA(){return b.jsx(Ss,{children:b.jsxs("div",{className:"debug-log-screen pt-8",children:[b.jsx("h1",{className:"text-2xl mb-4",children:"Debug log"}),b.jsxs("div",{className:"font-mono bg-base-200 p-2 rounded-lg text-sm mb-16",children:[Et.content.length===0&&b.jsx("span",{children:"(Log is empty. Please firstly load a model)"}),Et.content.map((e,t)=>b.jsxs(rs.Fragment,{children:[ZM(e),b.jsx("br",{})]},t))]})]})})}function tA(){const[e,t]=Z.useState(!1),{models:r,removeCachedModel:n,isLoadingModel:a,isDownloading:i,loadedModel:o,currParams:s,setParams:l}=Yr(),u=!!(o||i||a),f=c=>p=>{l({...s,[c]:parseFloat(p.target.value||-1)})};return b.jsxs(Ss,{children:[b.jsxs("div",{className:"inference-params pt-8",children:[b.jsx("h1",{className:"text-2xl mb-4",children:"Inference parameters"}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["# threads",b.jsx("input",{type:"number",className:"grow",placeholder:"(auto detected)",min:"1",max:"100",step:"1",onChange:f("nThreads"),value:s.nThreads<1?"":s.nThreads,disabled:u})]}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["Context size",b.jsx("input",{type:"number",className:"grow",min:"128",step:"1",onChange:f("nContext"),value:s.nContext,disabled:u})]}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["Max generated tokens",b.jsx("input",{type:"number",className:"grow",min:"10",step:"1",onChange:f("nPredict"),value:s.nPredict})]}),b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["Temperature",b.jsx("input",{type:"number",className:"grow",min:"0.0",step:"0.05",onChange:f("temperature"),value:s.temperature})]}),b.jsx("button",{className:"btn btn-sm mr-2",onClick:()=>l(Bg),children:"Reset params"}),b.jsx("button",{className:"btn btn-sm mr-2",onClick:async()=>{if(confirm("This will remove all downloaded model files from cache. Continue?"))for(const c of r)await n(c)},disabled:u,children:"Clear cache"})]}),b.jsxs("div",{className:"model-management",children:[b.jsxs("h1",{className:"text-2xl mt-6 mb-4",children:["Custom models",b.jsx("button",{className:"btn btn-primary btn-outline btn-sm ml-6",onClick:()=>t(!0),children:"+ Add GGUF"})]}),r.filter(c=>c.isUserAdded).map(c=>b.jsx(Fm,{model:c,blockModelBtn:u},c.url))]}),b.jsxs("div",{className:"model-management",children:[b.jsx("h1",{className:"text-2xl mt-6 mb-4",children:"Recommended models"}),r.filter(c=>!c.isUserAdded).map(c=>b.jsx(Fm,{model:c,blockModelBtn:u},c.url))]}),b.jsx("div",{className:"h-10"}),e&&b.jsx(rA,{onClose:()=>t(!1)})]})}function rA({onClose:e}){const{isLoadingModel:t,addCustomModel:r}=Yr(),[n,a]=Z.useState(""),[i,o]=Z.useState(""),[s,l]=Z.useState([]),[u,f]=Z.useState(new AbortController),[c,p]=Z.useState();Yb(async()=>{if(n.length<2){l([]);return}try{const v=await(await fetch(`https://huggingface.co/api/models/${n}`,{signal:u.signal})).json();v.siblings?(l(v.siblings.map(E=>E.rfilename).filter(E=>qc(E))),p("")):(p("no model found or it is private"),l([]))}catch(m){m.name!=="AbortError"&&(p((m==null?void 0:m.message)??"unknown error"),l([]))}},[n],500),Z.useEffect(()=>{s.length===0&&o("")},[s]);const d=async()=>{try{await r(`https://huggingface.co/${n}/resolve/main/${i}`),e()}catch(m){p((m==null?void 0:m.message)??"unknown error")}};return b.jsx("dialog",{className:"modal modal-open",children:b.jsxs("div",{className:"modal-box",children:[b.jsx("h3",{className:"font-bold text-lg",children:"Add custom GGUF"}),b.jsxs("div",{className:"mt-4",children:["Max GGUF file size is 2GB. If your model is bigger than 2GB, please"," ",b.jsx("a",{href:"https://github.com/ngxson/wllama?tab=readme-ov-file#split-model",target:"_blank",rel:"noopener",className:"text-primary",children:"follow this guide"})," ","to split it into smaller shards."]}),b.jsxs("div",{className:"mt-4",children:[b.jsxs("label",{className:"input input-bordered flex items-center gap-2 mb-2",children:["HF repo",b.jsx("input",{type:"text",className:"grow",placeholder:"{username}/{repo}",value:n,onChange:m=>{u.abort(),a(m.target.value),f(new AbortController)}})]}),b.jsxs("select",{className:"select select-bordered w-full",onChange:m=>o(m.target.value),children:[b.jsx("option",{value:"",children:"Select a model file"}),s.map(m=>b.jsx("option",{value:m,children:m},m))]})]}),c&&b.jsxs("div",{className:"mt-4 text-error",children:["Error: ",c]}),b.jsxs("div",{className:"modal-action",children:[b.jsxs("button",{className:"btn btn-primary",disabled:t||n.length<2||i.length<5,onClick:d,children:[t&&b.jsx("span",{className:"loading loading-spinner"}),"Add model"]}),b.jsx("button",{className:"btn",disabled:t,onClick:e,children:"Close"})]})]})})}function Fm({model:e,blockModelBtn:t}){const{downloadModel:r,removeCachedModel:n,loadModel:a,unloadModel:i,removeCustomModel:o,currRuntimeInfo:s,navigateTo:l}=Yr(),u=e,f=parseInt(Math.round(u.downloadPercent*100).toString());return b.jsx("div",{className:`card bg-base-100 w-full mb-2 ${u.state===Ue.LOADED?"border-2 border-primary":""}`,children:b.jsxs("div",{className:"card-body p-4 flex flex-row",children:[b.jsxs("div",{className:"grow",children:[b.jsx("b",{children:u.hfPath.replace(/-\d{5}-of-\d{5}/,"-(shards)")}),b.jsx("br",{}),b.jsxs("small",{children:["HF repo: ",u.hfModel,b.jsx("br",{}),"Size: ",Qb(u.size),u.size>jg&&b.jsx("div",{className:"tooltip tooltip-right","data-tip":"Big model size, may not be able to load due to RAM limitation",children:b.jsx("span",{className:"text-yellow-300 ml-2",children:b.jsx(mt,{icon:Jk})})}),u.state==Ue.DOWNLOADING?` - Downloaded: ${f}%`:""]}),u.state===Ue.LOADED&&s&&b.jsxs(b.Fragment,{children:[b.jsx("br",{}),b.jsx(Pl,{text:"Multithread",on:s.isMultithread}),"",b.jsx(Pl,{text:"WebGPU",on:s.usingWebGPU}),"",b.jsx(Pl,{text:"Chat template",on:s.hasChatTemplate})]}),u.state===Ue.DOWNLOADING&&b.jsx("div",{children:b.jsx("progress",{className:"progress progress-primary w-full",value:f,max:"100"})}),u.state===Ue.LOADING&&b.jsx("div",{children:b.jsx("progress",{className:"progress progress-primary w-full"})})]}),b.jsxs("div",{children:[u.state===Ue.NOT_DOWNLOADED&&b.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:()=>r(u),disabled:t,children:"Download"}),u.state===Ue.READY&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:()=>a(u),disabled:t,children:"Load model"}),b.jsx("button",{className:"btn btn-outline btn-error btn-sm mr-2",onClick:()=>{confirm("Are you sure to remove this model from cache?")&&n(u)},disabled:t,children:b.jsx(mt,{icon:Uw})})]}),u.state===Ue.LOADED&&b.jsxs(b.Fragment,{children:[b.jsx("button",{className:"btn btn-primary btn-sm mr-2",onClick:()=>l(Pe.CHAT),children:"Start chat"}),b.jsx("button",{className:"btn btn-outline btn-primary btn-sm mr-2",onClick:()=>i(),children:"Unload"})]}),u.state===Ue.NOT_DOWNLOADED&&u.isUserAdded&&b.jsx("button",{className:"btn btn-outline btn-error btn-sm mr-2",onClick:()=>{confirm("Are you sure to remove this model from the list?")&&o(u)},disabled:t,children:b.jsx(mt,{icon:Lw})}),u.state==Ue.DOWNLOADING&&b.jsx("span",{className:"loading loading-spinner"})]})]})},u.url)}function Pl({text:e,on:t}){return b.jsxs(b.Fragment,{children:[t?b.jsx("span",{className:"text-green-300",children:b.jsx(mt,{icon:Qk})}):b.jsx("span",{className:"text-red-400",children:b.jsx(mt,{icon:Lw})}),b.jsxs("span",{className:"text-sm",children:["",e]})]})}function nA(){return b.jsxs("div",{className:"navbar bg-base-100 shadow-md z-40",children:[b.jsx("div",{className:"flex-none",children:b.jsx("label",{htmlFor:"my-drawer-2",className:"btn btn-square btn-ghost flex lg:hidden",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"inline-block h-5 w-5 stroke-current",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})})}),b.jsx("a",{className:"btn btn-ghost text-xl",children:"wllama"})]})}function aA({children:e}){const{currentConvId:t,navigateTo:r,currScreen:n,loadedModel:a}=Yr(),{conversations:i,getConversationById:o,deleteConversation:s}=Wg(),l=o(t);return b.jsxs(b.Fragment,{children:[b.jsx("input",{id:"my-drawer-2",type:"checkbox",className:"drawer-toggle"}),b.jsxs("div",{className:"drawer-side h-screen lg:h-[calc(100vh-4rem)] z-50",children:[b.jsx("label",{htmlFor:"my-drawer-2","aria-label":"close sidebar",className:"drawer-overlay block lg:hidden"}),b.jsxs("div",{className:"h-screen lg:max-h-[calc(100vh-4rem)] flex flex-col text-base-content bg-base-200",children:[b.jsx("div",{className:"grow w-80 overflow-auto p-4",children:b.jsxs("ul",{className:"menu gap-1 overflow-x-hidden",children:[b.jsx("li",{onClick:()=>r(Pe.CHAT),children:b.jsx("a",{className:!l&&n===Pe.CHAT?"active":"",children:"+ New conversation"})}),i.map(u=>{var f;return b.jsxs("li",{onClick:()=>r(Pe.CHAT,u.id),className:"group flex flex-row",children:[b.jsx("a",{className:`${u.id===t?"active":""} flex-1 min-w-0`,children:b.jsx("div",{className:"truncate",children:(f=u.messages[0])==null?void 0:f.content})}),b.jsx("span",{className:"text-right hidden group-hover:inline",children:b.jsx(mt,{icon:Uw,onClick:c=>{c.preventDefault(),confirm("Are you sure to delete this conversation?")&&(r(Pe.CHAT),s(u.id))}})})]},u.id)})]})}),b.jsxs("div",{className:"w-80 px-4 pt-0 pb-8",children:[b.jsx("div",{className:"divider my-2"}),a&&b.jsxs("div",{className:"text-sm px-4 pb-2",children:["Model: ",a.hfModel]}),b.jsxs("ul",{className:"menu gap-1",children:[b.jsx("li",{onClick:()=>r(Pe.GUIDE),children:b.jsxs("a",{className:n===Pe.GUIDE?"active":"",children:[b.jsx(mt,{icon:Gk})," Guide"]})}),b.jsx("li",{onClick:()=>r(Pe.MODEL),children:b.jsxs("a",{className:n===Pe.MODEL?"active":"",children:[b.jsx(mt,{icon:Kk})," Manage models"]})}),b.jsx("li",{onClick:()=>r(Pe.LOG),children:b.jsxs("a",{className:n===Pe.LOG?"active":"",children:[b.jsx(mt,{icon:qk})," Debug log"]})}),b.jsx("li",{children:b.jsxs("a",{href:"https://github.com/ngxson/wllama",target:"_blank",rel:"noopener",children:[b.jsx(mt,{icon:Wk})," Github"]})})]}),b.jsxs("div",{className:"text-xs pl-6 pt-2",children:["Version ",Bb]})]})]})]}),b.jsx("div",{className:"drawer-content grow",children:e})]})}const iA="https://raw.githubusercontent.com/wangfin/QAsystem/refs/heads/master/QAManagement/language_model/data/wikitext-2/valid.txt",Wy=["https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q8_0.gguf","https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_0.gguf","https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q4_K_M.gguf","https://huggingface.co/bartowski/Llama-3.2-1B-Instruct-GGUF/resolve/main/Llama-3.2-1B-Instruct-Q5_K_L.gguf"],oA=4,sA=[{type:"pp",n_samples:32},{type:"pp",n_samples:64},{type:"pp",n_samples:128},{type:"pp",n_samples:256},{type:"tg",n_samples:32},{type:"tg",n_samples:64},{type:"tg",n_samples:128},{type:"tg",n_samples:256}];async function Vy(e){const t=e.split("/").pop(),r=new Yc(Gc);return await r.loadModelFromUrl(e,{n_batch:512,n_ctx:4096,progressCallback:({total:n,loaded:a})=>{console.log(`Model ${t}: ${Math.round(100*a/n)}%`)}}),{wllama:r,modelFile:t}}async function lA(){const e=[["model","threads","test","t/s"],["---","---","---","---"]];for(const r of Wy){const[{wllama:n,modelFile:a}]=await Promise.all([Vy(r),Vb(1e4)]);console.clear();const i=n.getNumThreads();for(const o of sA){const{type:s,n_samples:l}=o,u=[];for(let p=0;p<oA;p++){console.log("Running",a,o);const{t_ms:d}=await n._testBenchmark(s,l),m=l/(d/1e3);u.push(m),console.log("Run ",p,"pref:",m,"t/s")}const f=u.reduce((p,d)=>p+d,0)/u.length,c=Math.abs(Math.max(...u)-Math.min(...u));e.push([a,i,`${s} ${l}`,`${f.toFixed(2)}  ${c.toFixed(2)}`])}n.exit()}console.table(e);const t=e.map(r=>"| "+r.join(" | ")+" |").join(`
`);console.log(t)}async function uA(){const e=[["model","PPL","n_tokens"],["---","---","---"]],r=await fetch(iA).then(a=>a.text());console.log("Loaded wikitext:",r.substring(0,100),"...");for(const a of Wy){const{wllama:i,modelFile:o}=await Vy(a);console.clear();let s=await i.tokenize(r.substring(0,2048*16));s=s.slice(0,2048),console.log("Running",o,"n_tokens",s.length);const{ppl:l}=await i._testPerplexity(s);console.log("PPL:",l),e.push([o,l,s.length]),i.exit()}console.table(e);const n=e.map(a=>"| "+a.join(" | ")+" |").join(`
`);console.log(n)}window.__benchmark=lA;window.__perplexity=uA;function cA(){return b.jsx(Jb,{children:b.jsx(R1,{children:b.jsx(fA,{})})})}function fA(){const{currScreen:e}=Yr();return b.jsxs("div",{className:"flex flex-col drawer h-screen w-screen overflow-hidden",children:[b.jsx(nA,{}),b.jsx("div",{className:"grow flex flex-row lg:drawer-open h-[calc(100vh-4rem)]",children:b.jsxs(aA,{children:[e===Pe.MODEL&&b.jsx(tA,{}),e===Pe.CHAT&&b.jsx(YM,{}),e===Pe.GUIDE&&b.jsx(XM,{}),e===Pe.LOG&&b.jsx(eA,{})]})})]})}El.createRoot(document.getElementById("root")).render(b.jsx(cA,{}));
